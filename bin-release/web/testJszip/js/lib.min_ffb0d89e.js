var __reflect=this&&this.__reflect||function(t,e,r){t.__class__=e,r?r.push(e):r=[e],t.__types__=t.__types__?r.concat(t.__types__):r},__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);r.prototype=e.prototype,t.prototype=new r},__decorate=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,s=3>o?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(3>o?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},RES;!function(t){t.checkNull=function(t,e,r){var n=r.value;r.value=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t[0]?n.apply(this,t):(console.warn("方法"+e+"的参数不能为null"),null)}},t.FEATURE_FLAG={FIX_DUPLICATE_LOAD:1};var e;!function(t){function e(t){r=t}var r="warning";t.setUpgradeGuideLevel=e}(e=t.upgrade||(t.upgrade={}))}(RES||(RES={}));var RES;!function(t){function e(e){var r=t.config.config.fileSystem.getFile(e);return r||(e=t.resourceNameSelector(e),r=t.config.config.fileSystem.getFile(e)),r}function r(t,e){var r;r=t.indexOf(".json")>=0?"legacyResourceConfig":"resourceConfig",n={type:r,root:e,url:t,name:t}}t.resourceNameSelector=function(t){return t},t.getResourceInfo=e;var n;t.setConfigURL=r;var i=function(){function r(){}return r.prototype.init=function(){return this.config||(this.config={alias:{},groups:{},resourceRoot:n.root,mergeSelector:null,fileSystem:null,loadGroup:[]}),t.queue.pushResItem(n)["catch"](function(e){return t.isCompatible||e.__resource_manager_error__||(e.error?console.error(e.error.stack):console.error(e.stack),e=new t.ResourceManagerError(1002)),t.host.remove(n),Promise.reject(e)})},r.prototype.getGroupByName=function(e){var r=this.config.groups[e],n=[];if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=o[i],a=void 0;if(a=t.config.getResourceWithSubkey(s),null!=a){var u=a.r,c=a.key;if(null==u)throw new t.ResourceManagerError(2005,c);-1==n.indexOf(u)&&n.push(u)}}return n},r.prototype.__temp__get__type__via__url=function(e){var r=this.config.alias[e];if(r||(r=e),t.typeSelector){var n=t.typeSelector(r);if(!n)throw new t.ResourceManagerError(2004,r);return n}return console.warn("RES.mapConfig 并未设置 typeSelector"),"unknown"},r.prototype.getResourceWithSubkey=function(t){t=this.getKeyByAlias(t);var e=t.indexOf("#"),r="";e>=0&&(r=t.substr(e+1),t=t.substr(0,e));var n=this.getResource(t);return n?{r:n,key:t,subkey:r}:null},r.prototype.getKeyByAlias=function(t){return this.config.alias[t]?this.config.alias[t]:t},r.prototype.getResource=function(t){var r=this.config.alias[t];r||(r=t);var n=e(r);return n?n:null},r.prototype.createGroup=function(t,e,r){if(void 0===r&&(r=!1),!r&&this.config.groups[t]||!e||0==e.length)return!1;for(var n=[],i=0,o=e;i<o.length;i++){var s=o[i];if(this.config.groups[s]){var a=this.config.groups[s];n=n.concat(a)}else n.push(s)}return this.config.groups[t]=n,!0},r.prototype.addSubkey=function(t,e){this.addAlias(t,e+"#"+t)},r.prototype.addAlias=function(t,e){this.config.alias[e]&&(e=this.config.alias[e]),this.config.alias[t]=e},r.prototype.addResourceData=function(e){t.hasRes(e.name)||(e.type||(e.type=this.__temp__get__type__via__url(e.url)),t.config.config.fileSystem.addFile(e))},r.prototype.removeResourceData=function(e){t.hasRes(e.name)&&(t.config.config.fileSystem.removeFile(e.url),this.config.alias[e.name]&&delete this.config.alias[e.name])},r}();t.ResourceConfig=i,__reflect(i.prototype,"RES.ResourceConfig")}(RES||(RES={}));var RES;!function(t){var e=function(){function e(){this.groupTotalDic={},this.numLoadedDic={},this.groupErrorDic={},this.retryTimesDic={},this.maxRetryTimes=3,this.reporterDic={},this.dispatcherDic={},this.failedList=new Array,this.loadItemErrorDic={},this.errorDic={},this.itemListPriorityDic={},this.itemLoadDic={},this.promiseHash={},this.lazyLoadList=new Array,this.loadingCount=0,this.thread=4}return e.prototype.pushResItem=function(t){if(this.promiseHash[t.root+t.name])return this.promiseHash[t.root+t.name];this.lazyLoadList.push(t),this.itemListPriorityDic[Number.NEGATIVE_INFINITY]=this.lazyLoadList,this.updatelistPriority(this.lazyLoadList,Number.NEGATIVE_INFINITY);var e=new egret.EventDispatcher;this.dispatcherDic[t.root+t.name]=e;var r=new Promise(function(t,r){e.addEventListener("complete",function(e){t(e.data)},null),e.addEventListener("error",function(t){r(t.data)},null)});return this.promiseHash[t.root+t.name]=r,this.loadNextResource(),r},e.prototype.pushResGroup=function(t,e,r,n){if(this.promiseHash[e])return this.promiseHash[e];for(var i=t.length,o=0;i>o;o++){var s=t[o];s.groupNames||(s.groupNames=[]),s.groupNames.push(e)}this.groupTotalDic[e]=t.length,this.numLoadedDic[e]=0,this.updatelistPriority(t,r),this.reporterDic[e]=n;var a=new egret.EventDispatcher;this.dispatcherDic[e]=a;var u=new Promise(function(t,e){a.addEventListener("complete",t,null),a.addEventListener("error",function(t){e(t.data)},null)});return this.promiseHash[e]=u,this.loadNextResource(),u},e.prototype.updatelistPriority=function(t,e){void 0==this.itemListPriorityDic[e]&&(this.itemListPriorityDic[e]=[]);for(var r=0,n=t;r<n.length;r++){var i=n[r];if(1!=this.itemLoadDic[i.root+i.name]){var o=this.findPriorityInDic(i);if(void 0==o)this.itemListPriorityDic[e].push(i);else if(e>o){this.itemListPriorityDic[e].push(i);var s=this.itemListPriorityDic[o].indexOf(i);this.itemListPriorityDic[o].splice(s,1)}}}},e.prototype.findPriorityInDic=function(t){for(var e in this.itemListPriorityDic)if(this.itemListPriorityDic[e].indexOf(t)>-1)return parseInt(e)},e.prototype.loadNextResource=function(){for(;this.loadingCount<this.thread;){var t=this.loadSingleResource();if(!t)break}},e.prototype.loadSingleResource=function(){var e=this,r=this.getOneResourceInfoInGroup();return r?(this.itemLoadDic[r.root+r.name]=1,this.loadingCount++,this.loadResource(r).then(function(n){if(e.loadingCount--,delete e.itemLoadDic[r.root+r.name],t.host.save(r,n),e.promiseHash[r.root+r.name]){var i=e.deleteDispatcher(r.root+r.name);i.dispatchEventWith("complete",!1,n)}var o=r.groupNames;if(o){delete r.groupNames;for(var s=0,a=o;s<a.length;s++){var u=a[s];e.setGroupProgress(u,r)&&e.loadGroupEnd(u)}}e.loadNextResource()})["catch"](function(n){if(!n)throw r.name+" load fail";if(!n.__resource_manager_error__)throw n;delete e.itemLoadDic[r.root+r.name],e.loadingCount--,delete t.host.state[r.root+r.name];var i=e.retryTimesDic[r.name]||1;if(!(i>e.maxRetryTimes))return e.retryTimesDic[r.name]=i+1,e.failedList.push(r),void e.loadNextResource();if(delete e.retryTimesDic[r.name],e.promiseHash[r.root+r.name]){var o=e.deleteDispatcher(r.root+r.name);o.dispatchEventWith("error",!1,{r:r,error:n})}var s=r.groupNames;if(s){delete r.groupNames;for(var a=0,u=s;a<u.length;a++){var c=u[a];e.loadItemErrorDic[c]||(e.loadItemErrorDic[c]=[]),-1==e.loadItemErrorDic[c].indexOf(r)&&e.loadItemErrorDic[c].push(r),e.groupErrorDic[c]=!0,e.setGroupProgress(c,r)?e.loadGroupEnd(c,n):e.errorDic[c]=n}}e.loadNextResource()}),!0):!1},e.prototype.getOneResourceInfoInGroup=function(){if(this.failedList.length>0)return this.failedList.shift();var t=Number.NEGATIVE_INFINITY;for(var e in this.itemListPriorityDic)t=Math.max(t,e);var r=this.itemListPriorityDic[t];return r?0==r.length?(delete this.itemListPriorityDic[t],this.getOneResourceInfoInGroup()):r.shift():void 0},e.prototype.setGroupProgress=function(t,e){var r=this.reporterDic[t];this.numLoadedDic[t]++;var n=this.numLoadedDic[t],i=this.groupTotalDic[t];return r&&r.onProgress&&r.onProgress(n,i,e),n==i},e.prototype.loadGroupEnd=function(t,e){delete this.groupTotalDic[t],delete this.numLoadedDic[t],delete this.reporterDic[t];var r=this.deleteDispatcher(t);if(e){delete this.groupErrorDic[t];var n=this.loadItemErrorDic[t];delete this.loadItemErrorDic[t],r.dispatchEventWith("error",!1,{itemList:n,lastError:e})}else{var i=this.groupErrorDic[t];if(delete this.groupErrorDic[t],i){var n=this.loadItemErrorDic[t];delete this.loadItemErrorDic[t];var o=this.errorDic[t];delete this.errorDic[t],r.dispatchEventWith("error",!1,{itemList:n,error:o})}else r.dispatchEventWith("complete")}},e.prototype.deleteDispatcher=function(t){delete this.promiseHash[t];var e=this.dispatcherDic[t];return delete this.dispatcherDic[t],e},e.prototype.loadResource=function(e,r){if(!r){if(1==t.FEATURE_FLAG.FIX_DUPLICATE_LOAD){var n=t.host.state[e.root+e.name];if(2==n)return Promise.resolve(t.host.get(e));if(1==n)return e.promise}r=t.processor.isSupport(e)}if(!r)throw new t.ResourceManagerError(2001,e.name,e.type);t.host.state[e.root+e.name]=1;var i=r.onLoadStart(t.host,e);return e.promise=i,i},e.prototype.unloadResource=function(e){var r=t.host.get(e);if(!r)return console.warn("尝试释放不存在的资源:",e.name),!1;var n=t.processor.isSupport(e);return n?(n.onRemoveStart(t.host,e),t.host.remove(e),1==e.extra&&t.config.removeResourceData(e),!0):!0},e}();t.ResourceLoader=e,__reflect(e.prototype,"RES.ResourceLoader")}(RES||(RES={}));var RES;!function(t){}(RES||(RES={}));var RES;!function(t){var e;!function(t){function e(t){var e=t.split("/");return e.filter(function(t,r){return!!t||r==e.length-1}).join("/")}function r(t){return t.substr(t.lastIndexOf("/")+1)}function n(t){return t.substr(0,t.lastIndexOf("/"))}t.normalize=e,t.basename=r,t.dirname=n}(e=t.path||(t.path={}))}(RES||(RES={}));var RES;!function(t){function e(){t.config.config.fileSystem.profile(),console.log(r);var e=0;for(var n in r){var i=r[n];i instanceof egret.Texture&&(e+=i.$bitmapWidth*i.$bitmapHeight*4)}console.log("gpu size : "+(e/1024).toFixed(3)+"kb")}var r={};t.profile=e,t.host={state:{},get resourceConfig(){return t.config},load:function(e,r){var n="string"==typeof r?t.processor._map[r]:r;return t.queue.loadResource(e,n)},unload:function(e){return t.queue.unloadResource(e)},save:function(e,n){t.host.state[e.root+e.name]=2,delete e.promise,r[e.root+e.name]=n},get:function(t){return r[t.root+t.name]},remove:function(e){delete t.host.state[e.root+e.name],delete r[e.root+e.name]}},t.config=new t.ResourceConfig,t.queue=new t.ResourceLoader;var n=function(t){function e(r,n,i){var o=t.call(this)||this;return o.__resource_manager_error__=!0,o.name=r.toString(),o.message=e.errorMessage[r].replace("{0}",n).replace("{1}",i),o}return __extends(e,t),e.errorMessage={1001:"文件加载失败:{0}",1002:"ResourceManager 初始化失败：配置文件加载失败",2001:"{0}解析失败,不支持指定解析类型:'{1}'，请编写自定义 Processor ，更多内容请参见 https://github.com/egret-labs/resourcemanager/blob/master/docs/README.md#processor",2002:"Analyzer 相关API 在 ResourceManager 中不再支持，请编写自定义 Processor ，更多内容请参见 https://github.com/egret-labs/resourcemanager/blob/master/docs/README.md#processor",2003:"{0}解析失败,错误原因:{1}",2004:"无法找到文件类型:{0}",2005:'RES加载了不存在或空的资源组:"{0}"',2006:"资源配置文件中无法找到特定的资源:{0}"},e}(Error);t.ResourceManagerError=n,__reflect(n.prototype,"RES.ResourceManagerError")}(RES||(RES={}));var RES;!function(t){var e=function(){function e(t){this.data=t}return e.prototype.profile=function(){console.log(this.data)},e.prototype.addFile=function(e,r){r||(r=""),e=t.path.normalize(e);var n=t.path.basename(e),i=t.path.dirname(e);this.exists(i)||this.mkdir(i);var o=this.resolve(i);o[n]={url:e,type:r}},e.prototype.getFile=function(t){var e=this.resolve(t);return e&&(e.name=t),e},e.prototype.resolve=function(e){if(""==e)return this.data;e=t.path.normalize(e);for(var r=e.split("/"),n=this.data,i=0,o=r;i<o.length;i++){var s=o[i];if(!n)return n;n=n[s]}return n},e.prototype.mkdir=function(e){e=t.path.normalize(e);for(var r=e.split("/"),n=this.data,i=0,o=r;i<o.length;i++){var s=o[i];n[s]||(n[s]={}),n=n[s]}},e.prototype.exists=function(e){if(""==e)return!0;e=t.path.normalize(e);for(var r=e.split("/"),n=this.data,i=0,o=r;i<o.length;i++){var s=o[i];if(!n[s])return!1;n=n[s]}return!0},e}();t.NewFileSystem=e,__reflect(e.prototype,"RES.NewFileSystem")}(RES||(RES={}));var RES;!function(t){function e(e){return t.path.basename(e).split(".").join("_")}function r(e){var r,n=e.substr(e.lastIndexOf(".")+1);switch(n){case t.ResourceItem.TYPE_XML:case t.ResourceItem.TYPE_JSON:case t.ResourceItem.TYPE_SHEET:r=n;break;case"png":case"jpg":case"gif":case"jpeg":case"bmp":r=t.ResourceItem.TYPE_IMAGE;break;case"fnt":r=t.ResourceItem.TYPE_FONT;break;case"txt":r=t.ResourceItem.TYPE_TEXT;break;case"mp3":case"ogg":case"mpeg":case"wav":case"m4a":case"mp4":case"aiff":case"wma":case"mid":r=t.ResourceItem.TYPE_SOUND;break;case"mergeJson":case"zip":case"pvr":r=n;break;case"ttf":r=t.ResourceItem.TYPE_TTF;default:r=t.ResourceItem.TYPE_BIN}return r}function n(e,r){throw new t.ResourceManagerError(2002)}function i(e){t.isCompatible=e}function o(e,r){if(r.indexOf("://")>=0){var n=r.split("://");r=n[0]+"://"+t.path.normalize(n[1]+"/"),e=e.replace(r,"")}else r=t.path.normalize(r+"/"),e=e.replace(r,"");return t.setConfigURL(e,r),x||(x=new S),s(x.loadConfig())}function s(e){return t.isCompatible?void e["catch"](function(t){}).then():e}function a(t,e,r){return void 0===e&&(e=0),s(x.loadGroup(t,e,r))}function u(t){return x.isGroupLoaded(t)}function c(e){return x.getGroupByName(e).map(function(e){return t.ResourceItem.convertToResItem(e)})}function h(t,e,r){return void 0===r&&(r=!1),x.createGroup(t,e,r)}function l(t){return x.hasRes(t)}function f(t){return x.getRes(t)}function d(t,e,r){return s(x.getResAsync.apply(x,arguments))}function p(t,e,r,n){if(void 0===n&&(n=""),!x){var i=egret.sys.tr(3200);return egret.warn(i),Promise.reject(i)}return s(x.getResByUrl(t,e,r,n))}function _(t,e){return x.destroyRes(t,e)}function m(t){x||(x=new S),x.setMaxLoadingThread(t)}function g(t){x.setMaxRetryTimes(t)}function v(t,e,r,n,i){void 0===n&&(n=!1),void 0===i&&(i=0),x||(x=new S),x.addEventListener(t,e,r,n,i)}function y(t,e,r,n){void 0===n&&(n=!1),x.removeEventListener(t,e,r,n)}function b(t){x.addResourceData(t)}function w(){return x||(x=new S),x.vcs}function k(t){x||(x=new S),x.registerVersionController(t)}function E(t){return x.vcs?x.vcs.getVirtualUrl(t):t}t.nameSelector=e,t.typeSelector=r,t.registerAnalyzer=n,t.setIsCompatible=i,t.isCompatible=!1,t.loadConfig=o,t.loadGroup=a,t.isGroupLoaded=u,t.getGroupByName=c,t.createGroup=h,t.hasRes=l,t.getRes=f,t.getResAsync=d,t.getResByUrl=p,t.destroyRes=_,t.setMaxLoadingThread=m,t.setMaxRetryTimes=g,t.addEventListener=v,t.removeEventListener=y,t.$addResourceData=b,t.getVersionController=w,t.registerVersionController=k,t.getVirtualUrl=E;var S=function(e){function r(){var r=e.call(this)||this;return r.isVcsInit=!1,r.normalLoadConfig=function(){return t.config.init().then(function(e){t.ResourceEvent.dispatchResourceEvent(r,t.ResourceEvent.CONFIG_COMPLETE)},function(e){return t.ResourceEvent.dispatchResourceEvent(r,t.ResourceEvent.CONFIG_LOAD_ERROR),Promise.reject(e)})},t.VersionController&&(r.vcs=new t.VersionController),r}return __extends(r,e),r.prototype.registerVersionController=function(t){this.vcs=t,this.isVcsInit=!1},r.prototype.loadConfig=function(){var t=this;return!this.isVcsInit&&this.vcs?(this.isVcsInit=!0,this.vcs.init().then(function(){return t.normalLoadConfig()})):this.normalLoadConfig()},r.prototype.isGroupLoaded=function(e){var r=t.config.getGroupByName(e);return r.every(function(e){return null!=t.host.get(e)})},r.prototype.getGroupByName=function(e){return t.config.getGroupByName(e)},r.prototype.loadGroup=function(e,r,n){var i=this;void 0===r&&(r=0);var o={onProgress:function(r,o,s){n&&n.onProgress&&n.onProgress(r,o,s),t.ResourceEvent.dispatchResourceEvent(i,t.ResourceEvent.GROUP_PROGRESS,e,s,r,o)}};return this._loadGroup(e,r,o).then(function(r){-1==t.config.config.loadGroup.indexOf(e)&&t.config.config.loadGroup.push(e),t.ResourceEvent.dispatchResourceEvent(i,t.ResourceEvent.GROUP_COMPLETE,e)},function(r){if(-1==t.config.config.loadGroup.indexOf(e)&&t.config.config.loadGroup.push(e),r.itemList)for(var n=r.itemList,o=n.length,s=0;o>s;s++){var a=n[s];delete a.promise,t.ResourceEvent.dispatchResourceEvent(i,t.ResourceEvent.ITEM_LOAD_ERROR,e,a)}return t.isCompatible&&console.warn(r.error.message),t.ResourceEvent.dispatchResourceEvent(i,t.ResourceEvent.GROUP_LOAD_ERROR,e),Promise.reject(r.error)})},r.prototype._loadGroup=function(e,r,n){void 0===r&&(r=0);var i=t.config.getGroupByName(e);return 0==i.length?new Promise(function(r,n){n({error:new t.ResourceManagerError(2005,e)})}):t.queue.pushResGroup(i,e,r,n)},r.prototype.createGroup=function(e,r,n){return void 0===n&&(n=!1),t.config.createGroup(e,r,n)},r.prototype.hasRes=function(e){return null!=t.config.getResourceWithSubkey(e)},r.prototype.getRes=function(e){var r=t.config.getResourceWithSubkey(e);if(r){var n=r.r,i=r.key,o=r.subkey,s=t.processor.isSupport(n);return s&&s.getData&&o?s.getData(t.host,n,i,o):t.host.get(n)}return null},r.prototype.getResAsync=function(e,r,n){var i=this,o=e,s=t.config.getResourceWithSubkey(e);if(null==s)return r&&r.call(n,null,o),Promise.reject(new t.ResourceManagerError(2006,e));var a=this.getRes(e);if(a)return r&&egret.callLater(function(){r.call(n,a,o)},this),Promise.resolve(a);var u=s.r,c=s.subkey;return t.queue.pushResItem(u).then(function(i){t.host.save(u,i);var s=t.processor.isSupport(u);return s&&s.getData&&c&&(i=s.getData(t.host,u,e,c)),r&&r.call(n,i,o),i},function(e){return t.host.remove(u),t.ResourceEvent.dispatchResourceEvent(i,t.ResourceEvent.ITEM_LOAD_ERROR,"",u),r?(r.call(n,null,o),Promise.reject(null)):Promise.reject(e)})},r.prototype.getResByUrl=function(e,r,n,i){var o=this;void 0===i&&(i="");var s=t.config.getResource(e);if(!s&&(i||(i=t.config.__temp__get__type__via__url(e)),s={name:e,url:e,type:i,root:"",extra:1},t.config.addResourceData(s),s=t.config.getResource(e),!s))throw"never";return t.queue.pushResItem(s).then(function(e){return t.host.save(s,e),r&&s&&r.call(n,e,s.url),e},function(i){return t.host.remove(s),t.ResourceEvent.dispatchResourceEvent(o,t.ResourceEvent.ITEM_LOAD_ERROR,"",s),r?(r.call(n,null,e),Promise.reject(null)):Promise.reject(i)})},r.prototype.destroyRes=function(e,r){void 0===r&&(r=!0);var n=t.config.getGroupByName(e);if(n&&n.length>0){var i=t.config.config.loadGroup.indexOf(e);if(-1==i)return!1;if(r||1==t.config.config.loadGroup.length&&t.config.config.loadGroup[0]==e){for(var o=0,s=n;o<s.length;o++){var a=s[o];t.queue.unloadResource(a)}t.config.config.loadGroup.splice(i,1)}else{for(var u={},c=0,h=t.config.config.loadGroup;c<h.length;c++){var l=h[c];for(var f in t.config.config.groups[l]){var d=t.config.config.groups[l][f];u[d]?u[d]++:u[d]=1}}for(var p=0,_=n;p<_.length;p++){var a=_[p];u[a.name]&&1==u[a.name]&&t.queue.unloadResource(a)}t.config.config.loadGroup.splice(i,1)}return!0}var a=t.config.getResource(e);return a?t.queue.unloadResource(a):(console.warn("在内存"+e+"资源不存在"),!1)},r.prototype.setMaxLoadingThread=function(e){1>e&&(e=1),t.queue.thread=e},r.prototype.setMaxRetryTimes=function(e){e=Math.max(e,0),t.queue.maxRetryTimes=e},r.prototype.addResourceData=function(e){e.root="",t.config.addResourceData(e)},__decorate([t.checkNull],r.prototype,"hasRes",null),__decorate([t.checkNull],r.prototype,"getRes",null),__decorate([t.checkNull],r.prototype,"getResAsync",null),__decorate([t.checkNull],r.prototype,"getResByUrl",null),r}(egret.EventDispatcher);t.Resource=S,__reflect(S.prototype,"RES.Resource");var x}(RES||(RES={}));var RES;!function(t){var e=function(e){function r(t,r,n){void 0===r&&(r=!1),void 0===n&&(n=!1);var i=e.call(this,t,r,n)||this;return i.itemsLoaded=0,i.itemsTotal=0,i.groupName="",i}return __extends(r,e),r.dispatchResourceEvent=function(e,n,i,o,s,a){void 0===i&&(i=""),void 0===o&&(o=void 0),void 0===s&&(s=0),void 0===a&&(a=0);var u=egret.Event.create(r,n);u.groupName=i,o&&(u.resItem=t.ResourceItem.convertToResItem(o)),u.itemsLoaded=s,u.itemsTotal=a;var c=e.dispatchEvent(u);return egret.Event.release(u),c},r.ITEM_LOAD_ERROR="itemLoadError",r.CONFIG_COMPLETE="configComplete",r.CONFIG_LOAD_ERROR="configLoadError",r.GROUP_PROGRESS="groupProgress",r.GROUP_COMPLETE="groupComplete",r.GROUP_LOAD_ERROR="groupLoadError",r}(egret.Event);t.ResourceEvent=e,__reflect(e.prototype,"RES.ResourceEvent")}(RES||(RES={}));var RES;!function(t){var e;!function(e){function r(e){var r=e.name;if(t.config.config)for(var n in t.config.config.alias)t.config.config.alias[n]==e.url&&(r=n);else r=e.url;var i={name:r,url:e.url,type:e.type,data:e,root:e.root};return i}e.TYPE_XML="xml",e.TYPE_IMAGE="image",e.TYPE_BIN="bin",e.TYPE_TEXT="text",e.TYPE_JSON="json",e.TYPE_SHEET="sheet",e.TYPE_FONT="font",e.TYPE_SOUND="sound",e.TYPE_TTF="ttf",e.convertToResItem=r}(e=t.ResourceItem||(t.ResourceItem={}))}(RES||(RES={}));var RES;!function(t){var e=function(){function t(){}return t.prototype.init=function(){return this.versionInfo=this.getLocalData("all.manifest"),Promise.resolve()},t.prototype.getVirtualUrl=function(t){return t},t.prototype.getLocalData=function(t){if(egret_native.readUpdateFileSync&&egret_native.readResourceFileSync){var e=egret_native.readUpdateFileSync(t);if(null!=e)return JSON.parse(e);if(e=egret_native.readResourceFileSync(t),null!=e)return JSON.parse(e)}return null},t}();t.NativeVersionController=e,__reflect(e.prototype,"RES.NativeVersionController",["RES.IVersionController"]),egret.Capabilities.runtimeType==egret.RuntimeType.NATIVE&&(t.VersionController=e)}(RES||(RES={}));var RES;!function(t){var e;!function(e){function r(t){return e._map[t.type]}function n(t,r){e._map[t]=r}function i(e,r){var n=this;return new Promise(function(i,o){var s=function(){var t=e.data?e.data:e.response;i(t)},a=function(){var e=new t.ResourceManagerError(1001,r.url);o(e)};e.addEventListener(egret.Event.COMPLETE,s,n),e.addEventListener(egret.IOErrorEvent.IO_ERROR,a,n)})}function o(t,e){if(-1!=e.indexOf("://"))return e;t=t.split("\\").join("/");var r=t.match(/#.*|\?.*/),n="";r&&(n=r[0]);var i=t.lastIndexOf("/");return t=-1!=i?t.substring(0,i+1)+e:e,t+n}function s(t){return{name:t.name+"_alpha",url:t.etc1_alpha_url,type:"ktx",root:t.root}}e.isSupport=r,e.map=n,e.getRelativePath=o,e.ImageProcessor={onLoadStart:function(e,r){var n=new egret.ImageLoader;return n.load(t.getVirtualUrl(r.root+r.url)),i(n,r).then(function(t){var n=new egret.Texture;n._setBitmapData(t);var i=e.resourceConfig.getResource(r.name);if(i&&i.scale9grid){var o=i.scale9grid.split(",");n.scale9Grid=new egret.Rectangle(parseInt(o[0]),parseInt(o[1]),parseInt(o[2]),parseInt(o[3]))}return n})},onRemoveStart:function(t,e){var r=t.get(e);r.dispose()}},e.KTXTextureProcessor={onLoadStart:function(t,e){return t.load(e,"bin").then(function(r){if(!r)return console.error("ktx:"+e.root+e.url+" is null"),null;var n=new egret.KTXContainer(r,1);if(n.isInvalid)return console.error("ktx:"+e.root+e.url+" is invalid"),null;var i=new egret.BitmapData(r);i.debugCompressedTextureURL=e.root+e.url,i.format="ktx",n.uploadLevels(i,!1);var o=new egret.Texture;o._setBitmapData(i);var s=t.resourceConfig.getResource(e.name);if(s&&s.scale9grid){var a=s.scale9grid.split(",");o.scale9Grid=new egret.Rectangle(parseInt(a[0]),parseInt(a[1]),parseInt(a[2]),parseInt(a[3]))}return t.save(e,o),o},function(r){throw t.remove(e),r})},onRemoveStart:function(t,e){var r=t.get(e);r&&r.dispose()}},e.makeEtc1SeperatedAlphaResourceInfo=s,e.ETC1KTXProcessor={onLoadStart:function(t,e){return t.load(e,"ktx").then(function(r){if(!r)return null;if(e.etc1_alpha_url){var n=s(e);return t.load(n,"ktx").then(function(e){return r&&r.$bitmapData&&e.$bitmapData?(r.$bitmapData.etcAlphaMask=e.$bitmapData,t.save(n,e)):t.remove(n),r},function(e){throw t.remove(n),e})}return r},function(r){throw t.remove(e),r})},onRemoveStart:function(t,e){var r=t.get(e);if(r&&r.dispose(),e.etc1_alpha_url){var n=s(e),i=t.get(n);i&&i.dispose(),t.unload(n)}}},e.BinaryProcessor={onLoadStart:function(e,r){var n=new egret.HttpRequest;return n.responseType=egret.HttpResponseType.ARRAY_BUFFER,n.open(t.getVirtualUrl(r.root+r.url),"get"),n.send(),i(n,r)},onRemoveStart:function(t,e){}},e.TextProcessor={onLoadStart:function(e,r){var n=new egret.HttpRequest;return n.responseType=egret.HttpResponseType.TEXT,n.open(t.getVirtualUrl(r.root+r.url),"get"),n.send(),i(n,r)},onRemoveStart:function(t,e){return!0}},e.JsonProcessor={onLoadStart:function(t,e){return t.load(e,"text").then(function(t){var e=JSON.parse(t);return e})},onRemoveStart:function(t,e){}},e.XMLProcessor={onLoadStart:function(t,e){return t.load(e,"text").then(function(t){var e=egret.XML.parse(t);return e})},onRemoveStart:function(t,e){return!0}},e.CommonJSProcessor={onLoadStart:function(e,r){return e.load(r,"text").then(function(e){var n=new Function("require","exports",e),i=function(){},o={};try{n(i,o)}catch(s){throw new t.ResourceManagerError(2003,r.name,s.message)}return o})},onRemoveStart:function(t,e){}},e.SheetProcessor={onLoadStart:function(e,r){return e.load(r,"json").then(function(n){var i=e.resourceConfig.getResource(t.nameSelector(n.file));if(!i){var s=o(r.url,n.file);i={name:s,url:s,type:"image",root:r.root}}return e.load(i).then(function(t){if(!t)return null;var r=n.frames,o=new egret.SpriteSheet(t);o.$resourceInfo=i;for(var s in r){var a=r[s],u=o.createTexture(s,a.x,a.y,a.w,a.h,a.offX,a.offY,a.sourceW,a.sourceH);if(a.scale9grid){var c=a.scale9grid,h=c.split(",");u.scale9Grid=new egret.Rectangle(parseInt(h[0]),parseInt(h[1]),parseInt(h[2]),parseInt(h[3]))}}return e.save(i,t),o},function(t){throw e.remove(i),t})})},getData:function(t,e,r,n){var i=t.get(e);return i?i.getTexture(n):null},onRemoveStart:function(t,e){var r=t.get(e),n=r.$resourceInfo;r.dispose(),t.unload(n)}};var a=function(t,e){var r="",n=e.split("\n"),i=n[2],o=i.indexOf('file="');-1!=o&&(i=i.substring(o+6),o=i.indexOf('"'),r=i.substring(0,o)),t=t.split("\\").join("/");var o=t.lastIndexOf("/");return t=-1!=o?t.substring(0,o+1)+r:r};e.FontProcessor={onLoadStart:function(e,r){return e.load(r,"text").then(function(n){var i;try{i=JSON.parse(n)}catch(s){i=n}var u;u="string"==typeof i?a(r.url,i):o(r.url,i.file);var c=e.resourceConfig.getResource(t.nameSelector(u));return c||(c={name:u,url:u,type:"image",root:r.root}),e.load(c).then(function(t){var r=new egret.BitmapFont(t,i);return r.$resourceInfo=c,e.save(c,t),r},function(t){throw e.remove(c),t})})},onRemoveStart:function(t,e){var r=t.get(e),n=r.$resourceInfo;t.unload(n)}},e.SoundProcessor={onLoadStart:function(e,r){var n=new egret.Sound;return n.load(t.getVirtualUrl(r.root+r.url)),i(n,r).then(function(){return n})},onRemoveStart:function(t,e){var r=t.get(e);r.close()}},e.MovieClipProcessor={onLoadStart:function(e,r){var n,i;return e.load(r,"json").then(function(o){n=o;var s=r.name,a=s.substring(0,s.lastIndexOf("."))+".png";if(i=e.resourceConfig.getResource(a),!i)throw new t.ResourceManagerError(1001,a);return e.load(i)}).then(function(t){e.save(i,t);var r=t,o=new egret.MovieClipDataFactory(n,r);return o})},onRemoveStart:function(t,e){var r=t.get(e);r.clearCache(),r.$spriteSheet.dispose();var n=e.name,i=n.substring(0,n.lastIndexOf("."))+".png",o=t.resourceConfig.getResource(i);o&&t.unload(o)}},e.MergeJSONProcessor={onLoadStart:function(e,r){return e.load(r,"json").then(function(e){for(var n in e)t.config.addSubkey(n,r.name);return e})},getData:function(t,e,r,n){var i=t.get(e);return i?i[n]:(console.error("missing resource :"+e.name),null)},onRemoveStart:function(t,e){}},e.TTFProcessor={onLoadStart:function(t,e){return t.load(e,"bin").then(function(t){egret.Capabilities.runtimeType==egret.RuntimeType.WEB&&(egret.sys.fontResourceCache||(egret.sys.fontResourceCache={}),egret.sys.fontResourceCache[e.root+e.url]=t)})},onRemoveStart:function(t,e){if(egret.Capabilities.runtimeType==egret.RuntimeType.WEB){var r=egret.sys.fontResourceCache;r&&r[e.url]&&(r[e.root+e.url]=null)}}},e.LegacyResourceConfigProcessor={onLoadStart:function(e,r){return e.load(r,"json").then(function(n){var i=t.config.config,o=r.root,s=i.fileSystem;s||(s={fsData:{},getFile:function(t){return f[t]},addFile:function(t){t.type||(t.type=""),void 0==o&&(t.root=""),f[t.name]=t},profile:function(){console.log(f)},removeFile:function(t){delete f[t]}},i.fileSystem=s);for(var a=i.groups,u=0,c=n.groups;u<c.length;u++){var h=c[u];""==h.keys?a[h.name]=[]:a[h.name]=h.keys.split(",")}for(var l=i.alias,f=s.fsData,d=function(t){f[t.name]=t,f[t.name].root=o,t.subkeys&&t.subkeys.split(",").forEach(function(e){l[e]=t.name+"#"+e,l[t.name+"."+e]=t.name+"#"+e})},p=0,_=n.resources;p<_.length;p++){var m=_[p];d(m)}return e.save(r,n),n})},onRemoveStart:function(){}},e._map={image:e.ImageProcessor,json:e.JsonProcessor,text:e.TextProcessor,xml:e.XMLProcessor,sheet:e.SheetProcessor,font:e.FontProcessor,bin:e.BinaryProcessor,commonjs:e.CommonJSProcessor,sound:e.SoundProcessor,movieclip:e.MovieClipProcessor,mergeJson:e.MergeJSONProcessor,legacyResourceConfig:e.LegacyResourceConfigProcessor,ktx:e.KTXTextureProcessor,"etc1.ktx":e.ETC1KTXProcessor,"pvrtc.ktx":e.KTXTextureProcessor,ttf:e.TTFProcessor}}(e=t.processor||(t.processor={}))}(RES||(RES={}));var __reflect=this&&this.__reflect||function(t,e,r){t.__class__=e,r?r.push(e):r=[e],t.__types__=t.__types__?r.concat(t.__types__):r},__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);r.prototype=e.prototype,t.prototype=new r},egret;!function(t){var e=function(){function t(){}return t.BINARY="binary",t.TEXT="text",t.VARIABLES="variables",t.TEXTURE="texture",t.SOUND="sound",t}();t.URLLoaderDataFormat=e,__reflect(e.prototype,"egret.URLLoaderDataFormat")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e,r,n){var i=t.call(this)||this;return i._name=e,i._frame=0|r,n&&(i._end=0|n),i}return __extends(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this._name,this._frame,this._end)},e}(t.EventDispatcher);t.FrameLabel=e,__reflect(e.prototype,"egret.FrameLabel")}(egret||(egret={}));var egret;!function(t){var e=function(e){function r(){var t=e.call(this)||this;return t.$mcData=null,t.numFrames=1,t.frames=[],t.labels=null,t.events=[],t.frameRate=0,t.textureData=null,t.spriteSheet=null,t}return __extends(r,e),r.prototype.$init=function(t,e,r){this.textureData=e,this.spriteSheet=r,this.setMCData(t)},r.prototype.getKeyFrameData=function(t){var e=this.frames[t-1];return e.frame&&(e=this.frames[e.frame-1]),e},r.prototype.getTextureByFrame=function(t){var e=this.getKeyFrameData(t);if(e.res){var r=this.getTextureByResName(e.res);return r}return null},r.prototype.$getOffsetByFrame=function(t,e){var r=this.getKeyFrameData(t);r.res&&e.setTo(0|r.x,0|r.y)},r.prototype.getTextureByResName=function(t){if(null==this.spriteSheet)return null;var e=this.spriteSheet.getTexture(t);if(!e){var r=this.textureData[t];e=this.spriteSheet.createTexture(t,r.x,r.y,r.w,r.h)}return e},r.prototype.$isDataValid=function(){return this.frames.length>0},r.prototype.$isTextureValid=function(){return null!=this.textureData&&null!=this.spriteSheet},r.prototype.$fillMCData=function(t){this.frameRate=t.frameRate||24,this.fillFramesData(t.frames),this.fillFrameLabelsData(t.labels),this.fillFrameEventsData(t.events)},r.prototype.fillFramesData=function(t){for(var e,r=this.frames,n=t?t.length:0,i=0;n>i;i++){var o=t[i];if(r.push(o),o.duration){var s=parseInt(o.duration);if(s>1){e=r.length;for(var a=1;s>a;a++)r.push({frame:e})}}}this.numFrames=r.length},r.prototype.fillFrameLabelsData=function(e){if(e){var r=e.length;if(r>0){this.labels=[];for(var n=0;r>n;n++){var i=e[n];this.labels.push(new t.FrameLabel(i.name,i.frame,i.end))}}}},r.prototype.fillFrameEventsData=function(t){if(t){var e=t.length;if(e>0){this.events=[];for(var r=0;e>r;r++){var n=t[r];this.events[n.frame]=n.name}}}},Object.defineProperty(r.prototype,"mcData",{get:function(){return this.$mcData},set:function(t){this.setMCData(t)},enumerable:!0,configurable:!0}),r.prototype.setMCData=function(t){this.$mcData!=t&&(this.$mcData=t,t&&this.$fillMCData(t))},r}(t.HashObject);
t.MovieClipData=e,__reflect(e.prototype,"egret.MovieClipData")}(egret||(egret={}));var egret;!function(t){var e=function(e){function r(t,r){var n=e.call(this)||this;return n.enableCache=!0,n.$mcDataCache={},n.$mcDataSet=t,n.setTexture(r),n}return __extends(r,e),r.prototype.clearCache=function(){this.$mcDataCache={}},r.prototype.generateMovieClipData=function(e){if(void 0===e&&(e=""),""==e&&this.$mcDataSet)for(e in this.$mcDataSet.mc)break;if(""==e)return null;var r=this.findFromCache(e,this.$mcDataCache);return r||(r=new t.MovieClipData,this.fillData(e,r,this.$mcDataCache)),r},r.prototype.findFromCache=function(t,e){return this.enableCache&&e[t]?e[t]:null},r.prototype.fillData=function(t,e,r){if(this.$mcDataSet){var n=this.$mcDataSet.mc[t];n&&(e.$init(n,this.$mcDataSet.res,this.$spriteSheet),this.enableCache&&(r[t]=e))}},Object.defineProperty(r.prototype,"mcDataSet",{get:function(){return this.$mcDataSet},set:function(t){this.$mcDataSet=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"texture",{set:function(t){this.setTexture(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"spriteSheet",{get:function(){return this.$spriteSheet},enumerable:!0,configurable:!0}),r.prototype.setTexture=function(e){this.$spriteSheet=e?new t.SpriteSheet(e):null},r}(t.EventDispatcher);t.MovieClipDataFactory=e,__reflect(e.prototype,"egret.MovieClipDataFactory")}(egret||(egret={}));var egret;!function(t){var e=function(e){function r(t,r,n,i){void 0===r&&(r=!1),void 0===n&&(n=!1),void 0===i&&(i=null);var o=e.call(this,t,r,n)||this;return o.frameLabel=null,o.frameLabel=i,o}return __extends(r,e),r.dispatchMovieClipEvent=function(e,n,i){void 0===i&&(i=null);var o=t.Event.create(r,n);o.frameLabel=i;var s=e.dispatchEvent(o);return t.Event.release(o),s},r.FRAME_LABEL="frame_label",r}(t.Event);t.MovieClipEvent=e,__reflect(e.prototype,"egret.MovieClipEvent")}(egret||(egret={}));var egret;!function(t){var e=function(){function e(){t.$error(1014)}return e.get=function(t){return-1>t&&(t=-1),t>1&&(t=1),function(e){return 0==t?e:0>t?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},e.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},e.quintOut=e.getPowOut(5),e.quartOut=e.getPowOut(4),e}();t.ScrollEase=e,__reflect(e.prototype,"egret.ScrollEase");var r=function(e){function r(t,r,n){var i=e.call(this)||this;return i._target=null,i._useTicks=!1,i.ignoreGlobalPause=!1,i.loop=!1,i.pluginData=null,i._steps=null,i._actions=null,i.paused=!1,i.duration=0,i._prevPos=-1,i.position=null,i._prevPosition=0,i._stepPosition=0,i.passive=!1,i.initialize(t,r,n),i}return __extends(r,e),r.get=function(t,e,n,i){return void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=!1),i&&r.removeTweens(t),new r(t,e,n)},r.removeTweens=function(t){if(t.tween_count){for(var e=r._tweens,n=e.length-1;n>=0;n--)e[n]._target==t&&(e[n].paused=!0,e.splice(n,1));t.tween_count=0}},r.tick=function(t,e){void 0===e&&(e=!1);var n=t-r._lastTime;r._lastTime=t;for(var i=r._tweens.concat(),o=i.length-1;o>=0;o--){var s=i[o];e&&!s.ignoreGlobalPause||s.paused||s.tick(s._useTicks?1:n)}return!1},r._register=function(e,n){var i=e._target,o=r._tweens;if(n)i&&(i.tween_count=i.tween_count>0?i.tween_count+1:1),o.push(e),r._inited||(r._lastTime=t.getTimer(),t.ticker.$startTick(r.tick,null),r._inited=!0);else{i&&i.tween_count--;for(var s=o.length;s--;)if(o[s]==e)return void o.splice(s,1)}},r.prototype.initialize=function(t,e,n){this._target=t,e&&(this._useTicks=e.useTicks,this.ignoreGlobalPause=e.ignoreGlobalPause,this.loop=e.loop,e.onChange&&this.addEventListener("change",e.onChange,e.onChangeObj),e.override&&r.removeTweens(t)),this.pluginData=n||{},this._curQueueProps={},this._initQueueProps={},this._steps=[],this._actions=[],e&&e.paused?this.paused=!0:r._register(this,!0),e&&null!=e.position&&this.setPosition(e.position)},r.prototype.setPosition=function(t,e){void 0===e&&(e=1),0>t&&(t=0);var r=t,n=!1;if(r>=this.duration&&(this.loop?r%=this.duration:(r=this.duration,n=!0)),r==this._prevPos)return n;var i=this._prevPos;if(this.position=this._prevPos=r,this._prevPosition=t,this._target)if(n)this._updateTargetProps(null,1);else if(this._steps.length>0){var o=void 0,s=this._steps.length;for(o=0;s>o&&!(this._steps[o].t>r);o++);var a=this._steps[o-1];this._updateTargetProps(a,(this._stepPosition=r-a.t)/a.d)}return n&&this.setPaused(!0),0!=e&&this._actions.length>0&&(this._useTicks?this._runActions(r,r):1==e&&i>r?(i!=this.duration&&this._runActions(i,this.duration),this._runActions(0,r,!0)):this._runActions(i,r)),this.dispatchEventWith("change"),n},r.prototype._runActions=function(t,e,r){void 0===r&&(r=!1);var n=t,i=e,o=-1,s=this._actions.length,a=1;for(t>e&&(n=e,i=t,o=s,s=a=-1);(o+=a)!=s;){var u=this._actions[o],c=u.t;(c==i||c>n&&i>c||r&&c==t)&&u.f.apply(u.o,u.p)}},r.prototype._updateTargetProps=function(t,e){var n,i,o,s,a,u;if(t||1!=e){if(this.passive=!!t.v,this.passive)return;t.e&&(e=t.e(e,0,1,1)),n=t.p0,i=t.p1}else this.passive=!1,n=i=this._curQueueProps;for(var c in this._initQueueProps){null==(s=n[c])&&(n[c]=s=this._initQueueProps[c]),null==(a=i[c])&&(i[c]=a=s),o=s==a||0==e||1==e||"number"!=typeof s?1==e?a:s:s+(a-s)*e;var h=!1;if(u=r._plugins[c])for(var l=0,f=u.length;f>l;l++){var d=u[l].tween(this,c,o,n,i,e,!!t&&n==i,!t);d==r.IGNORE?h=!0:o=d}h||(this._target[c]=o)}},r.prototype.setPaused=function(t){return this.paused=t,r._register(this,!t),this},r.prototype._cloneProps=function(t){var e={};for(var r in t)e[r]=t[r];return e},r.prototype._addStep=function(t){return t.d>0&&(this._steps.push(t),t.t=this.duration,this.duration+=t.d),this},r.prototype._appendQueueProps=function(t){var e,n,i,o,s;for(var a in t)if(void 0===this._initQueueProps[a]){if(n=this._target[a],e=r._plugins[a])for(i=0,o=e.length;o>i;i++)n=e[i].init(this,a,n);this._initQueueProps[a]=this._curQueueProps[a]=void 0===n?null:n}else n=this._curQueueProps[a];for(var a in t){if(n=this._curQueueProps[a],e=r._plugins[a])for(s=s||{},i=0,o=e.length;o>i;i++)e[i].step&&e[i].step(this,a,n,t[a],s);this._curQueueProps[a]=t[a]}return s&&this._appendQueueProps(s),this._curQueueProps},r.prototype._addAction=function(t){return t.t=this.duration,this._actions.push(t),this},r.prototype.to=function(t,e,r){return void 0===r&&(r=void 0),(isNaN(e)||0>e)&&(e=0),this._addStep({d:e||0,p0:this._cloneProps(this._curQueueProps),e:r,p1:this._cloneProps(this._appendQueueProps(t))})},r.prototype.call=function(t,e,r){return void 0===e&&(e=void 0),void 0===r&&(r=void 0),this._addAction({f:t,p:r?r:[],o:e?e:this._target})},r.prototype.tick=function(t){this.paused||this.setPosition(this._prevPosition+t)},r._tweens=[],r.IGNORE={},r._plugins={},r._inited=!1,r._lastTime=0,r}(t.EventDispatcher);t.ScrollTween=r,__reflect(r.prototype,"egret.ScrollTween")}(egret||(egret={}));var egret;!function(t){var e=function(e){function r(r){void 0===r&&(r=null);var n=e.call(this)||this;return n.scrollBeginThreshold=10,n.scrollSpeed=1,n._content=null,n.delayTouchBeginEvent=null,n.touchBeginTimer=null,n.touchEnabled=!0,n._ScrV_Props_=new t.ScrollViewProperties,r&&n.setContent(r),n}return __extends(r,e),Object.defineProperty(r.prototype,"bounces",{get:function(){return this._ScrV_Props_._bounces},set:function(t){this._ScrV_Props_._bounces=!!t},enumerable:!0,configurable:!0}),r.prototype.setContent=function(t){this._content!==t&&(this.removeContent(),t&&(this._content=t,e.prototype.addChild.call(this,t),this._addEvents()))},r.prototype.removeContent=function(){this._content&&(this._removeEvents(),e.prototype.removeChildAt.call(this,0)),this._content=null},Object.defineProperty(r.prototype,"verticalScrollPolicy",{get:function(){return this._ScrV_Props_._verticalScrollPolicy},set:function(t){t!=this._ScrV_Props_._verticalScrollPolicy&&(this._ScrV_Props_._verticalScrollPolicy=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"horizontalScrollPolicy",{get:function(){return this._ScrV_Props_._horizontalScrollPolicy},set:function(t){t!=this._ScrV_Props_._horizontalScrollPolicy&&(this._ScrV_Props_._horizontalScrollPolicy=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"scrollLeft",{get:function(){return this._ScrV_Props_._scrollLeft},set:function(t){t!=this._ScrV_Props_._scrollLeft&&(this._ScrV_Props_._scrollLeft=t,this._validatePosition(!1,!0),this._updateContentPosition())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"scrollTop",{get:function(){return this._ScrV_Props_._scrollTop},set:function(t){t!=this._ScrV_Props_._scrollTop&&(this._ScrV_Props_._scrollTop=t,this._validatePosition(!0,!1),this._updateContentPosition())},enumerable:!0,configurable:!0}),r.prototype.setScrollPosition=function(t,e,r){if(void 0===r&&(r=!1),(!r||0!=t||0!=e)&&(r||this._ScrV_Props_._scrollTop!=t||this._ScrV_Props_._scrollLeft!=e)){var n=this._ScrV_Props_._scrollTop,i=this._ScrV_Props_._scrollLeft;if(r){var o=this.getMaxScrollLeft(),s=this.getMaxScrollTop();(0>=n||n>=s)&&(t/=2),(0>=i||i>=o)&&(e/=2);var a=n+t,u=i+e,c=this._ScrV_Props_._bounces;c||((0>=a||a>=s)&&(a=Math.max(0,Math.min(a,s))),(0>=u||u>=o)&&(u=Math.max(0,Math.min(u,o)))),this._ScrV_Props_._scrollTop=a,this._ScrV_Props_._scrollLeft=u}else this._ScrV_Props_._scrollTop=t,this._ScrV_Props_._scrollLeft=e;this._validatePosition(!0,!0),this._updateContentPosition()}},r.prototype._validatePosition=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),t){var r=this.height,n=this._getContentHeight();this._ScrV_Props_._scrollTop=Math.max(this._ScrV_Props_._scrollTop,(0-r)/2),this._ScrV_Props_._scrollTop=Math.min(this._ScrV_Props_._scrollTop,n>r?n-r/2:r/2)}if(e){var i=this.width,o=this._getContentWidth();this._ScrV_Props_._scrollLeft=Math.max(this._ScrV_Props_._scrollLeft,(0-i)/2),this._ScrV_Props_._scrollLeft=Math.min(this._ScrV_Props_._scrollLeft,o>i?o-i/2:i/2)}},r.prototype.$setWidth=function(t){this.$explicitWidth!=t&&(e.prototype.$setWidth.call(this,t),this._updateContentPosition())},r.prototype.$setHeight=function(t){this.$explicitHeight!=t&&(e.prototype.$setHeight.call(this,t),this._updateContentPosition())},r.prototype._updateContentPosition=function(){var e=this.height,r=this.width;this.scrollRect=new t.Rectangle(Math.round(this._ScrV_Props_._scrollLeft),Math.round(this._ScrV_Props_._scrollTop),r,e),this.dispatchEvent(new t.Event(t.Event.CHANGE))},r.prototype._checkScrollPolicy=function(){var t=this._ScrV_Props_._horizontalScrollPolicy,e=this.__checkScrollPolicy(t,this._getContentWidth(),this.width);this._ScrV_Props_._hCanScroll=e;var r=this._ScrV_Props_._verticalScrollPolicy,n=this.__checkScrollPolicy(r,this._getContentHeight(),this.height);return this._ScrV_Props_._vCanScroll=n,e||n},r.prototype.__checkScrollPolicy=function(t,e,r){return"on"==t?!0:"off"==t?!1:e>r},r.prototype._addEvents=function(){this.addEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBegin,this),this.addEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBeginCapture,this,!0),this.addEventListener(t.TouchEvent.TOUCH_END,this._onTouchEndCapture,this,!0)},r.prototype._removeEvents=function(){this.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBegin,this),this.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBeginCapture,this,!0),this.removeEventListener(t.TouchEvent.TOUCH_END,this._onTouchEndCapture,this,!0)},r.prototype._onTouchBegin=function(e){if(!e.$isDefaultPrevented){var r=this._checkScrollPolicy();r&&(this._ScrV_Props_._touchStartPosition.x=e.stageX,this._ScrV_Props_._touchStartPosition.y=e.stageY,(this._ScrV_Props_._isHTweenPlaying||this._ScrV_Props_._isVTweenPlaying)&&this._onScrollFinished(),this._tempStage=this.stage,this._tempStage.addEventListener(t.TouchEvent.TOUCH_MOVE,this._onTouchMove,this),this._tempStage.addEventListener(t.TouchEvent.TOUCH_END,this._onTouchEnd,this),this._tempStage.addEventListener(t.TouchEvent.LEAVE_STAGE,this._onTouchEnd,this),this.addEventListener(t.Event.ENTER_FRAME,this._onEnterFrame,this),this._logTouchEvent(e),e.preventDefault())}},r.prototype._onTouchBeginCapture=function(e){var r=this._checkScrollPolicy();if(r){for(var n=e.target;n!=this;){if("_checkScrollPolicy"in n&&(r=n._checkScrollPolicy()))return;n=n.parent}e.stopPropagation();var i=this.cloneTouchEvent(e);this.delayTouchBeginEvent=i,this.touchBeginTimer||(this.touchBeginTimer=new t.Timer(100,1),this.touchBeginTimer.addEventListener(t.TimerEvent.TIMER_COMPLETE,this._onTouchBeginTimer,this)),this.touchBeginTimer.start(),this._onTouchBegin(e)}},r.prototype._onTouchEndCapture=function(e){var r=this;if(this.delayTouchBeginEvent){this._onTouchBeginTimer(),e.stopPropagation();var n=this.cloneTouchEvent(e);t.callLater(function(){r.stage&&r.dispatchPropagationEvent(n)},this)}},r.prototype._onTouchBeginTimer=function(){this.touchBeginTimer.stop();var t=this.delayTouchBeginEvent;this.delayTouchBeginEvent=null,this.stage&&this.dispatchPropagationEvent(t)},r.prototype.dispatchPropagationEvent=function(e){for(var r=e.$target,n=this.$getPropagationList(r),i=n.length,o=.5*n.length,s=-1,a=0;i>a;a++)if(n[a]===this._content){s=a;break}n.splice(0,s+1),o-=s+1,this.$dispatchPropagationEvent(e,n,o),t.Event.release(e)},r.prototype._onTouchMove=function(t){if(this._ScrV_Props_._lastTouchPosition.x!=t.stageX||this._ScrV_Props_._lastTouchPosition.y!=t.stageY){if(!this._ScrV_Props_._scrollStarted){var e=t.stageX-this._ScrV_Props_._touchStartPosition.x,r=t.stageY-this._ScrV_Props_._touchStartPosition.y,n=Math.sqrt(e*e+r*r);if(n<this.scrollBeginThreshold)return void this._logTouchEvent(t)}this._ScrV_Props_._scrollStarted=!0,this.delayTouchBeginEvent&&(this.delayTouchBeginEvent=null,this.touchBeginTimer.stop()),this.touchChildren=!1;var i=this._getPointChange(t);this.setScrollPosition(i.y,i.x,!0),this._calcVelocitys(t),this._logTouchEvent(t)}},r.prototype._onTouchEnd=function(e){this.touchChildren=!0,this._ScrV_Props_._scrollStarted=!1,this._tempStage.removeEventListener(t.TouchEvent.TOUCH_MOVE,this._onTouchMove,this),this._tempStage.removeEventListener(t.TouchEvent.TOUCH_END,this._onTouchEnd,this),this._tempStage.removeEventListener(t.TouchEvent.LEAVE_STAGE,this._onTouchEnd,this),this.removeEventListener(t.Event.ENTER_FRAME,this._onEnterFrame,this),this._moveAfterTouchEnd()},r.prototype._onEnterFrame=function(e){var r=t.getTimer();r-this._ScrV_Props_._lastTouchTime>100&&r-this._ScrV_Props_._lastTouchTime<300&&this._calcVelocitys(this._ScrV_Props_._lastTouchEvent)},r.prototype._logTouchEvent=function(e){this._ScrV_Props_._lastTouchPosition.x=e.stageX,this._ScrV_Props_._lastTouchPosition.y=e.stageY,this._ScrV_Props_._lastTouchEvent=this.cloneTouchEvent(e),this._ScrV_Props_._lastTouchTime=t.getTimer()},r.prototype._getPointChange=function(t){return{x:this._ScrV_Props_._hCanScroll===!1?0:this._ScrV_Props_._lastTouchPosition.x-t.stageX,y:this._ScrV_Props_._vCanScroll===!1?0:this._ScrV_Props_._lastTouchPosition.y-t.stageY}},r.prototype._calcVelocitys=function(e){var r=t.getTimer();if(0==this._ScrV_Props_._lastTouchTime)return void(this._ScrV_Props_._lastTouchTime=r);var n=this._getPointChange(e),i=r-this._ScrV_Props_._lastTouchTime;n.x/=i,n.y/=i,this._ScrV_Props_._velocitys.push(n),this._ScrV_Props_._velocitys.length>5&&this._ScrV_Props_._velocitys.shift(),this._ScrV_Props_._lastTouchPosition.x=e.stageX,this._ScrV_Props_._lastTouchPosition.y=e.stageY},r.prototype._getContentWidth=function(){return this._content.$explicitWidth||this._content.width},r.prototype._getContentHeight=function(){return this._content.$explicitHeight||this._content.height},r.prototype.getMaxScrollLeft=function(){var t=this._getContentWidth()-this.width;return Math.max(0,t)},r.prototype.getMaxScrollTop=function(){var t=this._getContentHeight()-this.height;return Math.max(0,t)},r.prototype._moveAfterTouchEnd=function(){if(0!=this._ScrV_Props_._velocitys.length){for(var t={x:0,y:0},e=0,n=0;n<this._ScrV_Props_._velocitys.length;n++){var i=this._ScrV_Props_._velocitys[n],o=r.weight[n];t.x+=i.x*o,t.y+=i.y*o,e+=o}this._ScrV_Props_._velocitys.length=0,this.scrollSpeed<=0&&(this.scrollSpeed=1);var s=t.x/e*this.scrollSpeed,a=t.y/e*this.scrollSpeed,u=Math.abs(s),c=Math.abs(a),h=this.getMaxScrollLeft(),l=this.getMaxScrollTop(),f=u>.02?this.getAnimationDatas(s,this._ScrV_Props_._scrollLeft,h):{position:this._ScrV_Props_._scrollLeft,duration:1},d=c>.02?this.getAnimationDatas(a,this._ScrV_Props_._scrollTop,l):{position:this._ScrV_Props_._scrollTop,duration:1};this.setScrollLeft(f.position,f.duration),this.setScrollTop(d.position,d.duration)}},r.prototype.onTweenFinished=function(t){t==this._ScrV_Props_._vScrollTween&&(this._ScrV_Props_._isVTweenPlaying=!1),t==this._ScrV_Props_._hScrollTween&&(this._ScrV_Props_._isHTweenPlaying=!1),0==this._ScrV_Props_._isHTweenPlaying&&0==this._ScrV_Props_._isVTweenPlaying&&this._onScrollFinished()},r.prototype._onScrollStarted=function(){},r.prototype._onScrollFinished=function(){t.ScrollTween.removeTweens(this),this._ScrV_Props_._hScrollTween=null,this._ScrV_Props_._vScrollTween=null,this._ScrV_Props_._isHTweenPlaying=!1,this._ScrV_Props_._isVTweenPlaying=!1,this.dispatchEvent(new t.Event(t.Event.COMPLETE))},r.prototype.setScrollTop=function(e,r){void 0===r&&(r=0);var n=Math.min(this.getMaxScrollTop(),Math.max(e,0));if(0==r)return void(this.scrollTop=n);0==this._ScrV_Props_._bounces&&(e=n);var i=t.ScrollTween.get(this).to({scrollTop:e},r,t.ScrollEase.quartOut);n!=e&&i.to({scrollTop:n},300,t.ScrollEase.quintOut),this._ScrV_Props_._isVTweenPlaying=!0,this._ScrV_Props_._vScrollTween=i,i.call(this.onTweenFinished,this,[i]),this._ScrV_Props_._isHTweenPlaying||this._onScrollStarted()},r.prototype.setScrollLeft=function(e,r){void 0===r&&(r=0);var n=Math.min(this.getMaxScrollLeft(),Math.max(e,0));if(0==r)return void(this.scrollLeft=n);0==this._ScrV_Props_._bounces&&(e=n);var i=t.ScrollTween.get(this).to({scrollLeft:e},r,t.ScrollEase.quartOut);n!=e&&i.to({scrollLeft:n},300,t.ScrollEase.quintOut),this._ScrV_Props_._isHTweenPlaying=!0,this._ScrV_Props_._hScrollTween=i,i.call(this.onTweenFinished,this,[i]),this._ScrV_Props_._isVTweenPlaying||this._onScrollStarted()},r.prototype.getAnimationDatas=function(t,e,r){var n=Math.abs(t),i=.95,o=0,s=.998,a=.02,u=e+500*t;if(0>u||u>r)for(u=e;Math.abs(t)!=1/0&&Math.abs(t)>a;)u+=t,t*=0>u||u>r?s*i:s,o++;else o=500*-Math.log(a/n);var c={position:Math.min(r+50,Math.max(u,-50)),duration:o};return c},r.prototype.cloneTouchEvent=function(e){var r=new t.TouchEvent(e.type,e.bubbles,e.cancelable);return r.touchPointID=e.touchPointID,r.$stageX=e.stageX,r.$stageY=e.stageY,r.touchDown=e.touchDown,r.$isDefaultPrevented=!1,r.$target=e.target,r},r.prototype.throwNotSupportedError=function(){t.$error(1023)},r.prototype.addChild=function(t){return this.throwNotSupportedError(),null},r.prototype.addChildAt=function(t,e){return this.throwNotSupportedError(),null},r.prototype.removeChild=function(t){return this.throwNotSupportedError(),null},r.prototype.removeChildAt=function(t){return this.throwNotSupportedError(),null},r.prototype.setChildIndex=function(t,e){this.throwNotSupportedError()},r.prototype.swapChildren=function(t,e){this.throwNotSupportedError()},r.prototype.swapChildrenAt=function(t,e){this.throwNotSupportedError()},r.weight=[1,1.33,1.66,2,2.33],r}(t.DisplayObjectContainer);t.ScrollView=e,__reflect(e.prototype,"egret.ScrollView")}(egret||(egret={}));var egret;!function(t){var e=function(){function e(){this._verticalScrollPolicy="auto",this._horizontalScrollPolicy="auto",this._scrollLeft=0,this._scrollTop=0,this._hCanScroll=!1,this._vCanScroll=!1,this._lastTouchPosition=new t.Point(0,0),this._touchStartPosition=new t.Point(0,0),this._scrollStarted=!1,this._lastTouchTime=0,this._lastTouchEvent=null,this._velocitys=[],this._isHTweenPlaying=!1,this._isVTweenPlaying=!1,this._hScrollTween=null,this._vScrollTween=null,this._bounces=!0}return e}();t.ScrollViewProperties=e,__reflect(e.prototype,"egret.ScrollViewProperties")}(egret||(egret={}));var egret;!function(t){function e(e){var r=e.url;return-1==r.indexOf("?")&&e.method==t.URLRequestMethod.GET&&e.data&&e.data instanceof t.URLVariables&&(r=r+"?"+e.data.toString()),r}var r=function(r){function n(e){void 0===e&&(e=null);var n=r.call(this)||this;return n.dataFormat=t.URLLoaderDataFormat.TEXT,n.data=null,n._request=null,n._status=-1,e&&n.load(e),n}return __extends(n,r),n.prototype.load=function(r){this._request=r,this.data=null;var n=this;if(n.dataFormat==t.URLLoaderDataFormat.TEXTURE)return void this.loadTexture(n);if(n.dataFormat==t.URLLoaderDataFormat.SOUND)return void this.loadSound(n);var i=e(r),o=new t.HttpRequest;o.open(i,r.method==t.URLRequestMethod.POST?t.HttpMethod.POST:t.HttpMethod.GET);var s;if(r.method!=t.URLRequestMethod.GET&&r.data)if(r.data instanceof t.URLVariables){o.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var a=r.data;s=a.toString()}else o.setRequestHeader("Content-Type","multipart/form-data"),s=r.data;for(var u=r.requestHeaders.length,c=0;u>c;c++){var h=r.requestHeaders[c];o.setRequestHeader(h.name,h.value)}o.addEventListener(t.Event.COMPLETE,function(){n.data=o.response,t.Event.dispatchEvent(n,t.Event.COMPLETE)},this),o.addEventListener(t.IOErrorEvent.IO_ERROR,function(){t.IOErrorEvent.dispatchIOErrorEvent(n)},this),o.responseType=n.dataFormat==t.URLLoaderDataFormat.BINARY?t.HttpResponseType.ARRAY_BUFFER:t.HttpResponseType.TEXT,o.send(s)},n.prototype.getResponseType=function(e){switch(e){case t.URLLoaderDataFormat.TEXT:case t.URLLoaderDataFormat.VARIABLES:return t.URLLoaderDataFormat.TEXT;case t.URLLoaderDataFormat.BINARY:return"arraybuffer";default:return e}},n.prototype.loadSound=function(e){var r=e._request.url,n=new t.Sound;this.sound=n,n.addEventListener(t.Event.COMPLETE,this.onSoundoadComplete,this),n.addEventListener(t.IOErrorEvent.IO_ERROR,this.onSoundLoaderError,this),n.addEventListener(t.ProgressEvent.PROGRESS,this.onSoundLoaderPostProgress,this),n.load(r)},n.prototype.onSoundoadComplete=function(e){var r=this;this.removeSoundLoaderListeners(),this.data=this.sound,window.setTimeout(function(){r.dispatchEventWith(t.Event.COMPLETE)},0)},n.prototype.onSoundLoaderPostProgress=function(t){this.dispatchEvent(t)},n.prototype.onSoundLoaderError=function(t){this.dispatchEvent(t)},n.prototype.removeSoundLoaderListeners=function(){this.sound.removeEventListener(t.Event.COMPLETE,this.onSoundoadComplete,this),this.sound.removeEventListener(t.IOErrorEvent.IO_ERROR,this.onSoundLoaderError,this),this.sound.removeEventListener(t.ProgressEvent.PROGRESS,this.onSoundLoaderPostProgress,this)},n.prototype.loadTexture=function(e){this.virtualUrl=e._request.url;var r=new t.ImageLoader;this.imageLoader=r,r.addEventListener(t.Event.COMPLETE,this.onImageLoadComplete,this),r.addEventListener(t.IOErrorEvent.IO_ERROR,this.onImageLoaderError,this),r.addEventListener(t.ProgressEvent.PROGRESS,this.onImageLoaderPostProgress,this),r.load(this.virtualUrl)},n.prototype.onImageLoadComplete=function(e){var r=this;this.removeImageLoaderListeners();var n=new t.Texture,i=this.imageLoader.data;i.source.setAttribute&&i.source.setAttribute("bitmapSrc",this.virtualUrl),n._setBitmapData(i),this.data=n,window.setTimeout(function(){r.dispatchEventWith(t.Event.COMPLETE)},0)},n.prototype.onImageLoaderPostProgress=function(t){this.dispatchEvent(t)},n.prototype.onImageLoaderError=function(t){this.dispatchEvent(t)},n.prototype.removeImageLoaderListeners=function(){this.imageLoader.removeEventListener(t.Event.COMPLETE,this.onImageLoadComplete,this),this.imageLoader.removeEventListener(t.IOErrorEvent.IO_ERROR,this.onImageLoaderError,this),this.imageLoader.removeEventListener(t.ProgressEvent.PROGRESS,this.onImageLoaderPostProgress,this)},n.prototype.__recycle=function(){this._request=null,this.data=null},n}(t.EventDispatcher);t.URLLoader=r,__reflect(r.prototype,"egret.URLLoader")}(egret||(egret={}));var egret;!function(t){var e=function(e){function r(r){var n=e.call(this)||this;return n.$texture=null,n.offsetPoint=t.Point.create(0,0),n.$movieClipData=null,n.frames=null,n.$totalFrames=0,n.frameLabels=null,n.$frameLabelStart=0,n.$frameLabelEnd=0,n.frameEvents=null,n.frameIntervalTime=0,n.$eventPool=null,n.$isPlaying=!1,n.isStopped=!0,n.playTimes=0,n.$currentFrameNum=0,n.$nextFrameNum=1,n.displayedKeyFrameNum=0,n.passedTime=0,n.$frameRate=0/0,n.lastTime=0,n.$smoothing=t.Bitmap.defaultSmoothing,n.setMovieClipData(r),t.nativeRender||(n.$renderNode=new t.sys.NormalBitmapNode),n}return __extends(r,e),r.prototype.createNativeDisplayObject=function(){this.$nativeDisplayObject=new egret_native.NativeDisplayObject(11)},Object.defineProperty(r.prototype,"smoothing",{get:function(){return this.$smoothing},set:function(t){t!=this.$smoothing&&(this.$smoothing=t)},enumerable:!0,configurable:!0}),r.prototype.$init=function(){this.$reset();var t=this.$movieClipData;t&&t.$isDataValid()&&(this.frames=t.frames,this.$totalFrames=t.numFrames,this.frameLabels=t.labels,this.frameEvents=t.events,this.$frameRate=t.frameRate,this.frameIntervalTime=1e3/this.$frameRate,this._initFrame())},r.prototype.$reset=function(){this.frames=null,this.playTimes=0,this.$isPlaying=!1,this.setIsStopped(!0),this.$currentFrameNum=0,this.$nextFrameNum=1,this.displayedKeyFrameNum=0,this.passedTime=0,this.$eventPool=[]},r.prototype._initFrame=function(){this.$movieClipData.$isTextureValid()&&(this.advanceFrame(),this.constructFrame())},r.prototype.$updateRenderNode=function(){var e=this.$texture;if(e){var r=Math.round(this.offsetPoint.x),n=Math.round(this.offsetPoint.y),i=e.$bitmapWidth,o=e.$bitmapHeight,s=e.$getTextureWidth(),a=e.$getTextureHeight(),u=Math.round(e.$getScaleBitmapWidth()),c=Math.round(e.$getScaleBitmapHeight()),h=e.$sourceWidth,l=e.$sourceHeight;t.sys.BitmapNode.$updateTextureData(this.$renderNode,e.$bitmapData,e.$bitmapX,e.$bitmapY,i,o,r,n,s,a,u,c,h,l,t.BitmapFillMode.SCALE,this.$smoothing)}},r.prototype.$measureContentBounds=function(t){var e=this.$texture;if(e){var r=this.offsetPoint.x,n=this.offsetPoint.y,i=e.$getTextureWidth(),o=e.$getTextureHeight();t.setTo(r,n,i,o)}else t.setEmpty()},r.prototype.$onAddToStage=function(t,r){e.prototype.$onAddToStage.call(this,t,r),this.$isPlaying&&this.$totalFrames>1&&this.setIsStopped(!1)},r.prototype.$onRemoveFromStage=function(){e.prototype.$onRemoveFromStage.call(this),this.setIsStopped(!0)},r.prototype.getFrameLabelByName=function(t,e){void 0===e&&(e=!1),e&&(t=t.toLowerCase());var r=this.frameLabels;if(r)for(var n=null,i=0;i<r.length;i++)if(n=r[i],e?n.name.toLowerCase()==t:n.name==t)return n;return null},r.prototype.getFrameStartEnd=function(t){var e=this.frameLabels;if(e)for(var r=null,n=0;n<e.length;n++)if(r=e[n],t==r.name){this.$frameLabelStart=r.frame,this.$frameLabelEnd=r.end;break}},r.prototype.getFrameLabelByFrame=function(t){var e=this.frameLabels;if(e)for(var r=null,n=0;n<e.length;n++)if(r=e[n],r.frame==t)return r;return null},r.prototype.getFrameLabelForFrame=function(t){var e=null,r=null,n=this.frameLabels;if(n)for(var i=0;i<n.length;i++){if(r=n[i],r.frame>t)return e;e=r}return e},r.prototype.play=function(e){void 0===e&&(e=0),this.lastTime=t.getTimer(),this.passedTime=0,this.$isPlaying=!0,this.setPlayTimes(e),this.$totalFrames>1&&this.$stage&&this.setIsStopped(!1)},r.prototype.stop=function(){this.$isPlaying=!1,this.setIsStopped(!0)},r.prototype.prevFrame=function(){this.gotoAndStop(this.$currentFrameNum-1)},r.prototype.nextFrame=function(){this.gotoAndStop(this.$currentFrameNum+1)},r.prototype.gotoAndPlay=function(e,r){void 0===r&&(r=0),(0==arguments.length||arguments.length>2)&&t.$error(1022,"MovieClip.gotoAndPlay()"),"string"==typeof e?this.getFrameStartEnd(e):(this.$frameLabelStart=0,this.$frameLabelEnd=0),this.play(r),this.gotoFrame(e)},r.prototype.gotoAndStop=function(e){1!=arguments.length&&t.$error(1022,"MovieClip.gotoAndStop()"),this.stop(),this.gotoFrame(e)},r.prototype.gotoFrame=function(e){var r;"string"==typeof e?r=this.getFrameLabelByName(e).frame:(r=parseInt(e+"",10),r!=e&&t.$error(1022,"Frame Label Not Found")),1>r?r=1:r>this.$totalFrames&&(r=this.$totalFrames),r!=this.$nextFrameNum&&(this.$nextFrameNum=r,this.advanceFrame(),this.constructFrame(),this.handlePendingEvent())},r.prototype.advanceTime=function(e){var r=this,n=e-r.lastTime;r.lastTime=e;var i=r.frameIntervalTime,o=r.passedTime+n;r.passedTime=o%i;var s=o/i;if(1>s)return!1;for(;s>=1;){if(s--,r.$nextFrameNum++,r.$nextFrameNum>r.$totalFrames||r.$frameLabelStart>0&&r.$nextFrameNum>r.$frameLabelEnd)if(-1==r.playTimes)r.$eventPool.push(t.Event.LOOP_COMPLETE),r.$nextFrameNum=1;else{if(r.playTimes--,!(r.playTimes>0)){r.$nextFrameNum=r.$totalFrames,r.$eventPool.push(t.Event.COMPLETE),r.stop();break}r.$eventPool.push(t.Event.LOOP_COMPLETE),r.$nextFrameNum=1}r.$currentFrameNum==r.$frameLabelEnd&&(r.$nextFrameNum=r.$frameLabelStart),r.advanceFrame()}return r.constructFrame(),r.handlePendingEvent(),!1},r.prototype.advanceFrame=function(){this.$currentFrameNum=this.$nextFrameNum;var e=this.frameEvents[this.$nextFrameNum];e&&""!=e&&t.MovieClipEvent.dispatchMovieClipEvent(this,t.MovieClipEvent.FRAME_LABEL,e)},r.prototype.constructFrame=function(){var e=this,r=e.$currentFrameNum;if(e.displayedKeyFrameNum!=r){var n=e.$movieClipData.getTextureByFrame(r);if(e.$texture=n,e.$movieClipData.$getOffsetByFrame(r,e.offsetPoint),e.displayedKeyFrameNum=r,e.$renderDirty=!0,t.nativeRender)e.$nativeDisplayObject.setDataToBitmapNode(e.$nativeDisplayObject.id,n,[n.$bitmapX,n.$bitmapY,n.$bitmapWidth,n.$bitmapHeight,e.offsetPoint.x,e.offsetPoint.y,n.$getScaleBitmapWidth(),n.$getScaleBitmapHeight(),n.$sourceWidth,n.$sourceHeight]),e.$nativeDisplayObject.setWidth(n.$getTextureWidth()),e.$nativeDisplayObject.setHeight(n.$getTextureHeight());else{var i=e.$parent;i&&!i.$cacheDirty&&(i.$cacheDirty=!0,i.$cacheDirtyUp());var o=e.$maskedObject;o&&!o.$cacheDirty&&(o.$cacheDirty=!0,o.$cacheDirtyUp())}}},r.prototype.$renderFrame=function(){var t=this;t.$texture=t.$movieClipData.getTextureByFrame(t.$currentFrameNum),t.$renderDirty=!0;var e=t.$parent;e&&!e.$cacheDirty&&(e.$cacheDirty=!0,e.$cacheDirtyUp());var r=t.$maskedObject;r&&!r.$cacheDirty&&(r.$cacheDirty=!0,r.$cacheDirtyUp())},r.prototype.handlePendingEvent=function(){if(0!=this.$eventPool.length){this.$eventPool.reverse();for(var e=this.$eventPool,r=e.length,n=!1,i=!1,o=0;r>o;o++){var s=e.pop();s==t.Event.LOOP_COMPLETE?i=!0:s==t.Event.COMPLETE?n=!0:this.dispatchEventWith(s)}i&&this.dispatchEventWith(t.Event.LOOP_COMPLETE),n&&this.dispatchEventWith(t.Event.COMPLETE)}},Object.defineProperty(r.prototype,"totalFrames",{get:function(){return this.$totalFrames},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentFrame",{get:function(){return this.$currentFrameNum},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentFrameLabel",{get:function(){var t=this.getFrameLabelByFrame(this.$currentFrameNum);return t&&t.name},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentLabel",{get:function(){var t=this.getFrameLabelForFrame(this.$currentFrameNum);return t?t.name:null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"frameRate",{get:function(){return this.$frameRate},set:function(t){t!=this.$frameRate&&(this.$frameRate=t,this.frameIntervalTime=1e3/this.$frameRate)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isPlaying",{get:function(){return this.$isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"movieClipData",{get:function(){return this.$movieClipData},set:function(t){this.setMovieClipData(t)},enumerable:!0,configurable:!0}),r.prototype.setMovieClipData=function(t){this.$movieClipData!=t&&(this.$movieClipData=t,this.$init())},r.prototype.setPlayTimes=function(t){(0>t||t>=1)&&(this.playTimes=0>t?-1:Math.floor(t))},r.prototype.setIsStopped=function(e){this.isStopped!=e&&(this.isStopped=e,e?t.ticker.$stopTick(this.advanceTime,this):(this.playTimes=0==this.playTimes?1:this.playTimes,this.lastTime=t.getTimer(),t.ticker.$startTick(this.advanceTime,this)))},r}(t.DisplayObject);t.MovieClip=e,__reflect(e.prototype,"egret.MovieClip")}(egret||(egret={}));var egret;!function(t){var e=function(e){function r(r){void 0===r&&(r=null);
var n=e.call(this)||this;return n.data=null,n.method=t.URLRequestMethod.GET,n.url="",n.requestHeaders=[],n.url=r,n}return __extends(r,e),r}(t.HashObject);t.URLRequest=e,__reflect(e.prototype,"egret.URLRequest")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(t,e){this.name="",this.value="",this.name=t,this.value=e}return t}();t.URLRequestHeader=e,__reflect(e.prototype,"egret.URLRequestHeader")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}return t.GET="get",t.POST="post",t}();t.URLRequestMethod=e,__reflect(e.prototype,"egret.URLRequestMethod")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e){void 0===e&&(e=null);var r=t.call(this)||this;return r.variables=null,null!==e&&r.decode(e),r}return __extends(e,t),e.prototype.decode=function(t){this.variables||(this.variables={}),t=t.split("+").join(" ");for(var e,r=/[?&]?([^=]+)=([^&]*)/g;e=r.exec(t);){var n=decodeURIComponent(e[1]),i=decodeURIComponent(e[2]);if(n in this.variables!=0){var o=this.variables[n];o instanceof Array?o.push(i):this.variables[n]=[o,i]}else this.variables[n]=i}},e.prototype.toString=function(){if(!this.variables)return"";var t=this.variables,e=[];for(var r in t)e.push(this.encodeValue(r,t[r]));return e.join("&")},e.prototype.encodeValue=function(t,e){return e instanceof Array?this.encodeArray(t,e):encodeURIComponent(t)+"="+encodeURIComponent(e)},e.prototype.encodeArray=function(t,e){return t?0==e.length?encodeURIComponent(t)+"=":e.map(function(e){return encodeURIComponent(t)+"="+encodeURIComponent(e)}).join("&"):""},e}(t.HashObject);t.URLVariables=e,__reflect(e.prototype,"egret.URLVariables")}(egret||(egret={}));var egret;!function(t){var e=function(e){function r(){var n=e.call(this)||this;return n._timeScale=1,n._paused=!1,n._callIndex=-1,n._lastTime=0,n.callBackList=[],null!=r.instance,t.ticker.$startTick(n.update,n),n._lastTime=t.getTimer(),n}return __extends(r,e),r.prototype.update=function(t){var e=t-this._lastTime;if(this._lastTime=t,this._paused)return!1;var r=e*this._timeScale;for(this._callList=this.callBackList.concat(),this._callIndex=0;this._callIndex<this._callList.length;this._callIndex++){var n=this._callList[this._callIndex];n.listener.call(n.thisObject,r)}return this._callIndex=-1,this._callList=null,!1},r.prototype.register=function(t,e,r){void 0===r&&(r=0),this.$insertEventBin(this.callBackList,"",t,e,!1,r,!1)},r.prototype.unregister=function(t,e){this.$removeEventBin(this.callBackList,t,e)},r.prototype.setTimeScale=function(t){this._timeScale=t},r.prototype.getTimeScale=function(){return this._timeScale},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){this._paused=!1},r.getInstance=function(){return null==r.instance&&(r.instance=new r),r.instance},r}(t.EventDispatcher);t.Ticker=e,__reflect(e.prototype,"egret.Ticker")}(egret||(egret={}));var egret;!function(t){var e=function(e){function r(){return e.call(this)||this}return __extends(r,e),Object.defineProperty(r.prototype,"stage",{get:function(){return t.sys.$TempStage},enumerable:!0,configurable:!0}),Object.defineProperty(r,"instance",{get:function(){return null==r._instance&&(r._instance=new r),r._instance},enumerable:!0,configurable:!0}),r.deviceType=null,r.DEVICE_PC="web",r.DEVICE_MOBILE="native",r}(t.EventDispatcher);t.MainContext=e,__reflect(e.prototype,"egret.MainContext")}(egret||(egret={})),egret.testDeviceType1=function(){if(!window.navigator||!navigator)return!0;var t=navigator.userAgent.toLowerCase();return-1!=t.indexOf("mobile")||-1!=t.indexOf("android")},egret.MainContext.deviceType=egret.testDeviceType1()?egret.MainContext.DEVICE_MOBILE:egret.MainContext.DEVICE_PC,delete egret.testDeviceType1;var egret;!function(t){var e=function(e){function r(t){void 0===t&&(t=300);var r=e.call(this)||this;return r.objectPool=[],r._length=0,1>t&&(t=1),r.autoDisposeTime=t,r.frameCount=0,r}return __extends(r,e),r.$init=function(){t.ticker.$startTick(r.onUpdate,r)},r.onUpdate=function(t){for(var e=r._callBackList,n=e.length-1;n>=0;n--)e[n].$checkFrame();return!1},r.prototype.$checkFrame=function(){this.frameCount--,this.frameCount<=0&&this.dispose()},Object.defineProperty(r.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),r.prototype.push=function(t){var e=this.objectPool;-1==e.indexOf(t)&&(e.push(t),t.__recycle&&t.__recycle(),this._length++,0==this.frameCount&&(this.frameCount=this.autoDisposeTime,r._callBackList.push(this)))},r.prototype.pop=function(){return 0==this._length?null:(this._length--,this.objectPool.pop())},r.prototype.dispose=function(){this._length>0&&(this.objectPool=[],this._length=0),this.frameCount=0;var t=r._callBackList,e=t.indexOf(this);-1!=e&&t.splice(e,1)},r._callBackList=[],r}(t.HashObject);t.Recycler=e,__reflect(e.prototype,"egret.Recycler"),e.$init()}(egret||(egret={}));var egret;!function(t){function e(e,r,u){for(var c=[],h=3;h<arguments.length;h++)c[h-3]=arguments[h];var l={listener:e,thisObject:r,delay:u,originDelay:u,params:c};return s++,1==s&&(a=t.getTimer(),t.ticker.$startTick(n,null)),o++,i[o]=l,o}function r(e){i[e]&&(s--,delete i[e],0==s&&t.ticker.$stopTick(n,null))}function n(t){var e=t-a;a=t;for(var r in i){var n=i[r];n.delay-=e,n.delay<=0&&(n.delay=n.originDelay,n.listener.apply(n.thisObject,n.params))}return!1}var i={},o=0,s=0,a=0;t.setInterval=e,t.clearInterval=r}(egret||(egret={}));var egret;!function(t){function e(e,r,u){for(var c=[],h=3;h<arguments.length;h++)c[h-3]=arguments[h];var l={listener:e,thisObject:r,delay:u,params:c};return s++,1==s&&t.ticker&&(a=t.getTimer(),t.ticker.$startTick(n,null)),o++,i[o]=l,o}function r(e){i[e]&&(s--,delete i[e],0==s&&t.ticker&&t.ticker.$stopTick(n,null))}function n(t){var e=t-a;a=t;for(var n in i){var o=n,s=i[o];s.delay-=e,s.delay<=0&&(r(o),s.listener.apply(s.thisObject,s.params))}return!1}var i={},o=0,s=0,a=0;t.setTimeout=e,t.clearTimeout=r}(egret||(egret={}));var __reflect=this&&this.__reflect||function(t,e,r){t.__class__=e,r?r.push(e):r=[e],t.__types__=t.__types__?r.concat(t.__types__):r},__extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);r.prototype=e.prototype,t.prototype=new r},egret;!function(t){var e=function(){function e(){t.$error(1014)}return e.get=function(t){return-1>t&&(t=-1),t>1&&(t=1),function(e){return 0==t?e:0>t?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},e.getPowIn=function(t){return function(e){return Math.pow(e,t)}},e.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},e.getPowInOut=function(t){return function(e){return(e*=2)<1?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}},e.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},e.sineOut=function(t){return Math.sin(t*Math.PI/2)},e.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},e.getBackIn=function(t){return function(e){return e*e*((t+1)*e-t)}},e.getBackOut=function(t){return function(e){return--e*e*((t+1)*e+t)+1}},e.getBackInOut=function(t){return t*=1.525,function(e){return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}},e.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},e.circOut=function(t){return Math.sqrt(1- --t*t)},e.circInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},e.bounceIn=function(t){return 1-e.bounceOut(1-t)},e.bounceOut=function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},e.bounceInOut=function(t){return.5>t?.5*e.bounceIn(2*t):.5*e.bounceOut(2*t-1)+.5},e.getElasticIn=function(t,e){var r=2*Math.PI;return function(n){if(0==n||1==n)return n;var i=e/r*Math.asin(1/t);return-(t*Math.pow(2,10*(n-=1))*Math.sin((n-i)*r/e))}},e.getElasticOut=function(t,e){var r=2*Math.PI;return function(n){if(0==n||1==n)return n;var i=e/r*Math.asin(1/t);return t*Math.pow(2,-10*n)*Math.sin((n-i)*r/e)+1}},e.getElasticInOut=function(t,e){var r=2*Math.PI;return function(n){var i=e/r*Math.asin(1/t);return(n*=2)<1?-.5*(t*Math.pow(2,10*(n-=1))*Math.sin((n-i)*r/e)):t*Math.pow(2,-10*(n-=1))*Math.sin((n-i)*r/e)*.5+1}},e.quadIn=e.getPowIn(2),e.quadOut=e.getPowOut(2),e.quadInOut=e.getPowInOut(2),e.cubicIn=e.getPowIn(3),e.cubicOut=e.getPowOut(3),e.cubicInOut=e.getPowInOut(3),e.quartIn=e.getPowIn(4),e.quartOut=e.getPowOut(4),e.quartInOut=e.getPowInOut(4),e.quintIn=e.getPowIn(5),e.quintOut=e.getPowOut(5),e.quintInOut=e.getPowInOut(5),e.backIn=e.getBackIn(1.7),e.backOut=e.getBackOut(1.7),e.backInOut=e.getBackInOut(1.7),e.elasticIn=e.getElasticIn(1,.3),e.elasticOut=e.getElasticOut(1,.3),e.elasticInOut=e.getElasticInOut(1,.3*1.5),e}();t.Ease=e,__reflect(e.prototype,"egret.Ease")}(egret||(egret={}));var egret;!function(t){var e=function(e){function r(t,r,n){var i=e.call(this)||this;return i._target=null,i._useTicks=!1,i.ignoreGlobalPause=!1,i.loop=!1,i.pluginData=null,i._steps=null,i.paused=!1,i.duration=0,i._prevPos=-1,i.position=null,i._prevPosition=0,i._stepPosition=0,i.passive=!1,i.initialize(t,r,n),i}return __extends(r,e),r.get=function(t,e,n,i){return void 0===n&&(n=null),void 0===i&&(i=!1),i&&r.removeTweens(t),new r(t,e,n)},r.removeTweens=function(t){if(t.tween_count){for(var e=r._tweens,n=e.length-1;n>=0;n--)e[n]._target==t&&(e[n].paused=!0,e.splice(n,1));t.tween_count=0}},r.pauseTweens=function(e){if(e.tween_count)for(var r=t.Tween._tweens,n=r.length-1;n>=0;n--)r[n]._target==e&&(r[n].paused=!0)},r.resumeTweens=function(e){if(e.tween_count)for(var r=t.Tween._tweens,n=r.length-1;n>=0;n--)r[n]._target==e&&(r[n].paused=!1)},r.tick=function(t,e){void 0===e&&(e=!1);var n=t-r._lastTime;r._lastTime=t;for(var i=r._tweens.concat(),o=i.length-1;o>=0;o--){var s=i[o];e&&!s.ignoreGlobalPause||s.paused||s.$tick(s._useTicks?1:n)}return!1},r._register=function(e,n){var i=e._target,o=r._tweens;if(n)i&&(i.tween_count=i.tween_count>0?i.tween_count+1:1),o.push(e),r._inited||(r._lastTime=t.getTimer(),t.ticker.$startTick(r.tick,null),r._inited=!0);else{i&&i.tween_count--;for(var s=o.length;s--;)if(o[s]==e)return void o.splice(s,1)}},r.removeAllTweens=function(){for(var t=r._tweens,e=0,n=t.length;n>e;e++){var i=t[e];i.paused=!0,i._target.tween_count=0}t.length=0},r.prototype.initialize=function(t,e,n){this._target=t,e&&(this._useTicks=e.useTicks,this.ignoreGlobalPause=e.ignoreGlobalPause,this.loop=e.loop,e.onChange&&this.addEventListener("change",e.onChange,e.onChangeObj),e.override&&r.removeTweens(t)),this.pluginData=n||{},this._curQueueProps={},this._initQueueProps={},this._steps=[],e&&e.paused?this.paused=!0:r._register(this,!0),e&&null!=e.position&&this.setPosition(e.position,r.NONE)},r.prototype.setPosition=function(t,e){void 0===e&&(e=1),0>t&&(t=0);var r=t,n=!1;if(r>=this.duration)if(this.loop){var i=r%this.duration;r=r>0&&0===i?this.duration:i}else r=this.duration,n=!0;if(r==this._prevPos)return n;n&&this.setPaused(!0);var o=this._prevPos;if(this.position=this._prevPos=r,this._prevPosition=t,this._target&&this._steps.length>0){for(var s=this._steps.length,a=-1,u=0;s>u&&!("step"==this._steps[u].type&&(a=u,this._steps[u].t<=r&&this._steps[u].t+this._steps[u].d>=r));u++);for(var u=0;s>u;u++)if("action"==this._steps[u].type)0!=e&&(this._useTicks?this._runAction(this._steps[u],r,r):1==e&&o>r?(o!=this.duration&&this._runAction(this._steps[u],o,this.duration),this._runAction(this._steps[u],0,r,!0)):this._runAction(this._steps[u],o,r));else if("step"==this._steps[u].type&&a==u){var c=this._steps[a];this._updateTargetProps(c,Math.min((this._stepPosition=r-c.t)/c.d,1))}}return this.dispatchEventWith("change"),n},r.prototype._runAction=function(t,e,r,n){void 0===n&&(n=!1);var i=e,o=r;e>r&&(i=r,o=e);var s=t.t;(s==o||s>i&&o>s||n&&s==e)&&t.f.apply(t.o,t.p)},r.prototype._updateTargetProps=function(t,e){var n,i,o,s,a,u;if(t||1!=e){if(this.passive=!!t.v,this.passive)return;t.e&&(e=t.e(e,0,1,1)),n=t.p0,i=t.p1}else this.passive=!1,n=i=this._curQueueProps;for(var c in this._initQueueProps){null==(s=n[c])&&(n[c]=s=this._initQueueProps[c]),null==(a=i[c])&&(i[c]=a=s),o=s==a||0==e||1==e||"number"!=typeof s?1==e?a:s:s+(a-s)*e;var h=!1;if(u=r._plugins[c])for(var l=0,f=u.length;f>l;l++){var d=u[l].tween(this,c,o,n,i,e,!!t&&n==i,!t);d==r.IGNORE?h=!0:o=d}h||(this._target[c]=o)}},r.prototype.setPaused=function(t){return this.paused==t?this:(this.paused=t,r._register(this,!t),this)},r.prototype._cloneProps=function(t){var e={};for(var r in t)e[r]=t[r];return e},r.prototype._addStep=function(t){return t.d>0&&(t.type="step",this._steps.push(t),t.t=this.duration,this.duration+=t.d),this},r.prototype._appendQueueProps=function(t){var e,n,i,o,s;for(var a in t)if(void 0===this._initQueueProps[a]){if(n=this._target[a],e=r._plugins[a])for(i=0,o=e.length;o>i;i++)n=e[i].init(this,a,n);this._initQueueProps[a]=this._curQueueProps[a]=void 0===n?null:n}else n=this._curQueueProps[a];for(var a in t){if(n=this._curQueueProps[a],e=r._plugins[a])for(s=s||{},i=0,o=e.length;o>i;i++)e[i].step&&e[i].step(this,a,n,t[a],s);this._curQueueProps[a]=t[a]}return s&&this._appendQueueProps(s),this._curQueueProps},r.prototype._addAction=function(t){return t.t=this.duration,t.type="action",this._steps.push(t),this},r.prototype._set=function(t,e){for(var r in t)e[r]=t[r]},r.prototype.wait=function(t,e){if(null==t||0>=t)return this;var r=this._cloneProps(this._curQueueProps);return this._addStep({d:t,p0:r,p1:r,v:e})},r.prototype.to=function(t,e,r){return void 0===r&&(r=void 0),(isNaN(e)||0>e)&&(e=0),this._addStep({d:e||0,p0:this._cloneProps(this._curQueueProps),e:r,p1:this._cloneProps(this._appendQueueProps(t))}),this.set(t)},r.prototype.call=function(t,e,r){return void 0===e&&(e=void 0),void 0===r&&(r=void 0),this._addAction({f:t,p:r?r:[],o:e?e:this._target})},r.prototype.set=function(t,e){return void 0===e&&(e=null),this._appendQueueProps(t),this._addAction({f:this._set,o:this,p:[t,e?e:this._target]})},r.prototype.play=function(t){return t||(t=this),this.call(t.setPaused,t,[!1])},r.prototype.pause=function(t){return t||(t=this),this.call(t.setPaused,t,[!0])},r.prototype.$tick=function(t){this.paused||this.setPosition(this._prevPosition+t)},r.NONE=0,r.LOOP=1,r.REVERSE=2,r._tweens=[],r.IGNORE={},r._plugins={},r._inited=!1,r._lastTime=0,r}(t.EventDispatcher);t.Tween=e,__reflect(e.prototype,"egret.Tween")}(egret||(egret={}));var egret;!function(t){var e;!function(e){function r(e){if("function"==typeof e)return e;var r=t.Ease[e];return"function"==typeof r?r:null}function n(t,e,r,n){var i=t.prototype;i.__meta__=i.__meta__||{},i.__meta__[e]=r,n&&(i.__defaultProperty__=e)}var i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="",e}return __extends(e,t),e}(t.EventDispatcher);e.BasePath=i,__reflect(i.prototype,"egret.tween.BasePath");var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.props=void 0,e.duration=500,e.ease=void 0,e}return __extends(e,t),e}(i);e.To=o,__reflect(o.prototype,"egret.tween.To");var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.duration=500,e.passive=void 0,e}return __extends(e,t),e}(i);e.Wait=s,__reflect(s.prototype,"egret.tween.Wait");var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.props=void 0,e}return __extends(e,t),e}(i);e.Set=a,__reflect(a.prototype,"egret.tween.Set");var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.delta=0,e}return __extends(e,t),e}(i);e.Tick=u,__reflect(u.prototype,"egret.tween.Tick");var c=function(e){function n(){var t=e.call(this)||this;return t.isStop=!1,t}return __extends(n,e),Object.defineProperty(n.prototype,"props",{get:function(){return this._props},set:function(t){this._props=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paths",{get:function(){return this._paths},set:function(t){this._paths=t||[]},enumerable:!0,configurable:!0}),n.prototype.play=function(t){this.tween?(this.tween.setPaused(!1),this.isStop&&void 0==t&&(t=0,this.isStop=!1),void 0!==t&&null!==t&&this.tween.setPosition(t)):this.createTween(t)},n.prototype.pause=function(){this.tween&&this.tween.setPaused(!0)},n.prototype.stop=function(){this.pause(),this.isStop=!0},n.prototype.createTween=function(e){this.tween=t.Tween.get(this._target,this._props),this._paths&&this.applyPaths(),void 0!==e&&null!==e&&this.tween.setPosition(e)},n.prototype.applyPaths=function(){for(var t=0;t<this._paths.length;t++){var e=this._paths[t];this.applyPath(e)}},n.prototype.applyPath=function(t){var e=this;t instanceof o?this.tween.to(t.props,t.duration,r(t.ease)):t instanceof s?this.tween.wait(t.duration,t.passive):t instanceof a?this.tween.set(t.props):t instanceof u&&this.tween.$tick(t.delta),this.tween.call(function(){return e.pathComplete(t)})},n.prototype.pathComplete=function(t){t.dispatchEventWith("complete"),this.dispatchEventWith("pathComplete",!1,t);var e=this._paths.indexOf(t);e>=0&&e===this._paths.length-1&&this.dispatchEventWith("complete")},n}(t.EventDispatcher);e.TweenItem=c,__reflect(c.prototype,"egret.tween.TweenItem"),n(c,"paths","Array",!0);var h=function(t){function e(){var e=t.call(this)||this;return e.completeCount=0,e}return __extends(e,t),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},set:function(t){this.completeCount=0,this.registerEvent(!1),this._items=t,this.registerEvent(!0)},enumerable:!0,configurable:!0}),e.prototype.registerEvent=function(t){var e=this;this._items&&this._items.forEach(function(r){t?r.addEventListener("complete",e.itemComplete,e):r.removeEventListener("complete",e.itemComplete,e)})},e.prototype.play=function(t){if(this._items)for(var e=0;e<this._items.length;e++){var r=this._items[e];r.play(t)}},e.prototype.pause=function(){if(this._items)for(var t=0;t<this._items.length;t++){var e=this._items[t];e.pause()}},e.prototype.stop=function(){if(this._items)for(var t=0;t<this._items.length;t++){var e=this._items[t];e.stop()}},e.prototype.itemComplete=function(t){var e=t.currentTarget;this.completeCount++,this.dispatchEventWith("itemComplete",!1,e),this.completeCount===this.items.length&&(this.dispatchEventWith("complete"),this.completeCount=0)},e}(t.EventDispatcher);e.TweenGroup=h,__reflect(h.prototype,"egret.tween.TweenGroup"),n(h,"items","Array",!0)}(e=t.tween||(t.tween={}))}(egret||(egret={})),!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ES6Promise=e()}(this,function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function r(t){Z=t}function n(t){H=t}function i(){return function(){return process.nextTick(c)}}function o(){return"undefined"!=typeof G?function(){G(c)}:u()}function s(){var t=0,e=new X(c),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){r.data=t=++t%2}}function a(){var t=new MessageChannel;return t.port1.onmessage=c,function(){return t.port2.postMessage(0)}}function u(){var t=setTimeout;return function(){return t(c,1)}}function c(){for(var t=0;V>t;t+=2){var e=J[t],r=J[t+1];e(r),J[t]=void 0,J[t+1]=void 0}V=0}function h(){try{var t=require,e=t("vertx");return G=e.runOnLoop||e.runOnContext,o()}catch(r){return u()}}function l(t,e){var r=arguments,n=this,i=new this.constructor(d);void 0===i[ee]&&A(i);var o=n._state;return o?!function(){var t=r[o-1];H(function(){return R(o,i,t,n._result)})}():x(n,i,t,e),i}function f(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var r=new e(d);return w(r,t),r}function d(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function _(){return new TypeError("A promises callback cannot return that same promise.")}function m(t){try{return t.then}catch(e){return oe.error=e,oe}}function g(t,e,r,n){try{t.call(e,r,n)}catch(i){return i}}function v(t,e,r){H(function(t){var n=!1,i=g(r,e,function(r){n||(n=!0,e!==r?w(t,r):E(t,r))},function(e){n||(n=!0,S(t,e))},"Settle: "+(t._label||" unknown promise"));!n&&i&&(n=!0,S(t,i))},t)}function y(t,e){e._state===ne?E(t,e._result):e._state===ie?S(t,e._result):x(e,void 0,function(e){return w(t,e)},function(e){return S(t,e)})}function b(t,r,n){r.constructor===t.constructor&&n===l&&r.constructor.resolve===f?y(t,r):n===oe?S(t,oe.error):void 0===n?E(t,r):e(n)?v(t,r,n):E(t,r)}function w(e,r){e===r?S(e,p()):t(r)?b(e,r,m(r)):E(e,r)}function k(t){t._onerror&&t._onerror(t._result),T(t)}function E(t,e){t._state===re&&(t._result=e,t._state=ne,0!==t._subscribers.length&&H(T,t))}function S(t,e){t._state===re&&(t._state=ie,t._result=e,H(k,t))}function x(t,e,r,n){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+ne]=r,i[o+ie]=n,0===o&&t._state&&H(T,t)}function T(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,i=void 0,o=t._result,s=0;s<e.length;s+=3)n=e[s],i=e[s+r],n?R(r,n,i,o):i(o);t._subscribers.length=0}}function P(){this.error=null}function C(t,e){try{return t(e)}catch(r){return se.error=r,se}}function R(t,r,n,i){var o=e(n),s=void 0,a=void 0,u=void 0,c=void 0;if(o){if(s=C(n,i),s===se?(c=!0,a=s.error,s=null):u=!0,r===s)return void S(r,_())}else s=i,u=!0;r._state!==re||(o&&u?w(r,s):c?S(r,a):t===ne?E(r,s):t===ie&&S(r,s))}function O(t,e){try{e(function(e){w(t,e)},function(e){S(t,e)})}catch(r){S(t,r)}}function I(){return ae++}function A(t){t[ee]=ae++,t._state=void 0,t._result=void 0,t._subscribers=[]}function z(t,e){this._instanceConstructor=t,this.promise=new t(d),this.promise[ee]||A(this.promise),W(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?E(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&E(this.promise,this._result))):S(this.promise,D())}function D(){return new Error("Array Methods must be provided an Array")}function L(t){return new z(this,t).promise}function B(t){var e=this;return new e(W(t)?function(r,n){for(var i=t.length,o=0;i>o;o++)e.resolve(t[o]).then(r,n)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function F(t){var e=this,r=new e(d);return S(r,t),r}function N(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function U(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function M(t){this[ee]=I(),this._result=this._state=void 0,this._subscribers=[],d!==t&&("function"!=typeof t&&N(),this instanceof M?O(this,t):U())}function j(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var r=t.Promise;if("undefined"!=typeof egret_native&&egret_native.capability&&!egret_native.capability("Promise")&&(r=void 0),r){var n=null;try{n=Object.prototype.toString.call(r.resolve())}catch(e){}if("[object Promise]"===n&&!r.cast)return}t.Promise=M}var $=void 0;$=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var W=$,V=0,G=void 0,Z=void 0,H=function(t,e){J[V]=t,J[V+1]=e,V+=2,2===V&&(Z?Z(c):te())},q="undefined"!=typeof window?window:void 0,Y=q||{},X=Y.MutationObserver||Y.WebKitMutationObserver,K="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Q="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,J=new Array(1e3),te=void 0;te=K?i():X?s():Q?a():void 0===q&&"function"==typeof require?h():u();var ee=Math.random().toString(36).substring(16),re=void 0,ne=1,ie=2,oe=new P,se=new P,ae=0;return z.prototype._enumerate=function(){for(var t=this.length,e=this._input,r=0;this._state===re&&t>r;r++)this._eachEntry(e[r],r)},z.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===f){var i=m(t);if(i===l&&t._state!==re)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(r===M){var o=new r(d);b(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},z.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===re&&(this._remaining--,t===ie?S(n,r):this._result[e]=r),0===this._remaining&&E(n,this._result)},z.prototype._willSettleAt=function(t,e){var r=this;x(t,void 0,function(t){return r._settledAt(ne,e,t)},function(t){return r._settledAt(ie,e,t)})},M.all=L,M.race=B,M.resolve=f,M.reject=F,M._setScheduler=r,M._setAsap=n,M._asap=H,M.prototype={constructor:M,then:l,"catch":function(t){return this.then(null,t)}},M.polyfill=j,M.Promise=M,M}),ES6Promise.polyfill(),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.JSZip=t()}}(function(){return function t(e,r,n){function i(s,a){if(!r[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=r[s]={exports:{}};e[s][0].call(h.exports,function(t){var r=e[s][1][t];return i(r?r:t)},h,h.exports,t,e,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,r){"use strict";var n=t("./utils"),i=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(t){for(var e,r,i,s,a,u,c,h=[],l=0,f=t.length,d=f,p="string"!==n.getTypeOf(t);l<t.length;)d=f-l,p?(e=t[l++],r=f>l?t[l++]:0,i=f>l?t[l++]:0):(e=t.charCodeAt(l++),r=f>l?t.charCodeAt(l++):0,i=f>l?t.charCodeAt(l++):0),s=e>>2,a=(3&e)<<4|r>>4,u=d>1?(15&r)<<2|i>>6:64,c=d>2?63&i:64,h.push(o.charAt(s)+o.charAt(a)+o.charAt(u)+o.charAt(c));return h.join("")},r.decode=function(t){var e,r,n,s,a,u,c,h=0,l=0,f="data:";if(t.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");var d=3*t.length/4;if(t.charAt(t.length-1)===o.charAt(64)&&d--,t.charAt(t.length-2)===o.charAt(64)&&d--,d%1!==0)throw new Error("Invalid base64 input, bad content length.");var p;for(p=i.uint8array?new Uint8Array(0|d):new Array(0|d);h<t.length;)s=o.indexOf(t.charAt(h++)),a=o.indexOf(t.charAt(h++)),u=o.indexOf(t.charAt(h++)),c=o.indexOf(t.charAt(h++)),e=s<<2|a>>4,r=(15&a)<<4|u>>2,n=(3&u)<<6|c,p[l++]=e,64!==u&&(p[l++]=r),64!==c&&(p[l++]=n);return p}},{"./support":30,"./utils":32}],2:[function(t,e,r){"use strict";function n(t,e,r,n,i){this.compressedSize=t,this.uncompressedSize=e,this.crc32=r,this.compression=n,this.compressedContent=i}var i=t("./external"),o=t("./stream/DataWorker"),s=t("./stream/DataLengthProbe"),a=t("./stream/Crc32Probe"),s=t("./stream/DataLengthProbe");n.prototype={getContentWorker:function(){var t=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},n.createWorkerFrom=function(t,e,r){return t.pipe(new a).pipe(new s("uncompressedSize")).pipe(e.compressWorker(r)).pipe(new s("compressedSize")).withStreamInfo("compression",e)},e.exports=n},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,r){"use strict";var n=t("./stream/GenericWorker");r.STORE={magic:"\x00\x00",compressWorker:function(t){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,r){"use strict";function n(){for(var t,e=[],r=0;256>r;r++){t=r;for(var n=0;8>n;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}function i(t,e,r,n){var i=a,o=n+r;t=-1^t;for(var s=n;o>s;s++)t=t>>>8^i[255&(t^e[s])];return-1^t}function o(t,e,r,n){var i=a,o=n+r;t=-1^t;for(var s=n;o>s;s++)t=t>>>8^i[255&(t^e.charCodeAt(s))];return-1^t}var s=t("./utils"),a=n();e.exports=function(t,e){if("undefined"==typeof t||!t.length)return 0;var r="string"!==s.getTypeOf(t);return r?i(0|e,t,t.length,0):o(0|e,t,t.length,0)}},{"./utils":32}],5:[function(t,e,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,e,r){"use strict";var n=null;n="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:n}},{lie:58}],7:[function(t,e,r){"use strict";function n(t,e){a.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=t("pako"),s=t("./utils"),a=t("./stream/GenericWorker"),u=i?"uint8array":"array";r.magic="\b\x00",s.inherits(n,a),n.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(u,t.data),!1)},n.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},n.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},n.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},r.compressWorker=function(t){return new n("Deflate",t)},r.uncompressWorker=function(){return new n("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:59}],8:[function(t,e,r){"use strict";function n(t,e,r,n){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var i=t("../utils"),o=t("../stream/GenericWorker"),s=t("../utf8"),a=t("../crc32"),u=t("../signature"),c=function(t,e){var r,n="";for(r=0;e>r;r++)n+=String.fromCharCode(255&t),t>>>=8;return n},h=function(t,e){var r=t;return t||(r=e?16893:33204),(65535&r)<<16},l=function(t,e){return 63&(t||0)},f=function(t,e,r,n,o,f){var d,p,_=t.file,m=t.compression,g=f!==s.utf8encode,v=i.transformTo("string",f(_.name)),y=i.transformTo("string",s.utf8encode(_.name)),b=_.comment,w=i.transformTo("string",f(b)),k=i.transformTo("string",s.utf8encode(b)),E=y.length!==_.name.length,S=k.length!==b.length,x="",T="",P="",C=_.dir,R=_.date,O={crc32:0,compressedSize:0,uncompressedSize:0};(!e||r)&&(O.crc32=t.crc32,O.compressedSize=t.compressedSize,O.uncompressedSize=t.uncompressedSize);var I=0;e&&(I|=8),g||!E&&!S||(I|=2048);var A=0,z=0;C&&(A|=16),"UNIX"===o?(z=798,A|=h(_.unixPermissions,C)):(z=20,A|=l(_.dosPermissions,C)),d=R.getUTCHours(),d<<=6,d|=R.getUTCMinutes(),d<<=5,d|=R.getUTCSeconds()/2,p=R.getUTCFullYear()-1980,p<<=4,p|=R.getUTCMonth()+1,p<<=5,p|=R.getUTCDate(),E&&(T=c(1,1)+c(a(v),4)+y,x+="up"+c(T.length,2)+T),S&&(P=c(1,1)+c(a(w),4)+k,x+="uc"+c(P.length,2)+P);var D="";D+="\n\x00",D+=c(I,2),D+=m.magic,D+=c(d,2),D+=c(p,2),D+=c(O.crc32,4),D+=c(O.compressedSize,4),D+=c(O.uncompressedSize,4),D+=c(v.length,2),D+=c(x.length,2);var L=u.LOCAL_FILE_HEADER+D+v+x,B=u.CENTRAL_FILE_HEADER+c(z,2)+D+c(w.length,2)+"\x00\x00\x00\x00"+c(A,4)+c(n,4)+v+x+w;return{fileRecord:L,dirRecord:B}},d=function(t,e,r,n,o){var s="",a=i.transformTo("string",o(n));
return s=u.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+c(t,2)+c(t,2)+c(e,4)+c(r,4)+c(a.length,2)+a},p=function(t){var e="";return e=u.DATA_DESCRIPTOR+c(t.crc32,4)+c(t.compressedSize,4)+c(t.uncompressedSize,4)};i.inherits(n,o),n.prototype.push=function(t){var e=t.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,o.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:r?(e+100*(r-n-1))/r:100}}))},n.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var r=f(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},n.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,r=f(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),e)this.push({data:p(t),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},n.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var r=this.bytesWritten-t,n=d(this.dirRecords.length,r,t,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},n.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},n.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},n.prototype.resume=function(){return o.prototype.resume.call(this)?!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0):!1},n.prototype.error=function(t){var e=this._sources;if(!o.prototype.error.call(this,t))return!1;for(var r=0;r<e.length;r++)try{e[r].error(t)}catch(t){}return!0},n.prototype.lock=function(){o.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=n},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,r){"use strict";var n=t("../compressions"),i=t("./ZipFileWorker"),o=function(t,e){var r=t||e,i=n[r];if(!i)throw new Error(r+" is not a valid compression method !");return i};r.generateWorker=function(t,e,r){var n=new i(e.streamFiles,r,e.platform,e.encodeFileName),s=0;try{t.forEach(function(t,r){s++;var i=o(r.options.compression,e.compression),a=r.options.compressionOptions||e.compressionOptions||{},u=r.dir,c=r.date;r._compressWorker(i,a).withStreamInfo("file",{name:t,dir:u,date:c,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(n)}),n.entriesCount=s}catch(a){n.error(a)}return n}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,r){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new n;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}n.prototype=t("./object"),n.prototype.loadAsync=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.version="3.1.5",n.loadAsync=function(t,e){return(new n).loadAsync(t,e)},n.external=t("./external"),e.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,r){"use strict";function n(t){return new o.Promise(function(e,r){var n=t.decompressed.getContentWorker().pipe(new u);n.on("error",function(t){r(t)}).on("end",function(){n.streamInfo.crc32!==t.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}var i=t("./utils"),o=t("./external"),s=t("./utf8"),i=t("./utils"),a=t("./zipEntries"),u=t("./stream/Crc32Probe"),c=t("./nodejsUtils");e.exports=function(t,e){var r=this;return e=i.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),c.isNode&&c.isStream(t)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then(function(t){var r=new a(e);return r.load(t),r}).then(function(t){var r=[o.Promise.resolve(t)],i=t.files;if(e.checkCRC32)for(var s=0;s<i.length;s++)r.push(n(i[s]));return o.Promise.all(r)}).then(function(t){for(var n=t.shift(),i=n.files,o=0;o<i.length;o++){var s=i[o];r.file(s.fileNameStr,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:e.createFolders})}return n.zipComment.length&&(r.comment=n.zipComment),r})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,r){"use strict";function n(t,e){o.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}var i=t("../utils"),o=t("../stream/GenericWorker");i.inherits(n,o),n.prototype._bindStream=function(t){var e=this;this._stream=t,t.pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},n.prototype.pause=function(){return o.prototype.pause.call(this)?(this._stream.pause(),!0):!1},n.prototype.resume=function(){return o.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},e.exports=n},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,r){"use strict";function n(t,e,r){i.call(this,e),this._helper=t;var n=this;t.on("data",function(t,e){n.push(t)||n._helper.pause(),r&&r(e)}).on("error",function(t){n.emit("error",t)}).on("end",function(){n.push(null)})}var i=t("readable-stream").Readable,o=t("../utils");o.inherits(n,i),n.prototype._read=function(){this._helper.resume()},e.exports=n},{"../utils":32,"readable-stream":16}],14:[function(t,e,r){"use strict";e.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(t,e){return new Buffer(t,e)},allocBuffer:function(t){return Buffer.alloc?Buffer.alloc(t):new Buffer(t)},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,r){"use strict";function n(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var i=t("./utf8"),o=t("./utils"),s=t("./stream/GenericWorker"),a=t("./stream/StreamHelper"),u=t("./defaults"),c=t("./compressedObject"),h=t("./zipObject"),l=t("./generate"),f=t("./nodejsUtils"),d=t("./nodejs/NodejsStreamInputAdapter"),p=function(t,e,r){var n,i=o.getTypeOf(e),a=o.extend(r||{},u);a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),"string"==typeof a.unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(t=m(t)),a.createFolders&&(n=_(t))&&g.call(this,n,!0);var l="string"===i&&a.binary===!1&&a.base64===!1;r&&"undefined"!=typeof r.binary||(a.binary=!l);var p=e instanceof c&&0===e.uncompressedSize;(p||a.dir||!e||0===e.length)&&(a.base64=!1,a.binary=!0,e="",a.compression="STORE",i="string");var v=null;v=e instanceof c||e instanceof s?e:f.isNode&&f.isStream(e)?new d(t,e):o.prepareContent(t,e,a.binary,a.optimizedBinaryString,a.base64);var y=new h(t,v,a);this.files[t]=y},_=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},m=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},g=function(t,e){return e="undefined"!=typeof e?e:u.createFolders,t=m(t),this.files[t]||p.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,r,n;for(e in this.files)this.files.hasOwnProperty(e)&&(n=this.files[e],r=e.slice(this.root.length,e.length),r&&e.slice(0,this.root.length)===this.root&&t(r,n))},filter:function(t){var e=[];return this.forEach(function(r,n){t(r,n)&&e.push(n)}),e},file:function(t,e,r){if(1===arguments.length){if(n(t)){var i=t;return this.filter(function(t,e){return!e.dir&&i.test(t)})}var o=this.files[this.root+t];return o&&!o.dir?o:null}return t=this.root+t,p.call(this,t,e,r),this},folder:function(t){if(!t)return this;if(n(t))return this.filter(function(e,r){return r.dir&&t.test(e)});var e=this.root+t,r=g.call(this,e),i=this.clone();return i.root=r.name,i},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var r=this.filter(function(e,r){return r.name.slice(0,t.length)===t}),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,r={};try{if(r=o.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode}),r.type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");o.checkSupport(r.type),("darwin"===r.platform||"freebsd"===r.platform||"linux"===r.platform||"sunos"===r.platform)&&(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var n=r.comment||this.comment||"";e=l.generateWorker(this,r,n)}catch(u){e=new s("error"),e.error(u)}return new a(e,r.type||"string",r.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return t=t||{},t.type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,r){e.exports=t("stream")},{stream:void 0}],17:[function(t,e,r){"use strict";function n(t){i.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}var i=t("./DataReader"),o=t("../utils");o.inherits(n,i),n.prototype.byteAt=function(t){return this.data[this.zero+t]},n.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),r=t.charCodeAt(1),n=t.charCodeAt(2),i=t.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===e&&this.data[o+1]===r&&this.data[o+2]===n&&this.data[o+3]===i)return o-this.zero;return-1},n.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1),n=t.charCodeAt(2),i=t.charCodeAt(3),o=this.readData(4);return e===o[0]&&r===o[1]&&n===o[2]&&i===o[3]},n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./DataReader":18}],18:[function(t,e,r){"use strict";function n(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}var i=t("../utils");n.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||0>t)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,r=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)r=(r<<8)+this.byteAt(e);return this.index+=t,r},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC((t>>25&127)+1980,(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=n},{"../utils":32}],19:[function(t,e,r){"use strict";function n(t){i.call(this,t)}var i=t("./Uint8ArrayReader"),o=t("../utils");o.inherits(n,i),n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,r){"use strict";function n(t){i.call(this,t)}var i=t("./DataReader"),o=t("../utils");o.inherits(n,i),n.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},n.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},n.prototype.readAndCheckSignature=function(t){var e=this.readData(4);return t===e},n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./DataReader":18}],21:[function(t,e,r){"use strict";function n(t){i.call(this,t)}var i=t("./ArrayReader"),o=t("../utils");o.inherits(n,i),n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,r){"use strict";var n=t("../utils"),i=t("../support"),o=t("./ArrayReader"),s=t("./StringReader"),a=t("./NodeBufferReader"),u=t("./Uint8ArrayReader");e.exports=function(t){var e=n.getTypeOf(t);return n.checkSupport(e),"string"!==e||i.uint8array?"nodebuffer"===e?new a(t):i.uint8array?new u(n.transformTo("uint8array",t)):new o(n.transformTo("array",t)):new s(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,r){"use strict";r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\b"},{}],24:[function(t,e,r){"use strict";function n(t){i.call(this,"ConvertWorker to "+t),this.destType=t}var i=t("./GenericWorker"),o=t("../utils");o.inherits(n,i),n.prototype.processChunk=function(t){this.push({data:o.transformTo(this.destType,t.data),meta:t.meta})},e.exports=n},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,r){"use strict";function n(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var i=t("./GenericWorker"),o=t("../crc32"),s=t("../utils");s.inherits(n,i),n.prototype.processChunk=function(t){this.streamInfo.crc32=o(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=n},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,r){"use strict";function n(t){o.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}var i=t("../utils"),o=t("./GenericWorker");i.inherits(n,o),n.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}o.prototype.processChunk.call(this,t)},e.exports=n},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,r){"use strict";function n(t){o.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=i.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}var i=t("../utils"),o=t("./GenericWorker"),s=16384;i.inherits(n,o),n.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},n.prototype.resume=function(){return o.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0):!1},n.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},n.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=s,e=null,r=Math.min(this.max,this.index+t);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,r);break;case"uint8array":e=this.data.subarray(this.index,r);break;case"array":case"nodebuffer":e=this.data.slice(this.index,r)}return this.index=r,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=n},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,r){"use strict";function n(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return this.isFinished?!1:(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var t=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=n},{}],29:[function(t,e,r){"use strict";function n(t,e,r){switch(t){case"blob":return a.newBlob(a.transformTo("arraybuffer",e),r);case"base64":return h.encode(e);default:return a.transformTo(t,e)}}function i(t,e){var r,n=0,i=null,o=0;for(r=0;r<e.length;r++)o+=e[r].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(i=new Uint8Array(o),r=0;r<e.length;r++)i.set(e[r],n),n+=e[r].length;return i;case"nodebuffer":return Buffer.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}function o(t,e){return new f.Promise(function(r,o){var s=[],a=t._internalType,u=t._outputType,c=t._mimeType;t.on("data",function(t,r){s.push(t),e&&e(r)}).on("error",function(t){s=[],o(t)}).on("end",function(){try{var t=n(u,i(a,s),c);r(t)}catch(e){o(e)}s=[]}).resume()})}function s(t,e,r){var n=e;switch(e){case"blob":case"arraybuffer":n="uint8array";break;case"base64":n="string"}try{this._internalType=n,this._outputType=e,this._mimeType=r,a.checkSupport(n),this._worker=t.pipe(new u(n)),t.lock()}catch(i){this._worker=new c("error"),this._worker.error(i)}}var a=t("../utils"),u=t("./ConvertWorker"),c=t("./GenericWorker"),h=t("../base64"),l=t("../support"),f=t("../external"),d=null;if(l.nodestream)try{d=t("../nodejs/NodejsStreamOutputAdapter")}catch(p){}s.prototype={accumulate:function(t){return o(this,t)},on:function(t,e){var r=this;return"data"===t?this._worker.on(t,function(t){e.call(r,t.data,t.meta)}):this._worker.on(t,function(){a.delay(e,arguments,r)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(a.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=s},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,r){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer="undefined"!=typeof Buffer,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var n=new ArrayBuffer(0);try{r.blob=0===new Blob([n],{type:"application/zip"}).size}catch(i){try{var o=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,s=new o;s.append(n),r.blob=0===s.getBlob("application/zip").size}catch(i){r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch(i){r.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,r){"use strict";function n(){u.call(this,"utf-8 decode"),this.leftOver=null}function i(){u.call(this,"utf-8 encode")}for(var o=t("./utils"),s=t("./support"),a=t("./nodejsUtils"),u=t("./stream/GenericWorker"),c=new Array(256),h=0;256>h;h++)c[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;c[254]=c[254]=1;var l=function(t){var e,r,n,i,o,a=t.length,u=0;for(i=0;a>i;i++)r=t.charCodeAt(i),55296===(64512&r)&&a>i+1&&(n=t.charCodeAt(i+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),u+=128>r?1:2048>r?2:65536>r?3:4;for(e=s.uint8array?new Uint8Array(u):new Array(u),o=0,i=0;u>o;i++)r=t.charCodeAt(i),55296===(64512&r)&&a>i+1&&(n=t.charCodeAt(i+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),128>r?e[o++]=r:2048>r?(e[o++]=192|r>>>6,e[o++]=128|63&r):65536>r?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|63&r):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|63&r);return e},f=function(t,e){var r;for(e=e||t.length,e>t.length&&(e=t.length),r=e-1;r>=0&&128===(192&t[r]);)r--;return 0>r?e:0===r?e:r+c[t[r]]>e?r:e},d=function(t){var e,r,n,i,s=t.length,a=new Array(2*s);for(r=0,e=0;s>e;)if(n=t[e++],128>n)a[r++]=n;else if(i=c[n],i>4)a[r++]=65533,e+=i-1;else{for(n&=2===i?31:3===i?15:7;i>1&&s>e;)n=n<<6|63&t[e++],i--;i>1?a[r++]=65533:65536>n?a[r++]=n:(n-=65536,a[r++]=55296|n>>10&1023,a[r++]=56320|1023&n)}return a.length!==r&&(a.subarray?a=a.subarray(0,r):a.length=r),o.applyFromCharCode(a)};r.utf8encode=function(t){return s.nodebuffer?a.newBufferFrom(t,"utf-8"):l(t)},r.utf8decode=function(t){return s.nodebuffer?o.transformTo("nodebuffer",t).toString("utf-8"):(t=o.transformTo(s.uint8array?"uint8array":"array",t),d(t))},o.inherits(n,u),n.prototype.processChunk=function(t){var e=o.transformTo(s.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var n=e;e=new Uint8Array(n.length+this.leftOver.length),e.set(this.leftOver,0),e.set(n,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var i=f(e),a=e;i!==e.length&&(s.uint8array?(a=e.subarray(0,i),this.leftOver=e.subarray(i,e.length)):(a=e.slice(0,i),this.leftOver=e.slice(i,e.length))),this.push({data:r.utf8decode(a),meta:t.meta})},n.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=n,o.inherits(i,u),i.prototype.processChunk=function(t){this.push({data:r.utf8encode(t.data),meta:t.meta})},r.Utf8EncodeWorker=i},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,r){"use strict";function n(t){var e=null;return e=u.uint8array?new Uint8Array(t.length):new Array(t.length),o(t,e)}function i(t){return t}function o(t,e){for(var r=0;r<t.length;++r)e[r]=255&t.charCodeAt(r);return e}function s(t){var e=65536,n=r.getTypeOf(t),i=!0;if("uint8array"===n?i=d.applyCanBeUsed.uint8array:"nodebuffer"===n&&(i=d.applyCanBeUsed.nodebuffer),i)for(;e>1;)try{return d.stringifyByChunk(t,n,e)}catch(o){e=Math.floor(e/2)}return d.stringifyByChar(t)}function a(t,e){for(var r=0;r<t.length;r++)e[r]=t[r];return e}var u=t("./support"),c=t("./base64"),h=t("./nodejsUtils"),l=t("core-js/library/fn/set-immediate"),f=t("./external");r.newBlob=function(t,e){r.checkSupport("blob");try{return new Blob([t],{type:e})}catch(n){try{var i=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,o=new i;return o.append(t),o.getBlob(e)}catch(n){throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(t,e,r){var n=[],i=0,o=t.length;if(r>=o)return String.fromCharCode.apply(null,t);for(;o>i;)"array"===e||"nodebuffer"===e?n.push(String.fromCharCode.apply(null,t.slice(i,Math.min(i+r,o)))):n.push(String.fromCharCode.apply(null,t.subarray(i,Math.min(i+r,o)))),i+=r;return n.join("")},stringifyByChar:function(t){for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},applyCanBeUsed:{uint8array:function(){try{return u.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return u.nodebuffer&&1===String.fromCharCode.apply(null,h.allocBuffer(1)).length}catch(t){return!1}}()}};r.applyFromCharCode=s;var p={};p.string={string:i,array:function(t){return o(t,new Array(t.length))},arraybuffer:function(t){return p.string.uint8array(t).buffer},uint8array:function(t){return o(t,new Uint8Array(t.length))},nodebuffer:function(t){return o(t,h.allocBuffer(t.length))}},p.array={string:s,array:i,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return h.newBufferFrom(t)}},p.arraybuffer={string:function(t){return s(new Uint8Array(t))},array:function(t){return a(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:i,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return h.newBufferFrom(new Uint8Array(t))}},p.uint8array={string:s,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:i,nodebuffer:function(t){return h.newBufferFrom(t)}},p.nodebuffer={string:s,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return p.nodebuffer.uint8array(t).buffer},uint8array:function(t){return a(t,new Uint8Array(t.length))},nodebuffer:i},r.transformTo=function(t,e){if(e||(e=""),!t)return e;r.checkSupport(t);var n=r.getTypeOf(e),i=p[n][t](e);return i},r.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":u.nodebuffer&&h.isBuffer(t)?"nodebuffer":u.uint8array&&t instanceof Uint8Array?"uint8array":u.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(t){var e=u[t.toLowerCase()];if(!e)throw new Error(t+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(t){var e,r,n="";for(r=0;r<(t||"").length;r++)e=t.charCodeAt(r),n+="\\x"+(16>e?"0":"")+e.toString(16).toUpperCase();return n},r.delay=function(t,e,r){l(function(){t.apply(r||null,e||[])})},r.inherits=function(t,e){var r=function(){};r.prototype=e.prototype,t.prototype=new r},r.extend=function(){var t,e,r={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&"undefined"==typeof r[e]&&(r[e]=arguments[t][e]);return r},r.prepareContent=function(t,e,i,o,s){var a=f.Promise.resolve(e).then(function(t){var e=u.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)));return e&&"undefined"!=typeof FileReader?new f.Promise(function(e,r){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.onerror=function(t){r(t.target.error)},n.readAsArrayBuffer(t)}):t});return a.then(function(e){var a=r.getTypeOf(e);return a?("arraybuffer"===a?e=r.transformTo("uint8array",e):"string"===a&&(s?e=c.decode(e):i&&o!==!0&&(e=n(e))),e):f.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"core-js/library/fn/set-immediate":36}],33:[function(t,e,r){"use strict";function n(t){this.files=[],this.loadOptions=t}var i=t("./reader/readerFor"),o=t("./utils"),s=t("./signature"),a=t("./zipEntry"),u=(t("./utf8"),t("./support"));n.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(e)+", expected "+o.pretty(t)+")")}},isSignature:function(t,e){var r=this.reader.index;this.reader.setIndex(t);var n=this.reader.readString(4),i=n===e;return this.reader.setIndex(r),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=u.uint8array?"uint8array":"array",r=o.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,r,n=this.zip64EndOfCentralSize-44,i=0;n>i;)t=this.reader.readInt(2),e=this.reader.readInt(4),r=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)t=new a({zip64:this.zip64},this.loadOptions),t.readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(0>t){var e=!this.isSignature(0,s.LOCAL_FILE_HEADER);throw e?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(t);
var r=t;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,t=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),0>t)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=r-n;if(i>0)this.isSignature(r,s.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(0>i)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){this.reader=i(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=n},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,e,r){"use strict";function n(t,e){this.options=t,this.loadOptions=e}var i=t("./reader/readerFor"),o=t("./utils"),s=t("./compressedObject"),a=t("./crc32"),u=t("./utf8"),c=t("./compressions"),h=t("./support"),l=0,f=3,d=function(t){for(var e in c)if(c.hasOwnProperty(e)&&c[e].magic===t)return c[e];return null};n.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},readLocalPart:function(t){var e,r;if(t.skip(22),this.fileNameLength=t.readInt(2),r=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(e=d(this.compressionMethod),null===e)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=16&this.externalFileAttributes?!0:!1,t===l&&(this.dosPermissions=63&this.externalFileAttributes),t===f&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,r,n,i=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<i;)e=t.readInt(2),r=t.readInt(2),n=t.readData(r),this.extraFields[e]={id:e,length:r,value:n}},handleUTF8:function(){var t=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var r=o.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var i=o.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:a(this.fileName)!==e.readInt(4)?null:u.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:a(this.fileComment)!==e.readInt(4)?null:u.utf8decode(e.readData(t.length-5))}return null}},e.exports=n},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,r){"use strict";var n=t("./stream/StreamHelper"),i=t("./stream/DataWorker"),o=t("./utf8"),s=t("./compressedObject"),a=t("./stream/GenericWorker"),u=function(t,e,r){this.name=t,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=e,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}};u.prototype={internalStream:function(t){var e=null,r="string";try{if(!t)throw new Error("No output type specified.");r=t.toLowerCase();var i="string"===r||"text"===r;("binarystring"===r||"text"===r)&&(r="string"),e=this._decompressWorker();var s=!this._dataBinary;s&&!i&&(e=e.pipe(new o.Utf8EncodeWorker)),!s&&i&&(e=e.pipe(new o.Utf8DecodeWorker))}catch(u){e=new a("error"),e.error(u)}return new n(e,r,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof s&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(r,t,e)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof a?this._data:new i(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},l=0;l<c.length;l++)u.prototype[c[l]]=h;e.exports=u},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,r){t("../modules/web.immediate"),e.exports=t("../modules/_core").setImmediate},{"../modules/_core":40,"../modules/web.immediate":56}],37:[function(t,e,r){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],38:[function(t,e,r){var n=t("./_is-object");e.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},{"./_is-object":51}],39:[function(t,e,r){var n={}.toString;e.exports=function(t){return n.call(t).slice(8,-1)}},{}],40:[function(t,e,r){var n=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=n)},{}],41:[function(t,e,r){var n=t("./_a-function");e.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},{"./_a-function":37}],42:[function(t,e,r){e.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":45}],43:[function(t,e,r){var n=t("./_is-object"),i=t("./_global").document,o=n(i)&&n(i.createElement);e.exports=function(t){return o?i.createElement(t):{}}},{"./_global":46,"./_is-object":51}],44:[function(t,e,r){var n=t("./_global"),i=t("./_core"),o=t("./_ctx"),s=t("./_hide"),a="prototype",u=function(t,e,r){var c,h,l,f=t&u.F,d=t&u.G,p=t&u.S,_=t&u.P,m=t&u.B,g=t&u.W,v=d?i:i[e]||(i[e]={}),y=v[a],b=d?n:p?n[e]:(n[e]||{})[a];d&&(r=e);for(c in r)h=!f&&b&&void 0!==b[c],h&&c in v||(l=h?b[c]:r[c],v[c]=d&&"function"!=typeof b[c]?r[c]:m&&h?o(l,n):g&&b[c]==l?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e[a]=t[a],e}(l):_&&"function"==typeof l?o(Function.call,l):l,_&&((v.virtual||(v.virtual={}))[c]=l,t&u.R&&y&&!y[c]&&s(y,c,l)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},{"./_core":40,"./_ctx":41,"./_global":46,"./_hide":47}],45:[function(t,e,r){e.exports=function(t){try{return!!t()}catch(e){return!0}}},{}],46:[function(t,e,r){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],47:[function(t,e,r){var n=t("./_object-dp"),i=t("./_property-desc");e.exports=t("./_descriptors")?function(t,e,r){return n.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},{"./_descriptors":42,"./_object-dp":52,"./_property-desc":53}],48:[function(t,e,r){e.exports=t("./_global").document&&document.documentElement},{"./_global":46}],49:[function(t,e,r){e.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":42,"./_dom-create":43,"./_fails":45}],50:[function(t,e,r){e.exports=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},{}],51:[function(t,e,r){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],52:[function(t,e,r){var n=t("./_an-object"),i=t("./_ie8-dom-define"),o=t("./_to-primitive"),s=Object.defineProperty;r.f=t("./_descriptors")?Object.defineProperty:function(t,e,r){if(n(t),e=o(e,!0),n(r),i)try{return s(t,e,r)}catch(a){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},{"./_an-object":38,"./_descriptors":42,"./_ie8-dom-define":49,"./_to-primitive":55}],53:[function(t,e,r){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],54:[function(t,e,r){var n,i,o,s=t("./_ctx"),a=t("./_invoke"),u=t("./_html"),c=t("./_dom-create"),h=t("./_global"),l=h.process,f=h.setImmediate,d=h.clearImmediate,p=h.MessageChannel,_=0,m={},g="onreadystatechange",v=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},y=function(t){v.call(t.data)};f&&d||(f=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return m[++_]=function(){a("function"==typeof t?t:Function(t),e)},n(_),_},d=function(t){delete m[t]},"process"==t("./_cof")(l)?n=function(t){l.nextTick(s(v,t,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=y,n=s(o.postMessage,o,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(n=function(t){h.postMessage(t+"","*")},h.addEventListener("message",y,!1)):n=g in c("script")?function(t){u.appendChild(c("script"))[g]=function(){u.removeChild(this),v.call(t)}}:function(t){setTimeout(s(v,t,1),0)}),e.exports={set:f,clear:d}},{"./_cof":39,"./_ctx":41,"./_dom-create":43,"./_global":46,"./_html":48,"./_invoke":50}],55:[function(t,e,r){var n=t("./_is-object");e.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":51}],56:[function(t,e,r){var n=t("./_export"),i=t("./_task");n(n.G+n.B,{setImmediate:i.set,clearImmediate:i.clear})},{"./_export":44,"./_task":54}],57:[function(t,e,r){(function(t){"use strict";function r(){h=!0;for(var t,e,r=l.length;r;){for(e=l,l=[],t=-1;++t<r;)e[t]();r=l.length}h=!1}function n(t){1!==l.push(t)||h||i()}var i,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var s=0,a=new o(r),u=t.document.createTextNode("");a.observe(u,{characterData:!0}),i=function(){u.data=s=++s%2}}else if(t.setImmediate||"undefined"==typeof t.MessageChannel)i="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){r(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(r,0)};else{var c=new t.MessageChannel;c.port1.onmessage=r,i=function(){c.port2.postMessage(0)}}var h,l=[];e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],58:[function(t,e,r){"use strict";function n(){}function i(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,t!==n&&u(this,t)}function o(t,e,r){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function s(t,e,r){p(function(){var n;try{n=e(r)}catch(i){return _.reject(t,i)}n===t?_.reject(t,new TypeError("Cannot resolve promise with itself")):_.resolve(t,n)})}function a(t){var e=t&&t.then;return!t||"object"!=typeof t&&"function"!=typeof t||"function"!=typeof e?void 0:function(){e.apply(t,arguments)}}function u(t,e){function r(e){o||(o=!0,_.reject(t,e))}function n(e){o||(o=!0,_.resolve(t,e))}function i(){e(n,r)}var o=!1,s=c(i);"error"===s.status&&r(s.value)}function c(t,e){var r={};try{r.value=t(e),r.status="success"}catch(n){r.status="error",r.value=n}return r}function h(t){return t instanceof this?t:_.resolve(new this(n),t)}function l(t){var e=new this(n);return _.reject(e,t)}function f(t){function e(t,e){function n(t){s[e]=t,++a!==i||o||(o=!0,_.resolve(c,s))}r.resolve(t).then(n,function(t){o||(o=!0,_.reject(c,t))})}var r=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,o=!1;if(!i)return this.resolve([]);for(var s=new Array(i),a=0,u=-1,c=new this(n);++u<i;)e(t[u],u);return c}function d(t){function e(t){r.resolve(t).then(function(t){o||(o=!0,_.resolve(a,t))},function(t){o||(o=!0,_.reject(a,t))})}var r=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,o=!1;if(!i)return this.resolve([]);for(var s=-1,a=new this(n);++s<i;)e(t[s]);return a}var p=t("immediate"),_={},m=["REJECTED"],g=["FULFILLED"],v=["PENDING"];e.exports=i,i.prototype["catch"]=function(t){return this.then(null,t)},i.prototype.then=function(t,e){if("function"!=typeof t&&this.state===g||"function"!=typeof e&&this.state===m)return this;var r=new this.constructor(n);if(this.state!==v){var i=this.state===g?t:e;s(r,i,this.outcome)}else this.queue.push(new o(r,t,e));return r},o.prototype.callFulfilled=function(t){_.resolve(this.promise,t)},o.prototype.otherCallFulfilled=function(t){s(this.promise,this.onFulfilled,t)},o.prototype.callRejected=function(t){_.reject(this.promise,t)},o.prototype.otherCallRejected=function(t){s(this.promise,this.onRejected,t)},_.resolve=function(t,e){var r=c(a,e);if("error"===r.status)return _.reject(t,r.value);var n=r.value;if(n)u(t,n);else{t.state=g,t.outcome=e;for(var i=-1,o=t.queue.length;++i<o;)t.queue[i].callFulfilled(e)}return t},_.reject=function(t,e){t.state=m,t.outcome=e;for(var r=-1,n=t.queue.length;++r<n;)t.queue[r].callRejected(e);return t},i.resolve=h,i.reject=l,i.all=f,i.race=d},{immediate:57}],59:[function(t,e,r){"use strict";var n=t("./lib/utils/common").assign,i=t("./lib/deflate"),o=t("./lib/inflate"),s=t("./lib/zlib/constants"),a={};n(a,i,o,s),e.exports=a},{"./lib/deflate":60,"./lib/inflate":61,"./lib/utils/common":62,"./lib/zlib/constants":65}],60:[function(t,e,r){"use strict";function n(t){if(!(this instanceof n))return new n(t);this.options=u.assign({level:v,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var r=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==_)throw new Error(h[r]);if(e.header&&a.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i="string"==typeof e.dictionary?c.string2buf(e.dictionary):"[object ArrayBuffer]"===f.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,r=a.deflateSetDictionary(this.strm,i),r!==_)throw new Error(h[r]);this._dict_set=!0}}function i(t,e){var r=new n(e);if(r.push(t,!0),r.err)throw r.msg||h[r.err];return r.result}function o(t,e){return e=e||{},e.raw=!0,i(t,e)}function s(t,e){return e=e||{},e.gzip=!0,i(t,e)}var a=t("./zlib/deflate"),u=t("./utils/common"),c=t("./utils/strings"),h=t("./zlib/messages"),l=t("./zlib/zstream"),f=Object.prototype.toString,d=0,p=4,_=0,m=1,g=2,v=-1,y=0,b=8;n.prototype.push=function(t,e){var r,n,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;n=e===~~e?e:e===!0?p:d,"string"==typeof t?i.input=c.string2buf(t):"[object ArrayBuffer]"===f.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new u.Buf8(o),i.next_out=0,i.avail_out=o),r=a.deflate(i,n),r!==m&&r!==_)return this.onEnd(r),this.ended=!0,!1;(0===i.avail_out||0===i.avail_in&&(n===p||n===g))&&("string"===this.options.to?this.onData(c.buf2binstring(u.shrinkBuf(i.output,i.next_out))):this.onData(u.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&r!==m);return n===p?(r=a.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===_):n===g?(this.onEnd(_),i.avail_out=0,!0):!0},n.prototype.onData=function(t){this.chunks.push(t)},n.prototype.onEnd=function(t){t===_&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Deflate=n,r.deflate=i,r.deflateRaw=o,r.gzip=s},{"./utils/common":62,"./utils/strings":63,"./zlib/deflate":67,"./zlib/messages":72,"./zlib/zstream":74}],61:[function(t,e,r){"use strict";function n(t){if(!(this instanceof n))return new n(t);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var r=s.inflateInit2(this.strm,e.windowBits);if(r!==c.Z_OK)throw new Error(h[r]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function i(t,e){var r=new n(e);if(r.push(t,!0),r.err)throw r.msg||h[r.err];return r.result}function o(t,e){return e=e||{},e.raw=!0,i(t,e)}var s=t("./zlib/inflate"),a=t("./utils/common"),u=t("./utils/strings"),c=t("./zlib/constants"),h=t("./zlib/messages"),l=t("./zlib/zstream"),f=t("./zlib/gzheader"),d=Object.prototype.toString;n.prototype.push=function(t,e){var r,n,i,o,h,l,f=this.strm,p=this.options.chunkSize,_=this.options.dictionary,m=!1;if(this.ended)return!1;n=e===~~e?e:e===!0?c.Z_FINISH:c.Z_NO_FLUSH,"string"==typeof t?f.input=u.binstring2buf(t):"[object ArrayBuffer]"===d.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new a.Buf8(p),f.next_out=0,f.avail_out=p),r=s.inflate(f,c.Z_NO_FLUSH),r===c.Z_NEED_DICT&&_&&(l="string"==typeof _?u.string2buf(_):"[object ArrayBuffer]"===d.call(_)?new Uint8Array(_):_,r=s.inflateSetDictionary(this.strm,l)),r===c.Z_BUF_ERROR&&m===!0&&(r=c.Z_OK,m=!1),r!==c.Z_STREAM_END&&r!==c.Z_OK)return this.onEnd(r),this.ended=!0,!1;f.next_out&&(0===f.avail_out||r===c.Z_STREAM_END||0===f.avail_in&&(n===c.Z_FINISH||n===c.Z_SYNC_FLUSH))&&("string"===this.options.to?(i=u.utf8border(f.output,f.next_out),o=f.next_out-i,h=u.buf2string(f.output,i),f.next_out=o,f.avail_out=p-o,o&&a.arraySet(f.output,f.output,i,o,0),this.onData(h)):this.onData(a.shrinkBuf(f.output,f.next_out))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((f.avail_in>0||0===f.avail_out)&&r!==c.Z_STREAM_END);return r===c.Z_STREAM_END&&(n=c.Z_FINISH),n===c.Z_FINISH?(r=s.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===c.Z_OK):n===c.Z_SYNC_FLUSH?(this.onEnd(c.Z_OK),f.avail_out=0,!0):!0},n.prototype.onData=function(t){this.chunks.push(t)},n.prototype.onEnd=function(t){t===c.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Inflate=n,r.inflate=i,r.inflateRaw=o,r.ungzip=i},{"./utils/common":62,"./utils/strings":63,"./zlib/constants":65,"./zlib/gzheader":68,"./zlib/inflate":70,"./zlib/messages":72,"./zlib/zstream":74}],62:[function(t,e,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])}}return t},r.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray)return void t.set(e.subarray(r,r+n),i);for(var o=0;n>o;o++)t[i+o]=e[r+o]},flattenChunks:function(t){var e,r,n,i,o,s;for(n=0,e=0,r=t.length;r>e;e++)n+=t[e].length;for(s=new Uint8Array(n),i=0,e=0,r=t.length;r>e;e++)o=t[e],s.set(o,i),i+=o.length;return s}},o={arraySet:function(t,e,r,n,i){for(var o=0;n>o;o++)t[i+o]=e[r+o]},flattenChunks:function(t){return[].concat.apply([],t)}};r.setTyped=function(t){t?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,o))},r.setTyped(n)},{}],63:[function(t,e,r){"use strict";function n(t,e){if(65537>e&&(t.subarray&&s||!t.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var r="",n=0;e>n;n++)r+=String.fromCharCode(t[n]);return r}var i=t("./common"),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(a){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){s=!1}for(var u=new i.Buf8(256),c=0;256>c;c++)u[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;u[254]=u[254]=1,r.string2buf=function(t){var e,r,n,o,s,a=t.length,u=0;for(o=0;a>o;o++)r=t.charCodeAt(o),55296===(64512&r)&&a>o+1&&(n=t.charCodeAt(o+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),o++)),u+=128>r?1:2048>r?2:65536>r?3:4;for(e=new i.Buf8(u),s=0,o=0;u>s;o++)r=t.charCodeAt(o),55296===(64512&r)&&a>o+1&&(n=t.charCodeAt(o+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),o++)),128>r?e[s++]=r:2048>r?(e[s++]=192|r>>>6,e[s++]=128|63&r):65536>r?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|63&r):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|63&r);return e},r.buf2binstring=function(t){return n(t,t.length)},r.binstring2buf=function(t){for(var e=new i.Buf8(t.length),r=0,n=e.length;n>r;r++)e[r]=t.charCodeAt(r);return e},r.buf2string=function(t,e){var r,i,o,s,a=e||t.length,c=new Array(2*a);for(i=0,r=0;a>r;)if(o=t[r++],128>o)c[i++]=o;else if(s=u[o],s>4)c[i++]=65533,r+=s-1;else{for(o&=2===s?31:3===s?15:7;s>1&&a>r;)o=o<<6|63&t[r++],s--;s>1?c[i++]=65533:65536>o?c[i++]=o:(o-=65536,c[i++]=55296|o>>10&1023,c[i++]=56320|1023&o)}return n(c,i)},r.utf8border=function(t,e){var r;for(e=e||t.length,e>t.length&&(e=t.length),r=e-1;r>=0&&128===(192&t[r]);)r--;return 0>r?e:0===r?e:r+u[t[r]]>e?r:e}},{"./common":62}],64:[function(t,e,r){"use strict";function n(t,e,r,n){for(var i=65535&t|0,o=t>>>16&65535|0,s=0;0!==r;){s=r>2e3?2e3:r,r-=s;do i=i+e[n++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0}e.exports=n},{}],65:[function(t,e,r){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],66:[function(t,e,r){"use strict";function n(){for(var t,e=[],r=0;256>r;r++){t=r;for(var n=0;8>n;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}function i(t,e,r,n){var i=o,s=n+r;t^=-1;for(var a=n;s>a;a++)t=t>>>8^i[255&(t^e[a])];return-1^t}var o=n();e.exports=i},{}],67:[function(t,e,r){"use strict";function n(t,e){return t.msg=D[e],e}function i(t){return(t<<1)-(t>4?9:0)}function o(t){for(var e=t.length;--e>=0;)t[e]=0}function s(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(O.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function a(t,e){I._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,s(t.strm)}function u(t,e){t.pending_buf[t.pending++]=e}function c(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function h(t,e,r,n){var i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,O.arraySet(e,t.input,t.next_in,i,r),1===t.state.wrap?t.adler=A(t.adler,e,i,r):2===t.state.wrap&&(t.adler=z(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)}function l(t,e){var r,n,i=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,u=t.strstart>t.w_size-le?t.strstart-(t.w_size-le):0,c=t.window,h=t.w_mask,l=t.prev,f=t.strstart+he,d=c[o+s-1],p=c[o+s];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do if(r=e,c[r+s]===p&&c[r+s-1]===d&&c[r]===c[o]&&c[++r]===c[o+1]){o+=2,r++;do;while(c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&f>o);if(n=he-(f-o),o=f-he,n>s){if(t.match_start=e,s=n,n>=a)break;d=c[o+s-1],p=c[o+s]}}while((e=l[e&h])>u&&0!==--i);return s<=t.lookahead?s:t.lookahead}function f(t){var e,r,n,i,o,s=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-le)){O.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,r=t.hash_size,e=r;do n=t.head[--e],t.head[e]=n>=s?n-s:0;while(--r);r=s,e=r;do n=t.prev[--e],t.prev[e]=n>=s?n-s:0;while(--r);i+=s}if(0===t.strm.avail_in)break;if(r=h(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=r,t.lookahead+t.insert>=ce)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+ce-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<ce)););}while(t.lookahead<le&&0!==t.strm.avail_in)}function d(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(f(t),0===t.lookahead&&e===L)return be;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,a(t,!1),0===t.strm.avail_out))return be;if(t.strstart-t.block_start>=t.w_size-le&&(a(t,!1),0===t.strm.avail_out))return be}return t.insert=0,e===N?(a(t,!0),0===t.strm.avail_out?ke:Ee):t.strstart>t.block_start&&(a(t,!1),0===t.strm.avail_out)?be:be}function p(t,e){for(var r,n;;){if(t.lookahead<le){if(f(t),t.lookahead<le&&e===L)return be;if(0===t.lookahead)break}if(r=0,t.lookahead>=ce&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ce-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-le&&(t.match_length=l(t,r)),t.match_length>=ce)if(n=I._tr_tally(t,t.strstart-t.match_start,t.match_length-ce),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ce){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ce-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=I._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(a(t,!1),0===t.strm.avail_out))return be}return t.insert=t.strstart<ce-1?t.strstart:ce-1,e===N?(a(t,!0),0===t.strm.avail_out?ke:Ee):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?be:we}function _(t,e){for(var r,n,i;;){if(t.lookahead<le){if(f(t),t.lookahead<le&&e===L)return be;if(0===t.lookahead)break}if(r=0,t.lookahead>=ce&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ce-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ce-1,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-le&&(t.match_length=l(t,r),t.match_length<=5&&(t.strategy===Z||t.match_length===ce&&t.strstart-t.match_start>4096)&&(t.match_length=ce-1)),t.prev_length>=ce&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-ce,n=I._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-ce),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ce-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!==--t.prev_length);if(t.match_available=0,t.match_length=ce-1,t.strstart++,n&&(a(t,!1),0===t.strm.avail_out))return be}else if(t.match_available){if(n=I._tr_tally(t,0,t.window[t.strstart-1]),n&&a(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return be}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=I._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ce-1?t.strstart:ce-1,e===N?(a(t,!0),0===t.strm.avail_out?ke:Ee):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?be:we}function m(t,e){for(var r,n,i,o,s=t.window;;){if(t.lookahead<=he){if(f(t),t.lookahead<=he&&e===L)return be;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=ce&&t.strstart>0&&(i=t.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){o=t.strstart+he;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&o>i);t.match_length=he-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ce?(r=I._tr_tally(t,1,t.match_length-ce),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=I._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(a(t,!1),0===t.strm.avail_out))return be}return t.insert=0,e===N?(a(t,!0),0===t.strm.avail_out?ke:Ee):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?be:we}function g(t,e){for(var r;;){if(0===t.lookahead&&(f(t),0===t.lookahead)){if(e===L)return be;break}if(t.match_length=0,r=I._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(a(t,!1),0===t.strm.avail_out))return be
}return t.insert=0,e===N?(a(t,!0),0===t.strm.avail_out?ke:Ee):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?be:we}function v(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}function y(t){t.window_size=2*t.w_size,o(t.head),t.max_lazy_match=R[t.level].max_lazy,t.good_match=R[t.level].good_length,t.nice_match=R[t.level].nice_length,t.max_chain_length=R[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ce-1,t.match_available=0,t.ins_h=0}function b(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Q,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new O.Buf16(2*ae),this.dyn_dtree=new O.Buf16(2*(2*oe+1)),this.bl_tree=new O.Buf16(2*(2*se+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new O.Buf16(ue+1),this.heap=new O.Buf16(2*ie+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new O.Buf16(2*ie+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=K,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?de:ve,t.adler=2===e.wrap?0:1,e.last_flush=L,I._tr_init(e),M):n(t,$)}function k(t){var e=w(t);return e===M&&y(t.state),e}function E(t,e){return t&&t.state?2!==t.state.wrap?$:(t.state.gzhead=e,M):$}function S(t,e,r,i,o,s){if(!t)return $;var a=1;if(e===G&&(e=6),0>i?(a=0,i=-i):i>15&&(a=2,i-=16),1>o||o>J||r!==Q||8>i||i>15||0>e||e>9||0>s||s>Y)return n(t,$);8===i&&(i=9);var u=new b;return t.state=u,u.strm=t,u.wrap=a,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+ce-1)/ce),u.window=new O.Buf8(2*u.w_size),u.head=new O.Buf16(u.hash_size),u.prev=new O.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new O.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=s,u.method=r,k(t)}function x(t,e){return S(t,e,Q,te,ee,X)}function T(t,e){var r,a,h,l;if(!t||!t.state||e>U||0>e)return t?n(t,$):$;if(a=t.state,!t.output||!t.input&&0!==t.avail_in||a.status===ye&&e!==N)return n(t,0===t.avail_out?V:$);if(a.strm=t,r=a.last_flush,a.last_flush=e,a.status===de)if(2===a.wrap)t.adler=0,u(a,31),u(a,139),u(a,8),a.gzhead?(u(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),u(a,255&a.gzhead.time),u(a,a.gzhead.time>>8&255),u(a,a.gzhead.time>>16&255),u(a,a.gzhead.time>>24&255),u(a,9===a.level?2:a.strategy>=H||a.level<2?4:0),u(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(u(a,255&a.gzhead.extra.length),u(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=z(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=pe):(u(a,0),u(a,0),u(a,0),u(a,0),u(a,0),u(a,9===a.level?2:a.strategy>=H||a.level<2?4:0),u(a,Se),a.status=ve);else{var f=Q+(a.w_bits-8<<4)<<8,d=-1;d=a.strategy>=H||a.level<2?0:a.level<6?1:6===a.level?2:3,f|=d<<6,0!==a.strstart&&(f|=fe),f+=31-f%31,a.status=ve,c(a,f),0!==a.strstart&&(c(a,t.adler>>>16),c(a,65535&t.adler)),t.adler=1}if(a.status===pe)if(a.gzhead.extra){for(h=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>h&&(t.adler=z(t.adler,a.pending_buf,a.pending-h,h)),s(t),h=a.pending,a.pending!==a.pending_buf_size));)u(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>h&&(t.adler=z(t.adler,a.pending_buf,a.pending-h,h)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=_e)}else a.status=_e;if(a.status===_e)if(a.gzhead.name){h=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>h&&(t.adler=z(t.adler,a.pending_buf,a.pending-h,h)),s(t),h=a.pending,a.pending===a.pending_buf_size)){l=1;break}l=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,u(a,l)}while(0!==l);a.gzhead.hcrc&&a.pending>h&&(t.adler=z(t.adler,a.pending_buf,a.pending-h,h)),0===l&&(a.gzindex=0,a.status=me)}else a.status=me;if(a.status===me)if(a.gzhead.comment){h=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>h&&(t.adler=z(t.adler,a.pending_buf,a.pending-h,h)),s(t),h=a.pending,a.pending===a.pending_buf_size)){l=1;break}l=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,u(a,l)}while(0!==l);a.gzhead.hcrc&&a.pending>h&&(t.adler=z(t.adler,a.pending_buf,a.pending-h,h)),0===l&&(a.status=ge)}else a.status=ge;if(a.status===ge&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&s(t),a.pending+2<=a.pending_buf_size&&(u(a,255&t.adler),u(a,t.adler>>8&255),t.adler=0,a.status=ve)):a.status=ve),0!==a.pending){if(s(t),0===t.avail_out)return a.last_flush=-1,M}else if(0===t.avail_in&&i(e)<=i(r)&&e!==N)return n(t,V);if(a.status===ye&&0!==t.avail_in)return n(t,V);if(0!==t.avail_in||0!==a.lookahead||e!==L&&a.status!==ye){var p=a.strategy===H?g(a,e):a.strategy===q?m(a,e):R[a.level].func(a,e);if((p===ke||p===Ee)&&(a.status=ye),p===be||p===ke)return 0===t.avail_out&&(a.last_flush=-1),M;if(p===we&&(e===B?I._tr_align(a):e!==U&&(I._tr_stored_block(a,0,0,!1),e===F&&(o(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),s(t),0===t.avail_out))return a.last_flush=-1,M}return e!==N?M:a.wrap<=0?j:(2===a.wrap?(u(a,255&t.adler),u(a,t.adler>>8&255),u(a,t.adler>>16&255),u(a,t.adler>>24&255),u(a,255&t.total_in),u(a,t.total_in>>8&255),u(a,t.total_in>>16&255),u(a,t.total_in>>24&255)):(c(a,t.adler>>>16),c(a,65535&t.adler)),s(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?M:j)}function P(t){var e;return t&&t.state?(e=t.state.status,e!==de&&e!==pe&&e!==_e&&e!==me&&e!==ge&&e!==ve&&e!==ye?n(t,$):(t.state=null,e===ve?n(t,W):M)):$}function C(t,e){var r,n,i,s,a,u,c,h,l=e.length;if(!t||!t.state)return $;if(r=t.state,s=r.wrap,2===s||1===s&&r.status!==de||r.lookahead)return $;for(1===s&&(t.adler=A(t.adler,e,l,0)),r.wrap=0,l>=r.w_size&&(0===s&&(o(r.head),r.strstart=0,r.block_start=0,r.insert=0),h=new O.Buf8(r.w_size),O.arraySet(h,e,l-r.w_size,r.w_size,0),e=h,l=r.w_size),a=t.avail_in,u=t.next_in,c=t.input,t.avail_in=l,t.next_in=0,t.input=e,f(r);r.lookahead>=ce;){n=r.strstart,i=r.lookahead-(ce-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+ce-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++;while(--i);r.strstart=n,r.lookahead=ce-1,f(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=ce-1,r.match_available=0,t.next_in=u,t.input=c,t.avail_in=a,r.wrap=s,M}var R,O=t("../utils/common"),I=t("./trees"),A=t("./adler32"),z=t("./crc32"),D=t("./messages"),L=0,B=1,F=3,N=4,U=5,M=0,j=1,$=-2,W=-3,V=-5,G=-1,Z=1,H=2,q=3,Y=4,X=0,K=2,Q=8,J=9,te=15,ee=8,re=29,ne=256,ie=ne+1+re,oe=30,se=19,ae=2*ie+1,ue=15,ce=3,he=258,le=he+ce+1,fe=32,de=42,pe=69,_e=73,me=91,ge=103,ve=113,ye=666,be=1,we=2,ke=3,Ee=4,Se=3;R=[new v(0,0,0,0,d),new v(4,4,8,4,p),new v(4,5,16,8,p),new v(4,6,32,32,p),new v(4,4,16,16,_),new v(8,16,32,32,_),new v(8,16,128,128,_),new v(8,32,128,256,_),new v(32,128,258,1024,_),new v(32,258,258,4096,_)],r.deflateInit=x,r.deflateInit2=S,r.deflateReset=k,r.deflateResetKeep=w,r.deflateSetHeader=E,r.deflate=T,r.deflateEnd=P,r.deflateSetDictionary=C,r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./messages":72,"./trees":73}],68:[function(t,e,r){"use strict";function n(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=n},{}],69:[function(t,e,r){"use strict";var n=30,i=12;e.exports=function(t,e){var r,o,s,a,u,c,h,l,f,d,p,_,m,g,v,y,b,w,k,E,S,x,T,P,C;r=t.state,o=t.next_in,P=t.input,s=o+(t.avail_in-5),a=t.next_out,C=t.output,u=a-(e-t.avail_out),c=a+(t.avail_out-257),h=r.dmax,l=r.wsize,f=r.whave,d=r.wnext,p=r.window,_=r.hold,m=r.bits,g=r.lencode,v=r.distcode,y=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;t:do{15>m&&(_+=P[o++]<<m,m+=8,_+=P[o++]<<m,m+=8),w=g[_&y];e:for(;;){if(k=w>>>24,_>>>=k,m-=k,k=w>>>16&255,0===k)C[a++]=65535&w;else{if(!(16&k)){if(0===(64&k)){w=g[(65535&w)+(_&(1<<k)-1)];continue e}if(32&k){r.mode=i;break t}t.msg="invalid literal/length code",r.mode=n;break t}E=65535&w,k&=15,k&&(k>m&&(_+=P[o++]<<m,m+=8),E+=_&(1<<k)-1,_>>>=k,m-=k),15>m&&(_+=P[o++]<<m,m+=8,_+=P[o++]<<m,m+=8),w=v[_&b];r:for(;;){if(k=w>>>24,_>>>=k,m-=k,k=w>>>16&255,!(16&k)){if(0===(64&k)){w=v[(65535&w)+(_&(1<<k)-1)];continue r}t.msg="invalid distance code",r.mode=n;break t}if(S=65535&w,k&=15,k>m&&(_+=P[o++]<<m,m+=8,k>m&&(_+=P[o++]<<m,m+=8)),S+=_&(1<<k)-1,S>h){t.msg="invalid distance too far back",r.mode=n;break t}if(_>>>=k,m-=k,k=a-u,S>k){if(k=S-k,k>f&&r.sane){t.msg="invalid distance too far back",r.mode=n;break t}if(x=0,T=p,0===d){if(x+=l-k,E>k){E-=k;do C[a++]=p[x++];while(--k);x=a-S,T=C}}else if(k>d){if(x+=l+d-k,k-=d,E>k){E-=k;do C[a++]=p[x++];while(--k);if(x=0,E>d){k=d,E-=k;do C[a++]=p[x++];while(--k);x=a-S,T=C}}}else if(x+=d-k,E>k){E-=k;do C[a++]=p[x++];while(--k);x=a-S,T=C}for(;E>2;)C[a++]=T[x++],C[a++]=T[x++],C[a++]=T[x++],E-=3;E&&(C[a++]=T[x++],E>1&&(C[a++]=T[x++]))}else{x=a-S;do C[a++]=C[x++],C[a++]=C[x++],C[a++]=C[x++],E-=3;while(E>2);E&&(C[a++]=C[x++],E>1&&(C[a++]=C[x++]))}break}}break}}while(s>o&&c>a);E=m>>3,o-=E,m-=E<<3,_&=(1<<m)-1,t.next_in=o,t.next_out=a,t.avail_in=s>o?5+(s-o):5-(o-s),t.avail_out=c>a?257+(c-a):257-(a-c),r.hold=_,r.bits=m}},{}],70:[function(t,e,r){"use strict";function n(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new v.Buf16(320),this.work=new v.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=F,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new v.Buf32(_e),e.distcode=e.distdyn=new v.Buf32(me),e.sane=1,e.back=-1,R):A}function s(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,o(t)):A}function a(t,e){var r,n;return t&&t.state?(n=t.state,0>e?(r=0,e=-e):(r=(e>>4)+1,48>e&&(e&=15)),e&&(8>e||e>15)?A:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,s(t))):A}function u(t,e){var r,n;return t?(n=new i,t.state=n,n.window=null,r=a(t,e),r!==R&&(t.state=null),r):A}function c(t){return u(t,ve)}function h(t){if(ye){var e;for(m=new v.Buf32(512),g=new v.Buf32(32),e=0;144>e;)t.lens[e++]=8;for(;256>e;)t.lens[e++]=9;for(;280>e;)t.lens[e++]=7;for(;288>e;)t.lens[e++]=8;for(k(S,t.lens,0,288,m,0,t.work,{bits:9}),e=0;32>e;)t.lens[e++]=5;k(x,t.lens,0,32,g,0,t.work,{bits:5}),ye=!1}t.lencode=m,t.lenbits=9,t.distcode=g,t.distbits=5}function l(t,e,r,n){var i,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new v.Buf8(o.wsize)),n>=o.wsize?(v.arraySet(o.window,e,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),v.arraySet(o.window,e,r-n,i,o.wnext),n-=i,n?(v.arraySet(o.window,e,r-n,n,0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function f(t,e){var r,i,o,s,a,u,c,f,d,p,_,m,g,_e,me,ge,ve,ye,be,we,ke,Ee,Se,xe,Te=0,Pe=new v.Buf8(4),Ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return A;r=t.state,r.mode===q&&(r.mode=Y),a=t.next_out,o=t.output,c=t.avail_out,s=t.next_in,i=t.input,u=t.avail_in,f=r.hold,d=r.bits,p=u,_=c,Ee=R;t:for(;;)switch(r.mode){case F:if(0===r.wrap){r.mode=Y;break}for(;16>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}if(2&r.wrap&&35615===f){r.check=0,Pe[0]=255&f,Pe[1]=f>>>8&255,r.check=b(r.check,Pe,2,0),f=0,d=0,r.mode=N;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&f)<<8)+(f>>8))%31){t.msg="incorrect header check",r.mode=fe;break}if((15&f)!==B){t.msg="unknown compression method",r.mode=fe;break}if(f>>>=4,d-=4,ke=(15&f)+8,0===r.wbits)r.wbits=ke;else if(ke>r.wbits){t.msg="invalid window size",r.mode=fe;break}r.dmax=1<<ke,t.adler=r.check=1,r.mode=512&f?Z:q,f=0,d=0;break;case N:for(;16>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}if(r.flags=f,(255&r.flags)!==B){t.msg="unknown compression method",r.mode=fe;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=fe;break}r.head&&(r.head.text=f>>8&1),512&r.flags&&(Pe[0]=255&f,Pe[1]=f>>>8&255,r.check=b(r.check,Pe,2,0)),f=0,d=0,r.mode=U;case U:for(;32>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}r.head&&(r.head.time=f),512&r.flags&&(Pe[0]=255&f,Pe[1]=f>>>8&255,Pe[2]=f>>>16&255,Pe[3]=f>>>24&255,r.check=b(r.check,Pe,4,0)),f=0,d=0,r.mode=M;case M:for(;16>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}r.head&&(r.head.xflags=255&f,r.head.os=f>>8),512&r.flags&&(Pe[0]=255&f,Pe[1]=f>>>8&255,r.check=b(r.check,Pe,2,0)),f=0,d=0,r.mode=j;case j:if(1024&r.flags){for(;16>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}r.length=f,r.head&&(r.head.extra_len=f),512&r.flags&&(Pe[0]=255&f,Pe[1]=f>>>8&255,r.check=b(r.check,Pe,2,0)),f=0,d=0}else r.head&&(r.head.extra=null);r.mode=$;case $:if(1024&r.flags&&(m=r.length,m>u&&(m=u),m&&(r.head&&(ke=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),v.arraySet(r.head.extra,i,s,m,ke)),512&r.flags&&(r.check=b(r.check,i,m,s)),u-=m,s+=m,r.length-=m),r.length))break t;r.length=0,r.mode=W;case W:if(2048&r.flags){if(0===u)break t;m=0;do ke=i[s+m++],r.head&&ke&&r.length<65536&&(r.head.name+=String.fromCharCode(ke));while(ke&&u>m);if(512&r.flags&&(r.check=b(r.check,i,m,s)),u-=m,s+=m,ke)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=V;case V:if(4096&r.flags){if(0===u)break t;m=0;do ke=i[s+m++],r.head&&ke&&r.length<65536&&(r.head.comment+=String.fromCharCode(ke));while(ke&&u>m);if(512&r.flags&&(r.check=b(r.check,i,m,s)),u-=m,s+=m,ke)break t}else r.head&&(r.head.comment=null);r.mode=G;case G:if(512&r.flags){for(;16>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}if(f!==(65535&r.check)){t.msg="header crc mismatch",r.mode=fe;break}f=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=q;break;case Z:for(;32>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}t.adler=r.check=n(f),f=0,d=0,r.mode=H;case H:if(0===r.havedict)return t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=u,r.hold=f,r.bits=d,I;t.adler=r.check=1,r.mode=q;case q:if(e===P||e===C)break t;case Y:if(r.last){f>>>=7&d,d-=7&d,r.mode=ce;break}for(;3>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}switch(r.last=1&f,f>>>=1,d-=1,3&f){case 0:r.mode=X;break;case 1:if(h(r),r.mode=re,e===C){f>>>=2,d-=2;break t}break;case 2:r.mode=J;break;case 3:t.msg="invalid block type",r.mode=fe}f>>>=2,d-=2;break;case X:for(f>>>=7&d,d-=7&d;32>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}if((65535&f)!==(f>>>16^65535)){t.msg="invalid stored block lengths",r.mode=fe;break}if(r.length=65535&f,f=0,d=0,r.mode=K,e===C)break t;case K:r.mode=Q;case Q:if(m=r.length){if(m>u&&(m=u),m>c&&(m=c),0===m)break t;v.arraySet(o,i,s,m,a),u-=m,s+=m,c-=m,a+=m,r.length-=m;break}r.mode=q;break;case J:for(;14>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}if(r.nlen=(31&f)+257,f>>>=5,d-=5,r.ndist=(31&f)+1,f>>>=5,d-=5,r.ncode=(15&f)+4,f>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=fe;break}r.have=0,r.mode=te;case te:for(;r.have<r.ncode;){for(;3>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}r.lens[Ce[r.have++]]=7&f,f>>>=3,d-=3}for(;r.have<19;)r.lens[Ce[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,Se={bits:r.lenbits},Ee=k(E,r.lens,0,19,r.lencode,0,r.work,Se),r.lenbits=Se.bits,Ee){t.msg="invalid code lengths set",r.mode=fe;break}r.have=0,r.mode=ee;case ee:for(;r.have<r.nlen+r.ndist;){for(;Te=r.lencode[f&(1<<r.lenbits)-1],me=Te>>>24,ge=Te>>>16&255,ve=65535&Te,!(d>=me);){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}if(16>ve)f>>>=me,d-=me,r.lens[r.have++]=ve;else{if(16===ve){for(xe=me+2;xe>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}if(f>>>=me,d-=me,0===r.have){t.msg="invalid bit length repeat",r.mode=fe;break}ke=r.lens[r.have-1],m=3+(3&f),f>>>=2,d-=2}else if(17===ve){for(xe=me+3;xe>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}f>>>=me,d-=me,ke=0,m=3+(7&f),f>>>=3,d-=3}else{for(xe=me+7;xe>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}f>>>=me,d-=me,ke=0,m=11+(127&f),f>>>=7,d-=7}if(r.have+m>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=fe;break}for(;m--;)r.lens[r.have++]=ke}}if(r.mode===fe)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=fe;break}if(r.lenbits=9,Se={bits:r.lenbits},Ee=k(S,r.lens,0,r.nlen,r.lencode,0,r.work,Se),r.lenbits=Se.bits,Ee){t.msg="invalid literal/lengths set",r.mode=fe;break}if(r.distbits=6,r.distcode=r.distdyn,Se={bits:r.distbits},Ee=k(x,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,Se),r.distbits=Se.bits,Ee){t.msg="invalid distances set",r.mode=fe;break}if(r.mode=re,e===C)break t;case re:r.mode=ne;case ne:if(u>=6&&c>=258){t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=u,r.hold=f,r.bits=d,w(t,_),a=t.next_out,o=t.output,c=t.avail_out,s=t.next_in,i=t.input,u=t.avail_in,f=r.hold,d=r.bits,r.mode===q&&(r.back=-1);break}for(r.back=0;Te=r.lencode[f&(1<<r.lenbits)-1],me=Te>>>24,ge=Te>>>16&255,ve=65535&Te,!(d>=me);){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}if(ge&&0===(240&ge)){for(ye=me,be=ge,we=ve;Te=r.lencode[we+((f&(1<<ye+be)-1)>>ye)],me=Te>>>24,ge=Te>>>16&255,ve=65535&Te,!(d>=ye+me);){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}f>>>=ye,d-=ye,r.back+=ye}if(f>>>=me,d-=me,r.back+=me,r.length=ve,0===ge){r.mode=ue;break}if(32&ge){r.back=-1,r.mode=q;break}if(64&ge){t.msg="invalid literal/length code",r.mode=fe;break}r.extra=15&ge,r.mode=ie;case ie:if(r.extra){for(xe=r.extra;xe>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=oe;case oe:for(;Te=r.distcode[f&(1<<r.distbits)-1],me=Te>>>24,ge=Te>>>16&255,ve=65535&Te,!(d>=me);){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}if(0===(240&ge)){for(ye=me,be=ge,we=ve;Te=r.distcode[we+((f&(1<<ye+be)-1)>>ye)],me=Te>>>24,ge=Te>>>16&255,ve=65535&Te,!(d>=ye+me);){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}f>>>=ye,d-=ye,r.back+=ye}if(f>>>=me,d-=me,r.back+=me,64&ge){t.msg="invalid distance code",r.mode=fe;break}r.offset=ve,r.extra=15&ge,r.mode=se;case se:if(r.extra){for(xe=r.extra;xe>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=fe;break}r.mode=ae;case ae:if(0===c)break t;if(m=_-c,r.offset>m){if(m=r.offset-m,m>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=fe;break}m>r.wnext?(m-=r.wnext,g=r.wsize-m):g=r.wnext-m,m>r.length&&(m=r.length),_e=r.window}else _e=o,g=a-r.offset,m=r.length;m>c&&(m=c),c-=m,r.length-=m;do o[a++]=_e[g++];while(--m);0===r.length&&(r.mode=ne);break;case ue:if(0===c)break t;o[a++]=r.length,c--,r.mode=ne;break;case ce:if(r.wrap){for(;32>d;){if(0===u)break t;u--,f|=i[s++]<<d,d+=8}if(_-=c,t.total_out+=_,r.total+=_,_&&(t.adler=r.check=r.flags?b(r.check,o,_,a-_):y(r.check,o,_,a-_)),_=c,(r.flags?f:n(f))!==r.check){t.msg="incorrect data check",r.mode=fe;break}f=0,d=0}r.mode=he;case he:if(r.wrap&&r.flags){for(;32>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}if(f!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=fe;break}f=0,d=0}r.mode=le;case le:Ee=O;break t;case fe:Ee=z;break t;case de:return D;case pe:default:return A}return t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=u,r.hold=f,r.bits=d,(r.wsize||_!==t.avail_out&&r.mode<fe&&(r.mode<ce||e!==T))&&l(t,t.output,t.next_out,_-t.avail_out)?(r.mode=de,D):(p-=t.avail_in,_-=t.avail_out,t.total_in+=p,t.total_out+=_,r.total+=_,r.wrap&&_&&(t.adler=r.check=r.flags?b(r.check,o,_,t.next_out-_):y(r.check,o,_,t.next_out-_)),t.data_type=r.bits+(r.last?64:0)+(r.mode===q?128:0)+(r.mode===re||r.mode===K?256:0),(0===p&&0===_||e===T)&&Ee===R&&(Ee=L),Ee)}function d(t){if(!t||!t.state)return A;var e=t.state;return e.window&&(e.window=null),t.state=null,R}function p(t,e){var r;return t&&t.state?(r=t.state,0===(2&r.wrap)?A:(r.head=e,e.done=!1,R)):A}function _(t,e){var r,n,i,o=e.length;return t&&t.state?(r=t.state,0!==r.wrap&&r.mode!==H?A:r.mode===H&&(n=1,n=y(n,e,o,0),n!==r.check)?z:(i=l(t,e,o,o))?(r.mode=de,D):(r.havedict=1,R)):A}var m,g,v=t("../utils/common"),y=t("./adler32"),b=t("./crc32"),w=t("./inffast"),k=t("./inftrees"),E=0,S=1,x=2,T=4,P=5,C=6,R=0,O=1,I=2,A=-2,z=-3,D=-4,L=-5,B=8,F=1,N=2,U=3,M=4,j=5,$=6,W=7,V=8,G=9,Z=10,H=11,q=12,Y=13,X=14,K=15,Q=16,J=17,te=18,ee=19,re=20,ne=21,ie=22,oe=23,se=24,ae=25,ue=26,ce=27,he=28,le=29,fe=30,de=31,pe=32,_e=852,me=592,ge=15,ve=ge,ye=!0;r.inflateReset=s,r.inflateReset2=a,r.inflateResetKeep=o,r.inflateInit=c,r.inflateInit2=u,r.inflate=f,r.inflateEnd=d,r.inflateGetHeader=p,r.inflateSetDictionary=_,r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./inffast":69,"./inftrees":71}],71:[function(t,e,r){"use strict";var n=t("../utils/common"),i=15,o=852,s=592,a=0,u=1,c=2,h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,r,p,_,m,g,v){var y,b,w,k,E,S,x,T,P,C=v.bits,R=0,O=0,I=0,A=0,z=0,D=0,L=0,B=0,F=0,N=0,U=null,M=0,j=new n.Buf16(i+1),$=new n.Buf16(i+1),W=null,V=0;for(R=0;i>=R;R++)j[R]=0;for(O=0;p>O;O++)j[e[r+O]]++;for(z=C,A=i;A>=1&&0===j[A];A--);if(z>A&&(z=A),0===A)return _[m++]=20971520,_[m++]=20971520,v.bits=1,0;for(I=1;A>I&&0===j[I];I++);for(I>z&&(z=I),B=1,R=1;i>=R;R++)if(B<<=1,B-=j[R],0>B)return-1;if(B>0&&(t===a||1!==A))return-1;for($[1]=0,R=1;i>R;R++)$[R+1]=$[R]+j[R];for(O=0;p>O;O++)0!==e[r+O]&&(g[$[e[r+O]]++]=O);if(t===a?(U=W=g,S=19):t===u?(U=h,M-=257,W=l,V-=257,S=256):(U=f,W=d,S=-1),N=0,O=0,R=I,E=m,D=z,L=0,w=-1,F=1<<z,k=F-1,t===u&&F>o||t===c&&F>s)return 1;for(;;){x=R-L,g[O]<S?(T=0,P=g[O]):g[O]>S?(T=W[V+g[O]],P=U[M+g[O]]):(T=96,P=0),y=1<<R-L,b=1<<D,I=b;do b-=y,_[E+(N>>L)+b]=x<<24|T<<16|P|0;while(0!==b);for(y=1<<R-1;N&y;)y>>=1;if(0!==y?(N&=y-1,N+=y):N=0,O++,0===--j[R]){if(R===A)break;R=e[r+g[O]]}if(R>z&&(N&k)!==w){for(0===L&&(L=z),E+=I,D=R-L,B=1<<D;A>D+L&&(B-=j[D+L],!(0>=B));)D++,B<<=1;if(F+=1<<D,t===u&&F>o||t===c&&F>s)return 1;w=N&k,_[w]=z<<24|D<<16|E-m|0}}return 0!==N&&(_[E+N]=R-L<<24|64<<16|0),v.bits=z,0}},{"../utils/common":62}],72:[function(t,e,r){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],73:[function(t,e,r){"use strict";function n(t){for(var e=t.length;--e>=0;)t[e]=0}function i(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function o(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function s(t){return 256>t?ue[t]:ue[256+(t>>>7)]}function a(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function u(t,e,r){t.bi_valid>Y-r?(t.bi_buf|=e<<t.bi_valid&65535,a(t,t.bi_buf),t.bi_buf=e>>Y-t.bi_valid,t.bi_valid+=r-Y):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function c(t,e,r){u(t,r[2*e],r[2*e+1])}function h(t,e){var r=0;do r|=1&t,t>>>=1,r<<=1;while(--e>0);return r>>>1}function l(t){16===t.bi_valid?(a(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function f(t,e){var r,n,i,o,s,a,u=e.dyn_tree,c=e.max_code,h=e.stat_desc.static_tree,l=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,_=0;for(o=0;q>=o;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;H>r;r++)n=t.heap[r],o=u[2*u[2*n+1]+1]+1,o>p&&(o=p,_++),u[2*n+1]=o,n>c||(t.bl_count[o]++,s=0,n>=d&&(s=f[n-d]),a=u[2*n],t.opt_len+=a*(o+s),l&&(t.static_len+=a*(h[2*n+1]+s)));if(0!==_){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,_-=2}while(_>0);for(o=p;0!==o;o--)for(n=t.bl_count[o];0!==n;)i=t.heap[--r],i>c||(u[2*i+1]!==o&&(t.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),n--)}}function d(t,e,r){var n,i,o=new Array(q+1),s=0;for(n=1;q>=n;n++)o[n]=s=s+r[n-1]<<1;for(i=0;e>=i;i++){var a=t[2*i+1];0!==a&&(t[2*i]=h(o[a]++,a))}}function p(){var t,e,r,n,o,s=new Array(q+1);for(r=0,n=0;$-1>n;n++)for(he[n]=r,t=0;t<1<<ee[n];t++)ce[r++]=n;for(ce[r-1]=n,o=0,n=0;16>n;n++)for(le[n]=o,t=0;t<1<<re[n];t++)ue[o++]=n;for(o>>=7;G>n;n++)for(le[n]=o<<7,t=0;t<1<<re[n]-7;t++)ue[256+o++]=n;for(e=0;q>=e;e++)s[e]=0;for(t=0;143>=t;)se[2*t+1]=8,t++,s[8]++;for(;255>=t;)se[2*t+1]=9,t++,s[9]++;for(;279>=t;)se[2*t+1]=7,t++,s[7]++;for(;287>=t;)se[2*t+1]=8,t++,s[8]++;for(d(se,V+1,s),t=0;G>t;t++)ae[2*t+1]=5,ae[2*t]=h(t,5);fe=new i(se,ee,W+1,V,q),de=new i(ae,re,0,G,q),pe=new i(new Array(0),ne,0,Z,X)}function _(t){var e;for(e=0;V>e;e++)t.dyn_ltree[2*e]=0;for(e=0;G>e;e++)t.dyn_dtree[2*e]=0;for(e=0;Z>e;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*K]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function m(t){t.bi_valid>8?a(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function g(t,e,r,n){m(t),n&&(a(t,r),a(t,~r)),A.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}function v(t,e,r,n){var i=2*e,o=2*r;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]}function y(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&v(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!v(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function b(t,e,r){var n,i,o,a,h=0;if(0!==t.last_lit)do n=t.pending_buf[t.d_buf+2*h]<<8|t.pending_buf[t.d_buf+2*h+1],i=t.pending_buf[t.l_buf+h],h++,0===n?c(t,i,e):(o=ce[i],c(t,o+W+1,e),a=ee[o],0!==a&&(i-=he[o],u(t,i,a)),n--,o=s(n),c(t,o,r),a=re[o],0!==a&&(n-=le[o],u(t,n,a)));while(h<t.last_lit);c(t,K,e)}function w(t,e){var r,n,i,o=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,u=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=H,r=0;u>r;r++)0!==o[2*r]?(t.heap[++t.heap_len]=c=r,t.depth[r]=0):o[2*r+1]=0;for(;t.heap_len<2;)i=t.heap[++t.heap_len]=2>c?++c:0,o[2*i]=1,t.depth[i]=0,t.opt_len--,a&&(t.static_len-=s[2*i+1]);for(e.max_code=c,r=t.heap_len>>1;r>=1;r--)y(t,o,r);i=u;do r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],y(t,o,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,o[2*i]=o[2*r]+o[2*n],t.depth[i]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,o[2*r+1]=o[2*n+1]=i,t.heap[1]=i++,y(t,o,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],f(t,e),d(o,c,t.bl_count)}function k(t,e,r){var n,i,o=-1,s=e[1],a=0,u=7,c=4;for(0===s&&(u=138,c=3),e[2*(r+1)+1]=65535,n=0;r>=n;n++)i=s,s=e[2*(n+1)+1],++a<u&&i===s||(c>a?t.bl_tree[2*i]+=a:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[2*Q]++):10>=a?t.bl_tree[2*J]++:t.bl_tree[2*te]++,a=0,o=i,0===s?(u=138,c=3):i===s?(u=6,c=3):(u=7,c=4))}function E(t,e,r){var n,i,o=-1,s=e[1],a=0,h=7,l=4;for(0===s&&(h=138,l=3),n=0;r>=n;n++)if(i=s,s=e[2*(n+1)+1],!(++a<h&&i===s)){if(l>a){do c(t,i,t.bl_tree);while(0!==--a)}else 0!==i?(i!==o&&(c(t,i,t.bl_tree),a--),c(t,Q,t.bl_tree),u(t,a-3,2)):10>=a?(c(t,J,t.bl_tree),u(t,a-3,3)):(c(t,te,t.bl_tree),u(t,a-11,7));a=0,o=i,0===s?(h=138,l=3):i===s?(h=6,l=3):(h=7,l=4)}}function S(t){var e;for(k(t,t.dyn_ltree,t.l_desc.max_code),k(t,t.dyn_dtree,t.d_desc.max_code),w(t,t.bl_desc),e=Z-1;e>=3&&0===t.bl_tree[2*ie[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function x(t,e,r,n){var i;for(u(t,e-257,5),u(t,r-1,5),u(t,n-4,4),i=0;n>i;i++)u(t,t.bl_tree[2*ie[i]+1],3);E(t,t.dyn_ltree,e-1),E(t,t.dyn_dtree,r-1)}function T(t){var e,r=4093624447;for(e=0;31>=e;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return D;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return L;for(e=32;W>e;e++)if(0!==t.dyn_ltree[2*e])return L;return D}function P(t){_e||(p(),_e=!0),t.l_desc=new o(t.dyn_ltree,fe),t.d_desc=new o(t.dyn_dtree,de),t.bl_desc=new o(t.bl_tree,pe),t.bi_buf=0,t.bi_valid=0,_(t)}function C(t,e,r,n){u(t,(F<<1)+(n?1:0),3),g(t,e,r,!0)}function R(t){u(t,N<<1,3),c(t,K,se),l(t)}function O(t,e,r,n){var i,o,s=0;t.level>0?(t.strm.data_type===B&&(t.strm.data_type=T(t)),w(t,t.l_desc),w(t,t.d_desc),s=S(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,i>=o&&(i=o)):i=o=r+5,i>=r+4&&-1!==e?C(t,e,r,n):t.strategy===z||o===i?(u(t,(N<<1)+(n?1:0),3),b(t,se,ae)):(u(t,(U<<1)+(n?1:0),3),x(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),b(t,t.dyn_ltree,t.dyn_dtree)),_(t),n&&m(t)}function I(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(ce[r]+W+1)]++,t.dyn_dtree[2*s(e)]++),t.last_lit===t.lit_bufsize-1}var A=t("../utils/common"),z=4,D=0,L=1,B=2,F=0,N=1,U=2,M=3,j=258,$=29,W=256,V=W+1+$,G=30,Z=19,H=2*V+1,q=15,Y=16,X=7,K=256,Q=16,J=17,te=18,ee=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],re=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ne=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=512,se=new Array(2*(V+2));n(se);var ae=new Array(2*G);n(ae);var ue=new Array(oe);n(ue);var ce=new Array(j-M+1);n(ce);var he=new Array($);n(he);var le=new Array(G);n(le);var fe,de,pe,_e=!1;r._tr_init=P,r._tr_stored_block=C,r._tr_flush_block=O,r._tr_tally=I,r._tr_align=R},{"../utils/common":62}],74:[function(t,e,r){"use strict";function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=n},{}]},{},[10])(10)}),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.JSZip=t()}}(function(){return function t(e,r,n){function i(s,a){if(!r[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=r[s]={exports:{}};e[s][0].call(h.exports,function(t){var r=e[s][1][t];return i(r?r:t)},h,h.exports,t,e,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,r){"use strict";var n=t("./utils"),i=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(t){for(var e,r,i,s,a,u,c,h=[],l=0,f=t.length,d=f,p="string"!==n.getTypeOf(t);l<t.length;)d=f-l,p?(e=t[l++],r=f>l?t[l++]:0,i=f>l?t[l++]:0):(e=t.charCodeAt(l++),r=f>l?t.charCodeAt(l++):0,i=f>l?t.charCodeAt(l++):0),s=e>>2,a=(3&e)<<4|r>>4,u=d>1?(15&r)<<2|i>>6:64,c=d>2?63&i:64,h.push(o.charAt(s)+o.charAt(a)+o.charAt(u)+o.charAt(c));return h.join("")},r.decode=function(t){var e,r,n,s,a,u,c,h=0,l=0,f="data:";
if(t.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");var d=3*t.length/4;if(t.charAt(t.length-1)===o.charAt(64)&&d--,t.charAt(t.length-2)===o.charAt(64)&&d--,d%1!==0)throw new Error("Invalid base64 input, bad content length.");var p;for(p=i.uint8array?new Uint8Array(0|d):new Array(0|d);h<t.length;)s=o.indexOf(t.charAt(h++)),a=o.indexOf(t.charAt(h++)),u=o.indexOf(t.charAt(h++)),c=o.indexOf(t.charAt(h++)),e=s<<2|a>>4,r=(15&a)<<4|u>>2,n=(3&u)<<6|c,p[l++]=e,64!==u&&(p[l++]=r),64!==c&&(p[l++]=n);return p}},{"./support":30,"./utils":32}],2:[function(t,e,r){"use strict";function n(t,e,r,n,i){this.compressedSize=t,this.uncompressedSize=e,this.crc32=r,this.compression=n,this.compressedContent=i}var i=t("./external"),o=t("./stream/DataWorker"),s=t("./stream/DataLengthProbe"),a=t("./stream/Crc32Probe"),s=t("./stream/DataLengthProbe");n.prototype={getContentWorker:function(){var t=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},n.createWorkerFrom=function(t,e,r){return t.pipe(new a).pipe(new s("uncompressedSize")).pipe(e.compressWorker(r)).pipe(new s("compressedSize")).withStreamInfo("compression",e)},e.exports=n},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,r){"use strict";var n=t("./stream/GenericWorker");r.STORE={magic:"\x00\x00",compressWorker:function(t){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,r){"use strict";function n(){for(var t,e=[],r=0;256>r;r++){t=r;for(var n=0;8>n;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}function i(t,e,r,n){var i=a,o=n+r;t^=-1;for(var s=n;o>s;s++)t=t>>>8^i[255&(t^e[s])];return-1^t}function o(t,e,r,n){var i=a,o=n+r;t^=-1;for(var s=n;o>s;s++)t=t>>>8^i[255&(t^e.charCodeAt(s))];return-1^t}var s=t("./utils"),a=n();e.exports=function(t,e){if("undefined"==typeof t||!t.length)return 0;var r="string"!==s.getTypeOf(t);return r?i(0|e,t,t.length,0):o(0|e,t,t.length,0)}},{"./utils":32}],5:[function(t,e,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,e,r){"use strict";var n=null;n="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:n}},{lie:58}],7:[function(t,e,r){"use strict";function n(t,e){a.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=t("pako"),s=t("./utils"),a=t("./stream/GenericWorker"),u=i?"uint8array":"array";r.magic="\b\x00",s.inherits(n,a),n.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(u,t.data),!1)},n.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},n.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},n.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},r.compressWorker=function(t){return new n("Deflate",t)},r.uncompressWorker=function(){return new n("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:59}],8:[function(t,e,r){"use strict";function n(t,e,r,n){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var i=t("../utils"),o=t("../stream/GenericWorker"),s=t("../utf8"),a=t("../crc32"),u=t("../signature"),c=function(t,e){var r,n="";for(r=0;e>r;r++)n+=String.fromCharCode(255&t),t>>>=8;return n},h=function(t,e){var r=t;return t||(r=e?16893:33204),(65535&r)<<16},l=function(t,e){return 63&(t||0)},f=function(t,e,r,n,o,f){var d,p,_=t.file,m=t.compression,g=f!==s.utf8encode,v=i.transformTo("string",f(_.name)),y=i.transformTo("string",s.utf8encode(_.name)),b=_.comment,w=i.transformTo("string",f(b)),k=i.transformTo("string",s.utf8encode(b)),E=y.length!==_.name.length,S=k.length!==b.length,x="",T="",P="",C=_.dir,R=_.date,O={crc32:0,compressedSize:0,uncompressedSize:0};e&&!r||(O.crc32=t.crc32,O.compressedSize=t.compressedSize,O.uncompressedSize=t.uncompressedSize);var I=0;e&&(I|=8),g||!E&&!S||(I|=2048);var A=0,z=0;C&&(A|=16),"UNIX"===o?(z=798,A|=h(_.unixPermissions,C)):(z=20,A|=l(_.dosPermissions,C)),d=R.getUTCHours(),d<<=6,d|=R.getUTCMinutes(),d<<=5,d|=R.getUTCSeconds()/2,p=R.getUTCFullYear()-1980,p<<=4,p|=R.getUTCMonth()+1,p<<=5,p|=R.getUTCDate(),E&&(T=c(1,1)+c(a(v),4)+y,x+="up"+c(T.length,2)+T),S&&(P=c(1,1)+c(a(w),4)+k,x+="uc"+c(P.length,2)+P);var D="";D+="\n\x00",D+=c(I,2),D+=m.magic,D+=c(d,2),D+=c(p,2),D+=c(O.crc32,4),D+=c(O.compressedSize,4),D+=c(O.uncompressedSize,4),D+=c(v.length,2),D+=c(x.length,2);var L=u.LOCAL_FILE_HEADER+D+v+x,B=u.CENTRAL_FILE_HEADER+c(z,2)+D+c(w.length,2)+"\x00\x00\x00\x00"+c(A,4)+c(n,4)+v+x+w;return{fileRecord:L,dirRecord:B}},d=function(t,e,r,n,o){var s="",a=i.transformTo("string",o(n));return s=u.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+c(t,2)+c(t,2)+c(e,4)+c(r,4)+c(a.length,2)+a},p=function(t){var e="";return e=u.DATA_DESCRIPTOR+c(t.crc32,4)+c(t.compressedSize,4)+c(t.uncompressedSize,4)};i.inherits(n,o),n.prototype.push=function(t){var e=t.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,o.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:r?(e+100*(r-n-1))/r:100}}))},n.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var r=f(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},n.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,r=f(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),e)this.push({data:p(t),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},n.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var r=this.bytesWritten-t,n=d(this.dirRecords.length,r,t,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},n.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},n.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},n.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},n.prototype.error=function(t){var e=this._sources;if(!o.prototype.error.call(this,t))return!1;for(var r=0;r<e.length;r++)try{e[r].error(t)}catch(t){}return!0},n.prototype.lock=function(){o.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=n},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,r){"use strict";var n=t("../compressions"),i=t("./ZipFileWorker"),o=function(t,e){var r=t||e,i=n[r];if(!i)throw new Error(r+" is not a valid compression method !");return i};r.generateWorker=function(t,e,r){var n=new i(e.streamFiles,r,e.platform,e.encodeFileName),s=0;try{t.forEach(function(t,r){s++;var i=o(r.options.compression,e.compression),a=r.options.compressionOptions||e.compressionOptions||{},u=r.dir,c=r.date;r._compressWorker(i,a).withStreamInfo("file",{name:t,dir:u,date:c,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(n)}),n.entriesCount=s}catch(a){n.error(a)}return n}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,r){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new n;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}n.prototype=t("./object"),n.prototype.loadAsync=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.version="3.1.5",n.loadAsync=function(t,e){return(new n).loadAsync(t,e)},n.external=t("./external"),e.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,r){"use strict";function n(t){return new o.Promise(function(e,r){var n=t.decompressed.getContentWorker().pipe(new u);n.on("error",function(t){r(t)}).on("end",function(){n.streamInfo.crc32!==t.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}var i=t("./utils"),o=t("./external"),s=t("./utf8"),i=t("./utils"),a=t("./zipEntries"),u=t("./stream/Crc32Probe"),c=t("./nodejsUtils");e.exports=function(t,e){var r=this;return e=i.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),c.isNode&&c.isStream(t)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then(function(t){var r=new a(e);return r.load(t),r}).then(function(t){var r=[o.Promise.resolve(t)],i=t.files;if(e.checkCRC32)for(var s=0;s<i.length;s++)r.push(n(i[s]));return o.Promise.all(r)}).then(function(t){for(var n=t.shift(),i=n.files,o=0;o<i.length;o++){var s=i[o];r.file(s.fileNameStr,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:e.createFolders})}return n.zipComment.length&&(r.comment=n.zipComment),r})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,r){"use strict";function n(t,e){o.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}var i=t("../utils"),o=t("../stream/GenericWorker");i.inherits(n,o),n.prototype._bindStream=function(t){var e=this;this._stream=t,t.pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},n.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},n.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=n},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,r){"use strict";function n(t,e,r){i.call(this,e),this._helper=t;var n=this;t.on("data",function(t,e){n.push(t)||n._helper.pause(),r&&r(e)}).on("error",function(t){n.emit("error",t)}).on("end",function(){n.push(null)})}var i=t("readable-stream").Readable,o=t("../utils");o.inherits(n,i),n.prototype._read=function(){this._helper.resume()},e.exports=n},{"../utils":32,"readable-stream":16}],14:[function(t,e,r){"use strict";e.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(t,e){return new Buffer(t,e)},allocBuffer:function(t){return Buffer.alloc?Buffer.alloc(t):new Buffer(t)},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,r){"use strict";function n(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var i=t("./utf8"),o=t("./utils"),s=t("./stream/GenericWorker"),a=t("./stream/StreamHelper"),u=t("./defaults"),c=t("./compressedObject"),h=t("./zipObject"),l=t("./generate"),f=t("./nodejsUtils"),d=t("./nodejs/NodejsStreamInputAdapter"),p=function(t,e,r){var n,i=o.getTypeOf(e),a=o.extend(r||{},u);a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),"string"==typeof a.unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(t=m(t)),a.createFolders&&(n=_(t))&&g.call(this,n,!0);var l="string"===i&&a.binary===!1&&a.base64===!1;r&&"undefined"!=typeof r.binary||(a.binary=!l);var p=e instanceof c&&0===e.uncompressedSize;(p||a.dir||!e||0===e.length)&&(a.base64=!1,a.binary=!0,e="",a.compression="STORE",i="string");var v=null;v=e instanceof c||e instanceof s?e:f.isNode&&f.isStream(e)?new d(t,e):o.prepareContent(t,e,a.binary,a.optimizedBinaryString,a.base64);var y=new h(t,v,a);this.files[t]=y},_=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},m=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},g=function(t,e){return e="undefined"!=typeof e?e:u.createFolders,t=m(t),this.files[t]||p.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,r,n;for(e in this.files)this.files.hasOwnProperty(e)&&(n=this.files[e],r=e.slice(this.root.length,e.length),r&&e.slice(0,this.root.length)===this.root&&t(r,n))},filter:function(t){var e=[];return this.forEach(function(r,n){t(r,n)&&e.push(n)}),e},file:function(t,e,r){if(1===arguments.length){if(n(t)){var i=t;return this.filter(function(t,e){return!e.dir&&i.test(t)})}var o=this.files[this.root+t];return o&&!o.dir?o:null}return t=this.root+t,p.call(this,t,e,r),this},folder:function(t){if(!t)return this;if(n(t))return this.filter(function(e,r){return r.dir&&t.test(e)});var e=this.root+t,r=g.call(this,e),i=this.clone();return i.root=r.name,i},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var r=this.filter(function(e,r){return r.name.slice(0,t.length)===t}),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,r={};try{if(r=o.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode}),r.type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");o.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var n=r.comment||this.comment||"";e=l.generateWorker(this,r,n)}catch(u){e=new s("error"),e.error(u)}return new a(e,r.type||"string",r.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return t=t||{},t.type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,r){e.exports=t("stream")},{stream:void 0}],17:[function(t,e,r){"use strict";function n(t){i.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}var i=t("./DataReader"),o=t("../utils");o.inherits(n,i),n.prototype.byteAt=function(t){return this.data[this.zero+t]},n.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),r=t.charCodeAt(1),n=t.charCodeAt(2),i=t.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===e&&this.data[o+1]===r&&this.data[o+2]===n&&this.data[o+3]===i)return o-this.zero;return-1},n.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1),n=t.charCodeAt(2),i=t.charCodeAt(3),o=this.readData(4);return e===o[0]&&r===o[1]&&n===o[2]&&i===o[3]},n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./DataReader":18}],18:[function(t,e,r){"use strict";function n(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}var i=t("../utils");n.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||0>t)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,r=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)r=(r<<8)+this.byteAt(e);return this.index+=t,r},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC((t>>25&127)+1980,(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=n},{"../utils":32}],19:[function(t,e,r){"use strict";function n(t){i.call(this,t)}var i=t("./Uint8ArrayReader"),o=t("../utils");o.inherits(n,i),n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,r){"use strict";function n(t){i.call(this,t)}var i=t("./DataReader"),o=t("../utils");o.inherits(n,i),n.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},n.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},n.prototype.readAndCheckSignature=function(t){var e=this.readData(4);return t===e},n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./DataReader":18}],21:[function(t,e,r){"use strict";function n(t){i.call(this,t)}var i=t("./ArrayReader"),o=t("../utils");o.inherits(n,i),n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,r){"use strict";var n=t("../utils"),i=t("../support"),o=t("./ArrayReader"),s=t("./StringReader"),a=t("./NodeBufferReader"),u=t("./Uint8ArrayReader");e.exports=function(t){var e=n.getTypeOf(t);return n.checkSupport(e),"string"!==e||i.uint8array?"nodebuffer"===e?new a(t):i.uint8array?new u(n.transformTo("uint8array",t)):new o(n.transformTo("array",t)):new s(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,r){"use strict";r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\b"},{}],24:[function(t,e,r){"use strict";function n(t){i.call(this,"ConvertWorker to "+t),this.destType=t}var i=t("./GenericWorker"),o=t("../utils");o.inherits(n,i),n.prototype.processChunk=function(t){this.push({data:o.transformTo(this.destType,t.data),meta:t.meta})},e.exports=n},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,r){"use strict";function n(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var i=t("./GenericWorker"),o=t("../crc32"),s=t("../utils");s.inherits(n,i),n.prototype.processChunk=function(t){this.streamInfo.crc32=o(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=n},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,r){"use strict";function n(t){o.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}var i=t("../utils"),o=t("./GenericWorker");i.inherits(n,o),n.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}o.prototype.processChunk.call(this,t)},e.exports=n},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,r){"use strict";function n(t){o.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=i.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}var i=t("../utils"),o=t("./GenericWorker"),s=16384;i.inherits(n,o),n.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},n.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},n.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},n.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=s,e=null,r=Math.min(this.max,this.index+t);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,r);break;case"uint8array":e=this.data.subarray(this.index,r);break;case"array":case"nodebuffer":e=this.data.slice(this.index,r)}return this.index=r,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=n},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,r){"use strict";function n(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var t=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=n},{}],29:[function(t,e,r){"use strict";function n(t,e,r){switch(t){case"blob":return a.newBlob(a.transformTo("arraybuffer",e),r);case"base64":return h.encode(e);default:return a.transformTo(t,e)}}function i(t,e){var r,n=0,i=null,o=0;for(r=0;r<e.length;r++)o+=e[r].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(i=new Uint8Array(o),r=0;r<e.length;r++)i.set(e[r],n),n+=e[r].length;return i;case"nodebuffer":return Buffer.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}function o(t,e){return new f.Promise(function(r,o){var s=[],a=t._internalType,u=t._outputType,c=t._mimeType;t.on("data",function(t,r){s.push(t),e&&e(r)}).on("error",function(t){s=[],o(t)}).on("end",function(){try{var t=n(u,i(a,s),c);r(t)}catch(e){o(e)}s=[]}).resume()})}function s(t,e,r){var n=e;switch(e){case"blob":case"arraybuffer":n="uint8array";break;case"base64":n="string"}try{this._internalType=n,this._outputType=e,this._mimeType=r,a.checkSupport(n),this._worker=t.pipe(new u(n)),t.lock()}catch(i){this._worker=new c("error"),this._worker.error(i)}}var a=t("../utils"),u=t("./ConvertWorker"),c=t("./GenericWorker"),h=t("../base64"),l=t("../support"),f=t("../external"),d=null;if(l.nodestream)try{d=t("../nodejs/NodejsStreamOutputAdapter")}catch(p){}s.prototype={accumulate:function(t){return o(this,t)},on:function(t,e){var r=this;return"data"===t?this._worker.on(t,function(t){e.call(r,t.data,t.meta)}):this._worker.on(t,function(){a.delay(e,arguments,r)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(a.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=s},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,r){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer="undefined"!=typeof Buffer,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var n=new ArrayBuffer(0);try{r.blob=0===new Blob([n],{type:"application/zip"}).size}catch(i){try{var o=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,s=new o;s.append(n),r.blob=0===s.getBlob("application/zip").size}catch(i){r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch(i){r.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,r){"use strict";function n(){u.call(this,"utf-8 decode"),this.leftOver=null}function i(){u.call(this,"utf-8 encode")}for(var o=t("./utils"),s=t("./support"),a=t("./nodejsUtils"),u=t("./stream/GenericWorker"),c=new Array(256),h=0;256>h;h++)c[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;c[254]=c[254]=1;var l=function(t){var e,r,n,i,o,a=t.length,u=0;for(i=0;a>i;i++)r=t.charCodeAt(i),55296===(64512&r)&&a>i+1&&(n=t.charCodeAt(i+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),u+=128>r?1:2048>r?2:65536>r?3:4;for(e=s.uint8array?new Uint8Array(u):new Array(u),o=0,i=0;u>o;i++)r=t.charCodeAt(i),55296===(64512&r)&&a>i+1&&(n=t.charCodeAt(i+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),128>r?e[o++]=r:2048>r?(e[o++]=192|r>>>6,e[o++]=128|63&r):65536>r?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|63&r):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|63&r);return e},f=function(t,e){var r;for(e=e||t.length,e>t.length&&(e=t.length),r=e-1;r>=0&&128===(192&t[r]);)r--;return 0>r?e:0===r?e:r+c[t[r]]>e?r:e},d=function(t){var e,r,n,i,s=t.length,a=new Array(2*s);for(r=0,e=0;s>e;)if(n=t[e++],128>n)a[r++]=n;else if(i=c[n],i>4)a[r++]=65533,e+=i-1;else{for(n&=2===i?31:3===i?15:7;i>1&&s>e;)n=n<<6|63&t[e++],i--;i>1?a[r++]=65533:65536>n?a[r++]=n:(n-=65536,a[r++]=55296|n>>10&1023,a[r++]=56320|1023&n)}return a.length!==r&&(a.subarray?a=a.subarray(0,r):a.length=r),o.applyFromCharCode(a)};r.utf8encode=function(t){return s.nodebuffer?a.newBufferFrom(t,"utf-8"):l(t)},r.utf8decode=function(t){return s.nodebuffer?o.transformTo("nodebuffer",t).toString("utf-8"):(t=o.transformTo(s.uint8array?"uint8array":"array",t),d(t))},o.inherits(n,u),n.prototype.processChunk=function(t){var e=o.transformTo(s.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var n=e;e=new Uint8Array(n.length+this.leftOver.length),e.set(this.leftOver,0),e.set(n,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var i=f(e),a=e;i!==e.length&&(s.uint8array?(a=e.subarray(0,i),this.leftOver=e.subarray(i,e.length)):(a=e.slice(0,i),this.leftOver=e.slice(i,e.length))),this.push({data:r.utf8decode(a),meta:t.meta})},n.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=n,o.inherits(i,u),i.prototype.processChunk=function(t){this.push({data:r.utf8encode(t.data),meta:t.meta})},r.Utf8EncodeWorker=i},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,r){"use strict";function n(t){var e=null;return e=u.uint8array?new Uint8Array(t.length):new Array(t.length),o(t,e)}function i(t){return t}function o(t,e){for(var r=0;r<t.length;++r)e[r]=255&t.charCodeAt(r);return e}function s(t){var e=65536,n=r.getTypeOf(t),i=!0;if("uint8array"===n?i=d.applyCanBeUsed.uint8array:"nodebuffer"===n&&(i=d.applyCanBeUsed.nodebuffer),i)for(;e>1;)try{return d.stringifyByChunk(t,n,e)}catch(o){e=Math.floor(e/2)}return d.stringifyByChar(t)}function a(t,e){for(var r=0;r<t.length;r++)e[r]=t[r];return e}var u=t("./support"),c=t("./base64"),h=t("./nodejsUtils"),l=t("core-js/library/fn/set-immediate"),f=t("./external");r.newBlob=function(t,e){r.checkSupport("blob");try{return new Blob([t],{type:e})}catch(n){try{var i=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,o=new i;return o.append(t),o.getBlob(e)}catch(n){throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(t,e,r){var n=[],i=0,o=t.length;if(r>=o)return String.fromCharCode.apply(null,t);for(;o>i;)"array"===e||"nodebuffer"===e?n.push(String.fromCharCode.apply(null,t.slice(i,Math.min(i+r,o)))):n.push(String.fromCharCode.apply(null,t.subarray(i,Math.min(i+r,o)))),i+=r;return n.join("")},stringifyByChar:function(t){for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},applyCanBeUsed:{uint8array:function(){try{return u.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return u.nodebuffer&&1===String.fromCharCode.apply(null,h.allocBuffer(1)).length}catch(t){return!1}}()}};r.applyFromCharCode=s;var p={};p.string={string:i,array:function(t){return o(t,new Array(t.length))},arraybuffer:function(t){return p.string.uint8array(t).buffer
},uint8array:function(t){return o(t,new Uint8Array(t.length))},nodebuffer:function(t){return o(t,h.allocBuffer(t.length))}},p.array={string:s,array:i,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return h.newBufferFrom(t)}},p.arraybuffer={string:function(t){return s(new Uint8Array(t))},array:function(t){return a(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:i,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return h.newBufferFrom(new Uint8Array(t))}},p.uint8array={string:s,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:i,nodebuffer:function(t){return h.newBufferFrom(t)}},p.nodebuffer={string:s,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return p.nodebuffer.uint8array(t).buffer},uint8array:function(t){return a(t,new Uint8Array(t.length))},nodebuffer:i},r.transformTo=function(t,e){if(e||(e=""),!t)return e;r.checkSupport(t);var n=r.getTypeOf(e),i=p[n][t](e);return i},r.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":u.nodebuffer&&h.isBuffer(t)?"nodebuffer":u.uint8array&&t instanceof Uint8Array?"uint8array":u.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(t){var e=u[t.toLowerCase()];if(!e)throw new Error(t+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(t){var e,r,n="";for(r=0;r<(t||"").length;r++)e=t.charCodeAt(r),n+="\\x"+(16>e?"0":"")+e.toString(16).toUpperCase();return n},r.delay=function(t,e,r){l(function(){t.apply(r||null,e||[])})},r.inherits=function(t,e){var r=function(){};r.prototype=e.prototype,t.prototype=new r},r.extend=function(){var t,e,r={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&"undefined"==typeof r[e]&&(r[e]=arguments[t][e]);return r},r.prepareContent=function(t,e,i,o,s){var a=f.Promise.resolve(e).then(function(t){var e=u.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)));return e&&"undefined"!=typeof FileReader?new f.Promise(function(e,r){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.onerror=function(t){r(t.target.error)},n.readAsArrayBuffer(t)}):t});return a.then(function(e){var a=r.getTypeOf(e);return a?("arraybuffer"===a?e=r.transformTo("uint8array",e):"string"===a&&(s?e=c.decode(e):i&&o!==!0&&(e=n(e))),e):f.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"core-js/library/fn/set-immediate":36}],33:[function(t,e,r){"use strict";function n(t){this.files=[],this.loadOptions=t}var i=t("./reader/readerFor"),o=t("./utils"),s=t("./signature"),a=t("./zipEntry"),u=(t("./utf8"),t("./support"));n.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(e)+", expected "+o.pretty(t)+")")}},isSignature:function(t,e){var r=this.reader.index;this.reader.setIndex(t);var n=this.reader.readString(4),i=n===e;return this.reader.setIndex(r),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=u.uint8array?"uint8array":"array",r=o.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,r,n=this.zip64EndOfCentralSize-44,i=0;n>i;)t=this.reader.readInt(2),e=this.reader.readInt(4),r=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)t=new a({zip64:this.zip64},this.loadOptions),t.readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(0>t){var e=!this.isSignature(0,s.LOCAL_FILE_HEADER);throw e?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(t);var r=t;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,t=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),0>t)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=r-n;if(i>0)this.isSignature(r,s.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(0>i)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){this.reader=i(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=n},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,e,r){"use strict";function n(t,e){this.options=t,this.loadOptions=e}var i=t("./reader/readerFor"),o=t("./utils"),s=t("./compressedObject"),a=t("./crc32"),u=t("./utf8"),c=t("./compressions"),h=t("./support"),l=0,f=3,d=function(t){for(var e in c)if(c.hasOwnProperty(e)&&c[e].magic===t)return c[e];return null};n.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},readLocalPart:function(t){var e,r;if(t.skip(22),this.fileNameLength=t.readInt(2),r=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(e=d(this.compressionMethod),null===e)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),t===l&&(this.dosPermissions=63&this.externalFileAttributes),t===f&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,r,n,i=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<i;)e=t.readInt(2),r=t.readInt(2),n=t.readData(r),this.extraFields[e]={id:e,length:r,value:n}},handleUTF8:function(){var t=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var r=o.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var i=o.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:a(this.fileName)!==e.readInt(4)?null:u.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:a(this.fileComment)!==e.readInt(4)?null:u.utf8decode(e.readData(t.length-5))}return null}},e.exports=n},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,r){"use strict";var n=t("./stream/StreamHelper"),i=t("./stream/DataWorker"),o=t("./utf8"),s=t("./compressedObject"),a=t("./stream/GenericWorker"),u=function(t,e,r){this.name=t,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=e,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}};u.prototype={internalStream:function(t){var e=null,r="string";try{if(!t)throw new Error("No output type specified.");r=t.toLowerCase();var i="string"===r||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),e=this._decompressWorker();var s=!this._dataBinary;s&&!i&&(e=e.pipe(new o.Utf8EncodeWorker)),!s&&i&&(e=e.pipe(new o.Utf8DecodeWorker))}catch(u){e=new a("error"),e.error(u)}return new n(e,r,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof s&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(r,t,e)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof a?this._data:new i(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},l=0;l<c.length;l++)u.prototype[c[l]]=h;e.exports=u},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,r){t("../modules/web.immediate"),e.exports=t("../modules/_core").setImmediate},{"../modules/_core":40,"../modules/web.immediate":56}],37:[function(t,e,r){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],38:[function(t,e,r){var n=t("./_is-object");e.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},{"./_is-object":51}],39:[function(t,e,r){var n={}.toString;e.exports=function(t){return n.call(t).slice(8,-1)}},{}],40:[function(t,e,r){var n=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=n)},{}],41:[function(t,e,r){var n=t("./_a-function");e.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},{"./_a-function":37}],42:[function(t,e,r){e.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":45}],43:[function(t,e,r){var n=t("./_is-object"),i=t("./_global").document,o=n(i)&&n(i.createElement);e.exports=function(t){return o?i.createElement(t):{}}},{"./_global":46,"./_is-object":51}],44:[function(t,e,r){var n=t("./_global"),i=t("./_core"),o=t("./_ctx"),s=t("./_hide"),a="prototype",u=function(t,e,r){var c,h,l,f=t&u.F,d=t&u.G,p=t&u.S,_=t&u.P,m=t&u.B,g=t&u.W,v=d?i:i[e]||(i[e]={}),y=v[a],b=d?n:p?n[e]:(n[e]||{})[a];d&&(r=e);for(c in r)h=!f&&b&&void 0!==b[c],h&&c in v||(l=h?b[c]:r[c],v[c]=d&&"function"!=typeof b[c]?r[c]:m&&h?o(l,n):g&&b[c]==l?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e[a]=t[a],e}(l):_&&"function"==typeof l?o(Function.call,l):l,_&&((v.virtual||(v.virtual={}))[c]=l,t&u.R&&y&&!y[c]&&s(y,c,l)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},{"./_core":40,"./_ctx":41,"./_global":46,"./_hide":47}],45:[function(t,e,r){e.exports=function(t){try{return!!t()}catch(e){return!0}}},{}],46:[function(t,e,r){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],47:[function(t,e,r){var n=t("./_object-dp"),i=t("./_property-desc");e.exports=t("./_descriptors")?function(t,e,r){return n.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},{"./_descriptors":42,"./_object-dp":52,"./_property-desc":53}],48:[function(t,e,r){e.exports=t("./_global").document&&document.documentElement},{"./_global":46}],49:[function(t,e,r){e.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":42,"./_dom-create":43,"./_fails":45}],50:[function(t,e,r){e.exports=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},{}],51:[function(t,e,r){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],52:[function(t,e,r){var n=t("./_an-object"),i=t("./_ie8-dom-define"),o=t("./_to-primitive"),s=Object.defineProperty;r.f=t("./_descriptors")?Object.defineProperty:function(t,e,r){if(n(t),e=o(e,!0),n(r),i)try{return s(t,e,r)}catch(a){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},{"./_an-object":38,"./_descriptors":42,"./_ie8-dom-define":49,"./_to-primitive":55}],53:[function(t,e,r){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],54:[function(t,e,r){var n,i,o,s=t("./_ctx"),a=t("./_invoke"),u=t("./_html"),c=t("./_dom-create"),h=t("./_global"),l=h.process,f=h.setImmediate,d=h.clearImmediate,p=h.MessageChannel,_=0,m={},g="onreadystatechange",v=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},y=function(t){v.call(t.data)};f&&d||(f=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return m[++_]=function(){a("function"==typeof t?t:Function(t),e)},n(_),_},d=function(t){delete m[t]},"process"==t("./_cof")(l)?n=function(t){l.nextTick(s(v,t,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=y,n=s(o.postMessage,o,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(n=function(t){h.postMessage(t+"","*")},h.addEventListener("message",y,!1)):n=g in c("script")?function(t){u.appendChild(c("script"))[g]=function(){u.removeChild(this),v.call(t)}}:function(t){setTimeout(s(v,t,1),0)}),e.exports={set:f,clear:d}},{"./_cof":39,"./_ctx":41,"./_dom-create":43,"./_global":46,"./_html":48,"./_invoke":50}],55:[function(t,e,r){var n=t("./_is-object");e.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":51}],56:[function(t,e,r){var n=t("./_export"),i=t("./_task");n(n.G+n.B,{setImmediate:i.set,clearImmediate:i.clear})},{"./_export":44,"./_task":54}],57:[function(t,e,r){(function(t){"use strict";function r(){h=!0;for(var t,e,r=l.length;r;){for(e=l,l=[],t=-1;++t<r;)e[t]();r=l.length}h=!1}function n(t){1!==l.push(t)||h||i()}var i,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var s=0,a=new o(r),u=t.document.createTextNode("");a.observe(u,{characterData:!0}),i=function(){u.data=s=++s%2}}else if(t.setImmediate||"undefined"==typeof t.MessageChannel)i="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){r(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(r,0)};else{var c=new t.MessageChannel;c.port1.onmessage=r,i=function(){c.port2.postMessage(0)}}var h,l=[];e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],58:[function(t,e,r){"use strict";function n(){}function i(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,t!==n&&u(this,t)}function o(t,e,r){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function s(t,e,r){p(function(){var n;try{n=e(r)}catch(i){return _.reject(t,i)}n===t?_.reject(t,new TypeError("Cannot resolve promise with itself")):_.resolve(t,n)})}function a(t){var e=t&&t.then;return!t||"object"!=typeof t&&"function"!=typeof t||"function"!=typeof e?void 0:function(){e.apply(t,arguments)}}function u(t,e){function r(e){o||(o=!0,_.reject(t,e))}function n(e){o||(o=!0,_.resolve(t,e))}function i(){e(n,r)}var o=!1,s=c(i);"error"===s.status&&r(s.value)}function c(t,e){var r={};try{r.value=t(e),r.status="success"}catch(n){r.status="error",r.value=n}return r}function h(t){return t instanceof this?t:_.resolve(new this(n),t)}function l(t){var e=new this(n);return _.reject(e,t)}function f(t){function e(t,e){function n(t){s[e]=t,++a!==i||o||(o=!0,_.resolve(c,s))}r.resolve(t).then(n,function(t){o||(o=!0,_.reject(c,t))})}var r=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,o=!1;if(!i)return this.resolve([]);for(var s=new Array(i),a=0,u=-1,c=new this(n);++u<i;)e(t[u],u);return c}function d(t){function e(t){r.resolve(t).then(function(t){o||(o=!0,_.resolve(a,t))},function(t){o||(o=!0,_.reject(a,t))})}var r=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,o=!1;if(!i)return this.resolve([]);for(var s=-1,a=new this(n);++s<i;)e(t[s]);return a}var p=t("immediate"),_={},m=["REJECTED"],g=["FULFILLED"],v=["PENDING"];e.exports=i,i.prototype["catch"]=function(t){return this.then(null,t)},i.prototype.then=function(t,e){if("function"!=typeof t&&this.state===g||"function"!=typeof e&&this.state===m)return this;var r=new this.constructor(n);if(this.state!==v){var i=this.state===g?t:e;s(r,i,this.outcome)}else this.queue.push(new o(r,t,e));return r},o.prototype.callFulfilled=function(t){_.resolve(this.promise,t)},o.prototype.otherCallFulfilled=function(t){s(this.promise,this.onFulfilled,t)},o.prototype.callRejected=function(t){_.reject(this.promise,t)},o.prototype.otherCallRejected=function(t){s(this.promise,this.onRejected,t)},_.resolve=function(t,e){var r=c(a,e);if("error"===r.status)return _.reject(t,r.value);var n=r.value;if(n)u(t,n);else{t.state=g,t.outcome=e;for(var i=-1,o=t.queue.length;++i<o;)t.queue[i].callFulfilled(e)}return t},_.reject=function(t,e){t.state=m,t.outcome=e;for(var r=-1,n=t.queue.length;++r<n;)t.queue[r].callRejected(e);return t},i.resolve=h,i.reject=l,i.all=f,i.race=d},{immediate:57}],59:[function(t,e,r){"use strict";var n=t("./lib/utils/common").assign,i=t("./lib/deflate"),o=t("./lib/inflate"),s=t("./lib/zlib/constants"),a={};n(a,i,o,s),e.exports=a},{"./lib/deflate":60,"./lib/inflate":61,"./lib/utils/common":62,"./lib/zlib/constants":65}],60:[function(t,e,r){"use strict";function n(t){if(!(this instanceof n))return new n(t);this.options=u.assign({level:v,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var r=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==_)throw new Error(h[r]);if(e.header&&a.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i="string"==typeof e.dictionary?c.string2buf(e.dictionary):"[object ArrayBuffer]"===f.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,r=a.deflateSetDictionary(this.strm,i),r!==_)throw new Error(h[r]);this._dict_set=!0}}function i(t,e){var r=new n(e);if(r.push(t,!0),r.err)throw r.msg||h[r.err];return r.result}function o(t,e){return e=e||{},e.raw=!0,i(t,e)}function s(t,e){return e=e||{},e.gzip=!0,i(t,e)}var a=t("./zlib/deflate"),u=t("./utils/common"),c=t("./utils/strings"),h=t("./zlib/messages"),l=t("./zlib/zstream"),f=Object.prototype.toString,d=0,p=4,_=0,m=1,g=2,v=-1,y=0,b=8;n.prototype.push=function(t,e){var r,n,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;n=e===~~e?e:e===!0?p:d,"string"==typeof t?i.input=c.string2buf(t):"[object ArrayBuffer]"===f.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new u.Buf8(o),i.next_out=0,i.avail_out=o),r=a.deflate(i,n),r!==m&&r!==_)return this.onEnd(r),this.ended=!0,!1;0!==i.avail_out&&(0!==i.avail_in||n!==p&&n!==g)||("string"===this.options.to?this.onData(c.buf2binstring(u.shrinkBuf(i.output,i.next_out))):this.onData(u.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&r!==m);return n===p?(r=a.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===_):n!==g||(this.onEnd(_),i.avail_out=0,!0)},n.prototype.onData=function(t){this.chunks.push(t)},n.prototype.onEnd=function(t){t===_&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Deflate=n,r.deflate=i,r.deflateRaw=o,r.gzip=s},{"./utils/common":62,"./utils/strings":63,"./zlib/deflate":67,"./zlib/messages":72,"./zlib/zstream":74}],61:[function(t,e,r){"use strict";function n(t){if(!(this instanceof n))return new n(t);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var r=s.inflateInit2(this.strm,e.windowBits);if(r!==c.Z_OK)throw new Error(h[r]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function i(t,e){var r=new n(e);if(r.push(t,!0),r.err)throw r.msg||h[r.err];return r.result}function o(t,e){return e=e||{},e.raw=!0,i(t,e)}var s=t("./zlib/inflate"),a=t("./utils/common"),u=t("./utils/strings"),c=t("./zlib/constants"),h=t("./zlib/messages"),l=t("./zlib/zstream"),f=t("./zlib/gzheader"),d=Object.prototype.toString;n.prototype.push=function(t,e){var r,n,i,o,h,l,f=this.strm,p=this.options.chunkSize,_=this.options.dictionary,m=!1;if(this.ended)return!1;n=e===~~e?e:e===!0?c.Z_FINISH:c.Z_NO_FLUSH,"string"==typeof t?f.input=u.binstring2buf(t):"[object ArrayBuffer]"===d.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new a.Buf8(p),f.next_out=0,f.avail_out=p),r=s.inflate(f,c.Z_NO_FLUSH),r===c.Z_NEED_DICT&&_&&(l="string"==typeof _?u.string2buf(_):"[object ArrayBuffer]"===d.call(_)?new Uint8Array(_):_,r=s.inflateSetDictionary(this.strm,l)),r===c.Z_BUF_ERROR&&m===!0&&(r=c.Z_OK,m=!1),r!==c.Z_STREAM_END&&r!==c.Z_OK)return this.onEnd(r),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&r!==c.Z_STREAM_END&&(0!==f.avail_in||n!==c.Z_FINISH&&n!==c.Z_SYNC_FLUSH)||("string"===this.options.to?(i=u.utf8border(f.output,f.next_out),o=f.next_out-i,h=u.buf2string(f.output,i),f.next_out=o,f.avail_out=p-o,o&&a.arraySet(f.output,f.output,i,o,0),this.onData(h)):this.onData(a.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((f.avail_in>0||0===f.avail_out)&&r!==c.Z_STREAM_END);return r===c.Z_STREAM_END&&(n=c.Z_FINISH),n===c.Z_FINISH?(r=s.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===c.Z_OK):n!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),f.avail_out=0,!0)},n.prototype.onData=function(t){this.chunks.push(t)},n.prototype.onEnd=function(t){t===c.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Inflate=n,r.inflate=i,r.inflateRaw=o,r.ungzip=i},{"./utils/common":62,"./utils/strings":63,"./zlib/constants":65,"./zlib/gzheader":68,"./zlib/inflate":70,"./zlib/messages":72,"./zlib/zstream":74}],62:[function(t,e,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])}}return t},r.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray)return void t.set(e.subarray(r,r+n),i);for(var o=0;n>o;o++)t[i+o]=e[r+o]},flattenChunks:function(t){var e,r,n,i,o,s;for(n=0,e=0,r=t.length;r>e;e++)n+=t[e].length;for(s=new Uint8Array(n),i=0,e=0,r=t.length;r>e;e++)o=t[e],s.set(o,i),i+=o.length;return s}},o={arraySet:function(t,e,r,n,i){for(var o=0;n>o;o++)t[i+o]=e[r+o]},flattenChunks:function(t){return[].concat.apply([],t)}};r.setTyped=function(t){t?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,o))},r.setTyped(n)},{}],63:[function(t,e,r){"use strict";function n(t,e){if(65537>e&&(t.subarray&&s||!t.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var r="",n=0;e>n;n++)r+=String.fromCharCode(t[n]);return r}var i=t("./common"),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(a){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){s=!1}for(var u=new i.Buf8(256),c=0;256>c;c++)u[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;u[254]=u[254]=1,r.string2buf=function(t){var e,r,n,o,s,a=t.length,u=0;for(o=0;a>o;o++)r=t.charCodeAt(o),55296===(64512&r)&&a>o+1&&(n=t.charCodeAt(o+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),o++)),u+=128>r?1:2048>r?2:65536>r?3:4;for(e=new i.Buf8(u),s=0,o=0;u>s;o++)r=t.charCodeAt(o),55296===(64512&r)&&a>o+1&&(n=t.charCodeAt(o+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),o++)),128>r?e[s++]=r:2048>r?(e[s++]=192|r>>>6,e[s++]=128|63&r):65536>r?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|63&r):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|63&r);return e},r.buf2binstring=function(t){return n(t,t.length)},r.binstring2buf=function(t){for(var e=new i.Buf8(t.length),r=0,n=e.length;n>r;r++)e[r]=t.charCodeAt(r);return e},r.buf2string=function(t,e){var r,i,o,s,a=e||t.length,c=new Array(2*a);for(i=0,r=0;a>r;)if(o=t[r++],128>o)c[i++]=o;else if(s=u[o],s>4)c[i++]=65533,r+=s-1;else{for(o&=2===s?31:3===s?15:7;s>1&&a>r;)o=o<<6|63&t[r++],s--;s>1?c[i++]=65533:65536>o?c[i++]=o:(o-=65536,c[i++]=55296|o>>10&1023,c[i++]=56320|1023&o)}return n(c,i)},r.utf8border=function(t,e){var r;for(e=e||t.length,e>t.length&&(e=t.length),r=e-1;r>=0&&128===(192&t[r]);)r--;return 0>r?e:0===r?e:r+u[t[r]]>e?r:e}},{"./common":62}],64:[function(t,e,r){"use strict";function n(t,e,r,n){for(var i=65535&t|0,o=t>>>16&65535|0,s=0;0!==r;){s=r>2e3?2e3:r,r-=s;do i=i+e[n++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0}e.exports=n},{}],65:[function(t,e,r){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],66:[function(t,e,r){"use strict";function n(){for(var t,e=[],r=0;256>r;r++){t=r;for(var n=0;8>n;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}function i(t,e,r,n){var i=o,s=n+r;t^=-1;for(var a=n;s>a;a++)t=t>>>8^i[255&(t^e[a])];return-1^t}var o=n();e.exports=i},{}],67:[function(t,e,r){"use strict";function n(t,e){return t.msg=D[e],e}function i(t){return(t<<1)-(t>4?9:0)}function o(t){for(var e=t.length;--e>=0;)t[e]=0}function s(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(O.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function a(t,e){I._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,s(t.strm)
}function u(t,e){t.pending_buf[t.pending++]=e}function c(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function h(t,e,r,n){var i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,O.arraySet(e,t.input,t.next_in,i,r),1===t.state.wrap?t.adler=A(t.adler,e,i,r):2===t.state.wrap&&(t.adler=z(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)}function l(t,e){var r,n,i=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,u=t.strstart>t.w_size-le?t.strstart-(t.w_size-le):0,c=t.window,h=t.w_mask,l=t.prev,f=t.strstart+he,d=c[o+s-1],p=c[o+s];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do if(r=e,c[r+s]===p&&c[r+s-1]===d&&c[r]===c[o]&&c[++r]===c[o+1]){o+=2,r++;do;while(c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&f>o);if(n=he-(f-o),o=f-he,n>s){if(t.match_start=e,s=n,n>=a)break;d=c[o+s-1],p=c[o+s]}}while((e=l[e&h])>u&&0!==--i);return s<=t.lookahead?s:t.lookahead}function f(t){var e,r,n,i,o,s=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-le)){O.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,r=t.hash_size,e=r;do n=t.head[--e],t.head[e]=n>=s?n-s:0;while(--r);r=s,e=r;do n=t.prev[--e],t.prev[e]=n>=s?n-s:0;while(--r);i+=s}if(0===t.strm.avail_in)break;if(r=h(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=r,t.lookahead+t.insert>=ce)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+ce-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<ce)););}while(t.lookahead<le&&0!==t.strm.avail_in)}function d(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(f(t),0===t.lookahead&&e===L)return be;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,a(t,!1),0===t.strm.avail_out))return be;if(t.strstart-t.block_start>=t.w_size-le&&(a(t,!1),0===t.strm.avail_out))return be}return t.insert=0,e===N?(a(t,!0),0===t.strm.avail_out?ke:Ee):t.strstart>t.block_start&&(a(t,!1),0===t.strm.avail_out)?be:be}function p(t,e){for(var r,n;;){if(t.lookahead<le){if(f(t),t.lookahead<le&&e===L)return be;if(0===t.lookahead)break}if(r=0,t.lookahead>=ce&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ce-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-le&&(t.match_length=l(t,r)),t.match_length>=ce)if(n=I._tr_tally(t,t.strstart-t.match_start,t.match_length-ce),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ce){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ce-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=I._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(a(t,!1),0===t.strm.avail_out))return be}return t.insert=t.strstart<ce-1?t.strstart:ce-1,e===N?(a(t,!0),0===t.strm.avail_out?ke:Ee):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?be:we}function _(t,e){for(var r,n,i;;){if(t.lookahead<le){if(f(t),t.lookahead<le&&e===L)return be;if(0===t.lookahead)break}if(r=0,t.lookahead>=ce&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ce-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ce-1,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-le&&(t.match_length=l(t,r),t.match_length<=5&&(t.strategy===Z||t.match_length===ce&&t.strstart-t.match_start>4096)&&(t.match_length=ce-1)),t.prev_length>=ce&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-ce,n=I._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-ce),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ce-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!==--t.prev_length);if(t.match_available=0,t.match_length=ce-1,t.strstart++,n&&(a(t,!1),0===t.strm.avail_out))return be}else if(t.match_available){if(n=I._tr_tally(t,0,t.window[t.strstart-1]),n&&a(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return be}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=I._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ce-1?t.strstart:ce-1,e===N?(a(t,!0),0===t.strm.avail_out?ke:Ee):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?be:we}function m(t,e){for(var r,n,i,o,s=t.window;;){if(t.lookahead<=he){if(f(t),t.lookahead<=he&&e===L)return be;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=ce&&t.strstart>0&&(i=t.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){o=t.strstart+he;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&o>i);t.match_length=he-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ce?(r=I._tr_tally(t,1,t.match_length-ce),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=I._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(a(t,!1),0===t.strm.avail_out))return be}return t.insert=0,e===N?(a(t,!0),0===t.strm.avail_out?ke:Ee):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?be:we}function g(t,e){for(var r;;){if(0===t.lookahead&&(f(t),0===t.lookahead)){if(e===L)return be;break}if(t.match_length=0,r=I._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(a(t,!1),0===t.strm.avail_out))return be}return t.insert=0,e===N?(a(t,!0),0===t.strm.avail_out?ke:Ee):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?be:we}function v(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}function y(t){t.window_size=2*t.w_size,o(t.head),t.max_lazy_match=R[t.level].max_lazy,t.good_match=R[t.level].good_length,t.nice_match=R[t.level].nice_length,t.max_chain_length=R[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ce-1,t.match_available=0,t.ins_h=0}function b(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Q,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new O.Buf16(2*ae),this.dyn_dtree=new O.Buf16(2*(2*oe+1)),this.bl_tree=new O.Buf16(2*(2*se+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new O.Buf16(ue+1),this.heap=new O.Buf16(2*ie+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new O.Buf16(2*ie+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=K,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?de:ve,t.adler=2===e.wrap?0:1,e.last_flush=L,I._tr_init(e),M):n(t,$)}function k(t){var e=w(t);return e===M&&y(t.state),e}function E(t,e){return t&&t.state?2!==t.state.wrap?$:(t.state.gzhead=e,M):$}function S(t,e,r,i,o,s){if(!t)return $;var a=1;if(e===G&&(e=6),0>i?(a=0,i=-i):i>15&&(a=2,i-=16),1>o||o>J||r!==Q||8>i||i>15||0>e||e>9||0>s||s>Y)return n(t,$);8===i&&(i=9);var u=new b;return t.state=u,u.strm=t,u.wrap=a,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+ce-1)/ce),u.window=new O.Buf8(2*u.w_size),u.head=new O.Buf16(u.hash_size),u.prev=new O.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new O.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=s,u.method=r,k(t)}function x(t,e){return S(t,e,Q,te,ee,X)}function T(t,e){var r,a,h,l;if(!t||!t.state||e>U||0>e)return t?n(t,$):$;if(a=t.state,!t.output||!t.input&&0!==t.avail_in||a.status===ye&&e!==N)return n(t,0===t.avail_out?V:$);if(a.strm=t,r=a.last_flush,a.last_flush=e,a.status===de)if(2===a.wrap)t.adler=0,u(a,31),u(a,139),u(a,8),a.gzhead?(u(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),u(a,255&a.gzhead.time),u(a,a.gzhead.time>>8&255),u(a,a.gzhead.time>>16&255),u(a,a.gzhead.time>>24&255),u(a,9===a.level?2:a.strategy>=H||a.level<2?4:0),u(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(u(a,255&a.gzhead.extra.length),u(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=z(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=pe):(u(a,0),u(a,0),u(a,0),u(a,0),u(a,0),u(a,9===a.level?2:a.strategy>=H||a.level<2?4:0),u(a,Se),a.status=ve);else{var f=Q+(a.w_bits-8<<4)<<8,d=-1;d=a.strategy>=H||a.level<2?0:a.level<6?1:6===a.level?2:3,f|=d<<6,0!==a.strstart&&(f|=fe),f+=31-f%31,a.status=ve,c(a,f),0!==a.strstart&&(c(a,t.adler>>>16),c(a,65535&t.adler)),t.adler=1}if(a.status===pe)if(a.gzhead.extra){for(h=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>h&&(t.adler=z(t.adler,a.pending_buf,a.pending-h,h)),s(t),h=a.pending,a.pending!==a.pending_buf_size));)u(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>h&&(t.adler=z(t.adler,a.pending_buf,a.pending-h,h)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=_e)}else a.status=_e;if(a.status===_e)if(a.gzhead.name){h=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>h&&(t.adler=z(t.adler,a.pending_buf,a.pending-h,h)),s(t),h=a.pending,a.pending===a.pending_buf_size)){l=1;break}l=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,u(a,l)}while(0!==l);a.gzhead.hcrc&&a.pending>h&&(t.adler=z(t.adler,a.pending_buf,a.pending-h,h)),0===l&&(a.gzindex=0,a.status=me)}else a.status=me;if(a.status===me)if(a.gzhead.comment){h=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>h&&(t.adler=z(t.adler,a.pending_buf,a.pending-h,h)),s(t),h=a.pending,a.pending===a.pending_buf_size)){l=1;break}l=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,u(a,l)}while(0!==l);a.gzhead.hcrc&&a.pending>h&&(t.adler=z(t.adler,a.pending_buf,a.pending-h,h)),0===l&&(a.status=ge)}else a.status=ge;if(a.status===ge&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&s(t),a.pending+2<=a.pending_buf_size&&(u(a,255&t.adler),u(a,t.adler>>8&255),t.adler=0,a.status=ve)):a.status=ve),0!==a.pending){if(s(t),0===t.avail_out)return a.last_flush=-1,M}else if(0===t.avail_in&&i(e)<=i(r)&&e!==N)return n(t,V);if(a.status===ye&&0!==t.avail_in)return n(t,V);if(0!==t.avail_in||0!==a.lookahead||e!==L&&a.status!==ye){var p=a.strategy===H?g(a,e):a.strategy===q?m(a,e):R[a.level].func(a,e);if(p!==ke&&p!==Ee||(a.status=ye),p===be||p===ke)return 0===t.avail_out&&(a.last_flush=-1),M;if(p===we&&(e===B?I._tr_align(a):e!==U&&(I._tr_stored_block(a,0,0,!1),e===F&&(o(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),s(t),0===t.avail_out))return a.last_flush=-1,M}return e!==N?M:a.wrap<=0?j:(2===a.wrap?(u(a,255&t.adler),u(a,t.adler>>8&255),u(a,t.adler>>16&255),u(a,t.adler>>24&255),u(a,255&t.total_in),u(a,t.total_in>>8&255),u(a,t.total_in>>16&255),u(a,t.total_in>>24&255)):(c(a,t.adler>>>16),c(a,65535&t.adler)),s(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?M:j)}function P(t){var e;return t&&t.state?(e=t.state.status,e!==de&&e!==pe&&e!==_e&&e!==me&&e!==ge&&e!==ve&&e!==ye?n(t,$):(t.state=null,e===ve?n(t,W):M)):$}function C(t,e){var r,n,i,s,a,u,c,h,l=e.length;if(!t||!t.state)return $;if(r=t.state,s=r.wrap,2===s||1===s&&r.status!==de||r.lookahead)return $;for(1===s&&(t.adler=A(t.adler,e,l,0)),r.wrap=0,l>=r.w_size&&(0===s&&(o(r.head),r.strstart=0,r.block_start=0,r.insert=0),h=new O.Buf8(r.w_size),O.arraySet(h,e,l-r.w_size,r.w_size,0),e=h,l=r.w_size),a=t.avail_in,u=t.next_in,c=t.input,t.avail_in=l,t.next_in=0,t.input=e,f(r);r.lookahead>=ce;){n=r.strstart,i=r.lookahead-(ce-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+ce-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++;while(--i);r.strstart=n,r.lookahead=ce-1,f(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=ce-1,r.match_available=0,t.next_in=u,t.input=c,t.avail_in=a,r.wrap=s,M}var R,O=t("../utils/common"),I=t("./trees"),A=t("./adler32"),z=t("./crc32"),D=t("./messages"),L=0,B=1,F=3,N=4,U=5,M=0,j=1,$=-2,W=-3,V=-5,G=-1,Z=1,H=2,q=3,Y=4,X=0,K=2,Q=8,J=9,te=15,ee=8,re=29,ne=256,ie=ne+1+re,oe=30,se=19,ae=2*ie+1,ue=15,ce=3,he=258,le=he+ce+1,fe=32,de=42,pe=69,_e=73,me=91,ge=103,ve=113,ye=666,be=1,we=2,ke=3,Ee=4,Se=3;R=[new v(0,0,0,0,d),new v(4,4,8,4,p),new v(4,5,16,8,p),new v(4,6,32,32,p),new v(4,4,16,16,_),new v(8,16,32,32,_),new v(8,16,128,128,_),new v(8,32,128,256,_),new v(32,128,258,1024,_),new v(32,258,258,4096,_)],r.deflateInit=x,r.deflateInit2=S,r.deflateReset=k,r.deflateResetKeep=w,r.deflateSetHeader=E,r.deflate=T,r.deflateEnd=P,r.deflateSetDictionary=C,r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./messages":72,"./trees":73}],68:[function(t,e,r){"use strict";function n(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=n},{}],69:[function(t,e,r){"use strict";var n=30,i=12;e.exports=function(t,e){var r,o,s,a,u,c,h,l,f,d,p,_,m,g,v,y,b,w,k,E,S,x,T,P,C;r=t.state,o=t.next_in,P=t.input,s=o+(t.avail_in-5),a=t.next_out,C=t.output,u=a-(e-t.avail_out),c=a+(t.avail_out-257),h=r.dmax,l=r.wsize,f=r.whave,d=r.wnext,p=r.window,_=r.hold,m=r.bits,g=r.lencode,v=r.distcode,y=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;t:do{15>m&&(_+=P[o++]<<m,m+=8,_+=P[o++]<<m,m+=8),w=g[_&y];e:for(;;){if(k=w>>>24,_>>>=k,m-=k,k=w>>>16&255,0===k)C[a++]=65535&w;else{if(!(16&k)){if(0===(64&k)){w=g[(65535&w)+(_&(1<<k)-1)];continue e}if(32&k){r.mode=i;break t}t.msg="invalid literal/length code",r.mode=n;break t}E=65535&w,k&=15,k&&(k>m&&(_+=P[o++]<<m,m+=8),E+=_&(1<<k)-1,_>>>=k,m-=k),15>m&&(_+=P[o++]<<m,m+=8,_+=P[o++]<<m,m+=8),w=v[_&b];r:for(;;){if(k=w>>>24,_>>>=k,m-=k,k=w>>>16&255,!(16&k)){if(0===(64&k)){w=v[(65535&w)+(_&(1<<k)-1)];continue r}t.msg="invalid distance code",r.mode=n;break t}if(S=65535&w,k&=15,k>m&&(_+=P[o++]<<m,m+=8,k>m&&(_+=P[o++]<<m,m+=8)),S+=_&(1<<k)-1,S>h){t.msg="invalid distance too far back",r.mode=n;break t}if(_>>>=k,m-=k,k=a-u,S>k){if(k=S-k,k>f&&r.sane){t.msg="invalid distance too far back",r.mode=n;break t}if(x=0,T=p,0===d){if(x+=l-k,E>k){E-=k;do C[a++]=p[x++];while(--k);x=a-S,T=C}}else if(k>d){if(x+=l+d-k,k-=d,E>k){E-=k;do C[a++]=p[x++];while(--k);if(x=0,E>d){k=d,E-=k;do C[a++]=p[x++];while(--k);x=a-S,T=C}}}else if(x+=d-k,E>k){E-=k;do C[a++]=p[x++];while(--k);x=a-S,T=C}for(;E>2;)C[a++]=T[x++],C[a++]=T[x++],C[a++]=T[x++],E-=3;E&&(C[a++]=T[x++],E>1&&(C[a++]=T[x++]))}else{x=a-S;do C[a++]=C[x++],C[a++]=C[x++],C[a++]=C[x++],E-=3;while(E>2);E&&(C[a++]=C[x++],E>1&&(C[a++]=C[x++]))}break}}break}}while(s>o&&c>a);E=m>>3,o-=E,m-=E<<3,_&=(1<<m)-1,t.next_in=o,t.next_out=a,t.avail_in=s>o?5+(s-o):5-(o-s),t.avail_out=c>a?257+(c-a):257-(a-c),r.hold=_,r.bits=m}},{}],70:[function(t,e,r){"use strict";function n(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new v.Buf16(320),this.work=new v.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=F,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new v.Buf32(_e),e.distcode=e.distdyn=new v.Buf32(me),e.sane=1,e.back=-1,R):A}function s(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,o(t)):A}function a(t,e){var r,n;return t&&t.state?(n=t.state,0>e?(r=0,e=-e):(r=(e>>4)+1,48>e&&(e&=15)),e&&(8>e||e>15)?A:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,s(t))):A}function u(t,e){var r,n;return t?(n=new i,t.state=n,n.window=null,r=a(t,e),r!==R&&(t.state=null),r):A}function c(t){return u(t,ve)}function h(t){if(ye){var e;for(m=new v.Buf32(512),g=new v.Buf32(32),e=0;144>e;)t.lens[e++]=8;for(;256>e;)t.lens[e++]=9;for(;280>e;)t.lens[e++]=7;for(;288>e;)t.lens[e++]=8;for(k(S,t.lens,0,288,m,0,t.work,{bits:9}),e=0;32>e;)t.lens[e++]=5;k(x,t.lens,0,32,g,0,t.work,{bits:5}),ye=!1}t.lencode=m,t.lenbits=9,t.distcode=g,t.distbits=5}function l(t,e,r,n){var i,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new v.Buf8(o.wsize)),n>=o.wsize?(v.arraySet(o.window,e,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),v.arraySet(o.window,e,r-n,i,o.wnext),n-=i,n?(v.arraySet(o.window,e,r-n,n,0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function f(t,e){var r,i,o,s,a,u,c,f,d,p,_,m,g,_e,me,ge,ve,ye,be,we,ke,Ee,Se,xe,Te=0,Pe=new v.Buf8(4),Ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return A;r=t.state,r.mode===q&&(r.mode=Y),a=t.next_out,o=t.output,c=t.avail_out,s=t.next_in,i=t.input,u=t.avail_in,f=r.hold,d=r.bits,p=u,_=c,Ee=R;t:for(;;)switch(r.mode){case F:if(0===r.wrap){r.mode=Y;break}for(;16>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}if(2&r.wrap&&35615===f){r.check=0,Pe[0]=255&f,Pe[1]=f>>>8&255,r.check=b(r.check,Pe,2,0),f=0,d=0,r.mode=N;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&f)<<8)+(f>>8))%31){t.msg="incorrect header check",r.mode=fe;break}if((15&f)!==B){t.msg="unknown compression method",r.mode=fe;break}if(f>>>=4,d-=4,ke=(15&f)+8,0===r.wbits)r.wbits=ke;else if(ke>r.wbits){t.msg="invalid window size",r.mode=fe;break}r.dmax=1<<ke,t.adler=r.check=1,r.mode=512&f?Z:q,f=0,d=0;break;case N:for(;16>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}if(r.flags=f,(255&r.flags)!==B){t.msg="unknown compression method",r.mode=fe;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=fe;break}r.head&&(r.head.text=f>>8&1),512&r.flags&&(Pe[0]=255&f,Pe[1]=f>>>8&255,r.check=b(r.check,Pe,2,0)),f=0,d=0,r.mode=U;case U:for(;32>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}r.head&&(r.head.time=f),512&r.flags&&(Pe[0]=255&f,Pe[1]=f>>>8&255,Pe[2]=f>>>16&255,Pe[3]=f>>>24&255,r.check=b(r.check,Pe,4,0)),f=0,d=0,r.mode=M;case M:for(;16>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}r.head&&(r.head.xflags=255&f,r.head.os=f>>8),512&r.flags&&(Pe[0]=255&f,Pe[1]=f>>>8&255,r.check=b(r.check,Pe,2,0)),f=0,d=0,r.mode=j;case j:if(1024&r.flags){for(;16>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}r.length=f,r.head&&(r.head.extra_len=f),512&r.flags&&(Pe[0]=255&f,Pe[1]=f>>>8&255,r.check=b(r.check,Pe,2,0)),f=0,d=0}else r.head&&(r.head.extra=null);r.mode=$;case $:if(1024&r.flags&&(m=r.length,m>u&&(m=u),m&&(r.head&&(ke=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),v.arraySet(r.head.extra,i,s,m,ke)),512&r.flags&&(r.check=b(r.check,i,m,s)),u-=m,s+=m,r.length-=m),r.length))break t;r.length=0,r.mode=W;case W:if(2048&r.flags){if(0===u)break t;m=0;do ke=i[s+m++],r.head&&ke&&r.length<65536&&(r.head.name+=String.fromCharCode(ke));while(ke&&u>m);if(512&r.flags&&(r.check=b(r.check,i,m,s)),u-=m,s+=m,ke)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=V;case V:if(4096&r.flags){if(0===u)break t;m=0;do ke=i[s+m++],r.head&&ke&&r.length<65536&&(r.head.comment+=String.fromCharCode(ke));while(ke&&u>m);if(512&r.flags&&(r.check=b(r.check,i,m,s)),u-=m,s+=m,ke)break t}else r.head&&(r.head.comment=null);r.mode=G;case G:if(512&r.flags){for(;16>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}if(f!==(65535&r.check)){t.msg="header crc mismatch",r.mode=fe;break}f=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=q;break;case Z:for(;32>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}t.adler=r.check=n(f),f=0,d=0,r.mode=H;case H:if(0===r.havedict)return t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=u,r.hold=f,r.bits=d,I;t.adler=r.check=1,r.mode=q;case q:if(e===P||e===C)break t;case Y:if(r.last){f>>>=7&d,d-=7&d,r.mode=ce;break}for(;3>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}switch(r.last=1&f,f>>>=1,d-=1,3&f){case 0:r.mode=X;break;case 1:if(h(r),r.mode=re,e===C){f>>>=2,d-=2;break t}break;case 2:r.mode=J;break;case 3:t.msg="invalid block type",r.mode=fe}f>>>=2,d-=2;break;case X:for(f>>>=7&d,d-=7&d;32>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}if((65535&f)!==(f>>>16^65535)){t.msg="invalid stored block lengths",r.mode=fe;break}if(r.length=65535&f,f=0,d=0,r.mode=K,e===C)break t;case K:r.mode=Q;case Q:if(m=r.length){if(m>u&&(m=u),m>c&&(m=c),0===m)break t;v.arraySet(o,i,s,m,a),u-=m,s+=m,c-=m,a+=m,r.length-=m;break}r.mode=q;break;case J:for(;14>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}if(r.nlen=(31&f)+257,f>>>=5,d-=5,r.ndist=(31&f)+1,f>>>=5,d-=5,r.ncode=(15&f)+4,f>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=fe;break}r.have=0,r.mode=te;case te:for(;r.have<r.ncode;){for(;3>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}r.lens[Ce[r.have++]]=7&f,f>>>=3,d-=3}for(;r.have<19;)r.lens[Ce[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,Se={bits:r.lenbits},Ee=k(E,r.lens,0,19,r.lencode,0,r.work,Se),r.lenbits=Se.bits,Ee){t.msg="invalid code lengths set",r.mode=fe;break}r.have=0,r.mode=ee;case ee:for(;r.have<r.nlen+r.ndist;){for(;Te=r.lencode[f&(1<<r.lenbits)-1],me=Te>>>24,ge=Te>>>16&255,ve=65535&Te,!(d>=me);){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}if(16>ve)f>>>=me,d-=me,r.lens[r.have++]=ve;else{if(16===ve){for(xe=me+2;xe>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}if(f>>>=me,d-=me,0===r.have){t.msg="invalid bit length repeat",r.mode=fe;break}ke=r.lens[r.have-1],m=3+(3&f),f>>>=2,d-=2}else if(17===ve){for(xe=me+3;xe>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}f>>>=me,d-=me,ke=0,m=3+(7&f),f>>>=3,d-=3}else{for(xe=me+7;xe>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}f>>>=me,d-=me,ke=0,m=11+(127&f),f>>>=7,d-=7}if(r.have+m>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=fe;break}for(;m--;)r.lens[r.have++]=ke}}if(r.mode===fe)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=fe;break}if(r.lenbits=9,Se={bits:r.lenbits},Ee=k(S,r.lens,0,r.nlen,r.lencode,0,r.work,Se),r.lenbits=Se.bits,Ee){t.msg="invalid literal/lengths set",r.mode=fe;break}if(r.distbits=6,r.distcode=r.distdyn,Se={bits:r.distbits},Ee=k(x,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,Se),r.distbits=Se.bits,Ee){t.msg="invalid distances set",r.mode=fe;break}if(r.mode=re,e===C)break t;case re:r.mode=ne;case ne:if(u>=6&&c>=258){t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=u,r.hold=f,r.bits=d,w(t,_),a=t.next_out,o=t.output,c=t.avail_out,s=t.next_in,i=t.input,u=t.avail_in,f=r.hold,d=r.bits,r.mode===q&&(r.back=-1);break}for(r.back=0;Te=r.lencode[f&(1<<r.lenbits)-1],me=Te>>>24,ge=Te>>>16&255,ve=65535&Te,!(d>=me);){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}if(ge&&0===(240&ge)){for(ye=me,be=ge,we=ve;Te=r.lencode[we+((f&(1<<ye+be)-1)>>ye)],me=Te>>>24,ge=Te>>>16&255,ve=65535&Te,!(d>=ye+me);){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}f>>>=ye,d-=ye,r.back+=ye}if(f>>>=me,d-=me,r.back+=me,r.length=ve,0===ge){r.mode=ue;break}if(32&ge){r.back=-1,r.mode=q;break}if(64&ge){t.msg="invalid literal/length code",r.mode=fe;break}r.extra=15&ge,r.mode=ie;case ie:if(r.extra){for(xe=r.extra;xe>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=oe;case oe:for(;Te=r.distcode[f&(1<<r.distbits)-1],me=Te>>>24,ge=Te>>>16&255,ve=65535&Te,!(d>=me);){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}if(0===(240&ge)){for(ye=me,be=ge,we=ve;Te=r.distcode[we+((f&(1<<ye+be)-1)>>ye)],me=Te>>>24,ge=Te>>>16&255,ve=65535&Te,!(d>=ye+me);){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}f>>>=ye,d-=ye,r.back+=ye}if(f>>>=me,d-=me,r.back+=me,64&ge){t.msg="invalid distance code",r.mode=fe;break}r.offset=ve,r.extra=15&ge,r.mode=se;case se:if(r.extra){for(xe=r.extra;xe>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=fe;break}r.mode=ae;case ae:if(0===c)break t;if(m=_-c,r.offset>m){if(m=r.offset-m,m>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=fe;break}m>r.wnext?(m-=r.wnext,g=r.wsize-m):g=r.wnext-m,m>r.length&&(m=r.length),_e=r.window}else _e=o,g=a-r.offset,m=r.length;m>c&&(m=c),c-=m,r.length-=m;do o[a++]=_e[g++];while(--m);0===r.length&&(r.mode=ne);break;case ue:if(0===c)break t;o[a++]=r.length,c--,r.mode=ne;break;case ce:if(r.wrap){for(;32>d;){if(0===u)break t;u--,f|=i[s++]<<d,d+=8}if(_-=c,t.total_out+=_,r.total+=_,_&&(t.adler=r.check=r.flags?b(r.check,o,_,a-_):y(r.check,o,_,a-_)),_=c,(r.flags?f:n(f))!==r.check){t.msg="incorrect data check",r.mode=fe;break}f=0,d=0}r.mode=he;case he:if(r.wrap&&r.flags){for(;32>d;){if(0===u)break t;u--,f+=i[s++]<<d,d+=8}if(f!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=fe;break}f=0,d=0}r.mode=le;case le:Ee=O;break t;case fe:Ee=z;break t;case de:return D;case pe:default:return A}return t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=u,r.hold=f,r.bits=d,(r.wsize||_!==t.avail_out&&r.mode<fe&&(r.mode<ce||e!==T))&&l(t,t.output,t.next_out,_-t.avail_out)?(r.mode=de,D):(p-=t.avail_in,_-=t.avail_out,t.total_in+=p,t.total_out+=_,r.total+=_,r.wrap&&_&&(t.adler=r.check=r.flags?b(r.check,o,_,t.next_out-_):y(r.check,o,_,t.next_out-_)),t.data_type=r.bits+(r.last?64:0)+(r.mode===q?128:0)+(r.mode===re||r.mode===K?256:0),(0===p&&0===_||e===T)&&Ee===R&&(Ee=L),Ee)}function d(t){if(!t||!t.state)return A;var e=t.state;return e.window&&(e.window=null),t.state=null,R}function p(t,e){var r;return t&&t.state?(r=t.state,0===(2&r.wrap)?A:(r.head=e,e.done=!1,R)):A}function _(t,e){var r,n,i,o=e.length;return t&&t.state?(r=t.state,0!==r.wrap&&r.mode!==H?A:r.mode===H&&(n=1,n=y(n,e,o,0),n!==r.check)?z:(i=l(t,e,o,o))?(r.mode=de,D):(r.havedict=1,R)):A}var m,g,v=t("../utils/common"),y=t("./adler32"),b=t("./crc32"),w=t("./inffast"),k=t("./inftrees"),E=0,S=1,x=2,T=4,P=5,C=6,R=0,O=1,I=2,A=-2,z=-3,D=-4,L=-5,B=8,F=1,N=2,U=3,M=4,j=5,$=6,W=7,V=8,G=9,Z=10,H=11,q=12,Y=13,X=14,K=15,Q=16,J=17,te=18,ee=19,re=20,ne=21,ie=22,oe=23,se=24,ae=25,ue=26,ce=27,he=28,le=29,fe=30,de=31,pe=32,_e=852,me=592,ge=15,ve=ge,ye=!0;r.inflateReset=s,r.inflateReset2=a,r.inflateResetKeep=o,r.inflateInit=c,r.inflateInit2=u,r.inflate=f,r.inflateEnd=d,r.inflateGetHeader=p,r.inflateSetDictionary=_,r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./inffast":69,"./inftrees":71}],71:[function(t,e,r){"use strict";var n=t("../utils/common"),i=15,o=852,s=592,a=0,u=1,c=2,h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,r,p,_,m,g,v){var y,b,w,k,E,S,x,T,P,C=v.bits,R=0,O=0,I=0,A=0,z=0,D=0,L=0,B=0,F=0,N=0,U=null,M=0,j=new n.Buf16(i+1),$=new n.Buf16(i+1),W=null,V=0;for(R=0;i>=R;R++)j[R]=0;for(O=0;p>O;O++)j[e[r+O]]++;for(z=C,A=i;A>=1&&0===j[A];A--);if(z>A&&(z=A),0===A)return _[m++]=20971520,_[m++]=20971520,v.bits=1,0;for(I=1;A>I&&0===j[I];I++);for(I>z&&(z=I),B=1,R=1;i>=R;R++)if(B<<=1,B-=j[R],0>B)return-1;if(B>0&&(t===a||1!==A))return-1;for($[1]=0,R=1;i>R;R++)$[R+1]=$[R]+j[R];for(O=0;p>O;O++)0!==e[r+O]&&(g[$[e[r+O]]++]=O);if(t===a?(U=W=g,S=19):t===u?(U=h,M-=257,W=l,V-=257,S=256):(U=f,W=d,S=-1),N=0,O=0,R=I,E=m,D=z,L=0,w=-1,F=1<<z,k=F-1,t===u&&F>o||t===c&&F>s)return 1;for(;;){x=R-L,g[O]<S?(T=0,P=g[O]):g[O]>S?(T=W[V+g[O]],P=U[M+g[O]]):(T=96,P=0),y=1<<R-L,b=1<<D,I=b;do b-=y,_[E+(N>>L)+b]=x<<24|T<<16|P|0;while(0!==b);for(y=1<<R-1;N&y;)y>>=1;if(0!==y?(N&=y-1,N+=y):N=0,O++,0===--j[R]){if(R===A)break;R=e[r+g[O]]}if(R>z&&(N&k)!==w){for(0===L&&(L=z),E+=I,D=R-L,B=1<<D;A>D+L&&(B-=j[D+L],!(0>=B));)D++,B<<=1;if(F+=1<<D,t===u&&F>o||t===c&&F>s)return 1;w=N&k,_[w]=z<<24|D<<16|E-m|0}}return 0!==N&&(_[E+N]=R-L<<24|64<<16|0),v.bits=z,0}},{"../utils/common":62}],72:[function(t,e,r){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],73:[function(t,e,r){"use strict";function n(t){for(var e=t.length;--e>=0;)t[e]=0}function i(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function o(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function s(t){return 256>t?ue[t]:ue[256+(t>>>7)]}function a(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function u(t,e,r){t.bi_valid>Y-r?(t.bi_buf|=e<<t.bi_valid&65535,a(t,t.bi_buf),t.bi_buf=e>>Y-t.bi_valid,t.bi_valid+=r-Y):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function c(t,e,r){u(t,r[2*e],r[2*e+1])}function h(t,e){var r=0;do r|=1&t,t>>>=1,r<<=1;while(--e>0);return r>>>1}function l(t){16===t.bi_valid?(a(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function f(t,e){var r,n,i,o,s,a,u=e.dyn_tree,c=e.max_code,h=e.stat_desc.static_tree,l=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,_=0;for(o=0;q>=o;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;H>r;r++)n=t.heap[r],o=u[2*u[2*n+1]+1]+1,o>p&&(o=p,_++),u[2*n+1]=o,n>c||(t.bl_count[o]++,s=0,n>=d&&(s=f[n-d]),a=u[2*n],t.opt_len+=a*(o+s),l&&(t.static_len+=a*(h[2*n+1]+s)));if(0!==_){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,_-=2}while(_>0);for(o=p;0!==o;o--)for(n=t.bl_count[o];0!==n;)i=t.heap[--r],i>c||(u[2*i+1]!==o&&(t.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),n--)}}function d(t,e,r){var n,i,o=new Array(q+1),s=0;for(n=1;q>=n;n++)o[n]=s=s+r[n-1]<<1;for(i=0;e>=i;i++){var a=t[2*i+1];0!==a&&(t[2*i]=h(o[a]++,a))}}function p(){var t,e,r,n,o,s=new Array(q+1);for(r=0,n=0;$-1>n;n++)for(he[n]=r,t=0;t<1<<ee[n];t++)ce[r++]=n;for(ce[r-1]=n,o=0,n=0;16>n;n++)for(le[n]=o,t=0;t<1<<re[n];t++)ue[o++]=n;for(o>>=7;G>n;n++)for(le[n]=o<<7,t=0;t<1<<re[n]-7;t++)ue[256+o++]=n;for(e=0;q>=e;e++)s[e]=0;for(t=0;143>=t;)se[2*t+1]=8,t++,s[8]++;for(;255>=t;)se[2*t+1]=9,t++,s[9]++;for(;279>=t;)se[2*t+1]=7,t++,s[7]++;for(;287>=t;)se[2*t+1]=8,t++,s[8]++;for(d(se,V+1,s),t=0;G>t;t++)ae[2*t+1]=5,ae[2*t]=h(t,5);fe=new i(se,ee,W+1,V,q),de=new i(ae,re,0,G,q),pe=new i(new Array(0),ne,0,Z,X)}function _(t){var e;for(e=0;V>e;e++)t.dyn_ltree[2*e]=0;for(e=0;G>e;e++)t.dyn_dtree[2*e]=0;for(e=0;Z>e;e++)t.bl_tree[2*e]=0;
t.dyn_ltree[2*K]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function m(t){t.bi_valid>8?a(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function g(t,e,r,n){m(t),n&&(a(t,r),a(t,~r)),A.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}function v(t,e,r,n){var i=2*e,o=2*r;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]}function y(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&v(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!v(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function b(t,e,r){var n,i,o,a,h=0;if(0!==t.last_lit)do n=t.pending_buf[t.d_buf+2*h]<<8|t.pending_buf[t.d_buf+2*h+1],i=t.pending_buf[t.l_buf+h],h++,0===n?c(t,i,e):(o=ce[i],c(t,o+W+1,e),a=ee[o],0!==a&&(i-=he[o],u(t,i,a)),n--,o=s(n),c(t,o,r),a=re[o],0!==a&&(n-=le[o],u(t,n,a)));while(h<t.last_lit);c(t,K,e)}function w(t,e){var r,n,i,o=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,u=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=H,r=0;u>r;r++)0!==o[2*r]?(t.heap[++t.heap_len]=c=r,t.depth[r]=0):o[2*r+1]=0;for(;t.heap_len<2;)i=t.heap[++t.heap_len]=2>c?++c:0,o[2*i]=1,t.depth[i]=0,t.opt_len--,a&&(t.static_len-=s[2*i+1]);for(e.max_code=c,r=t.heap_len>>1;r>=1;r--)y(t,o,r);i=u;do r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],y(t,o,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,o[2*i]=o[2*r]+o[2*n],t.depth[i]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,o[2*r+1]=o[2*n+1]=i,t.heap[1]=i++,y(t,o,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],f(t,e),d(o,c,t.bl_count)}function k(t,e,r){var n,i,o=-1,s=e[1],a=0,u=7,c=4;for(0===s&&(u=138,c=3),e[2*(r+1)+1]=65535,n=0;r>=n;n++)i=s,s=e[2*(n+1)+1],++a<u&&i===s||(c>a?t.bl_tree[2*i]+=a:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[2*Q]++):10>=a?t.bl_tree[2*J]++:t.bl_tree[2*te]++,a=0,o=i,0===s?(u=138,c=3):i===s?(u=6,c=3):(u=7,c=4))}function E(t,e,r){var n,i,o=-1,s=e[1],a=0,h=7,l=4;for(0===s&&(h=138,l=3),n=0;r>=n;n++)if(i=s,s=e[2*(n+1)+1],!(++a<h&&i===s)){if(l>a){do c(t,i,t.bl_tree);while(0!==--a)}else 0!==i?(i!==o&&(c(t,i,t.bl_tree),a--),c(t,Q,t.bl_tree),u(t,a-3,2)):10>=a?(c(t,J,t.bl_tree),u(t,a-3,3)):(c(t,te,t.bl_tree),u(t,a-11,7));a=0,o=i,0===s?(h=138,l=3):i===s?(h=6,l=3):(h=7,l=4)}}function S(t){var e;for(k(t,t.dyn_ltree,t.l_desc.max_code),k(t,t.dyn_dtree,t.d_desc.max_code),w(t,t.bl_desc),e=Z-1;e>=3&&0===t.bl_tree[2*ie[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function x(t,e,r,n){var i;for(u(t,e-257,5),u(t,r-1,5),u(t,n-4,4),i=0;n>i;i++)u(t,t.bl_tree[2*ie[i]+1],3);E(t,t.dyn_ltree,e-1),E(t,t.dyn_dtree,r-1)}function T(t){var e,r=4093624447;for(e=0;31>=e;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return D;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return L;for(e=32;W>e;e++)if(0!==t.dyn_ltree[2*e])return L;return D}function P(t){_e||(p(),_e=!0),t.l_desc=new o(t.dyn_ltree,fe),t.d_desc=new o(t.dyn_dtree,de),t.bl_desc=new o(t.bl_tree,pe),t.bi_buf=0,t.bi_valid=0,_(t)}function C(t,e,r,n){u(t,(F<<1)+(n?1:0),3),g(t,e,r,!0)}function R(t){u(t,N<<1,3),c(t,K,se),l(t)}function O(t,e,r,n){var i,o,s=0;t.level>0?(t.strm.data_type===B&&(t.strm.data_type=T(t)),w(t,t.l_desc),w(t,t.d_desc),s=S(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,i>=o&&(i=o)):i=o=r+5,i>=r+4&&-1!==e?C(t,e,r,n):t.strategy===z||o===i?(u(t,(N<<1)+(n?1:0),3),b(t,se,ae)):(u(t,(U<<1)+(n?1:0),3),x(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),b(t,t.dyn_ltree,t.dyn_dtree)),_(t),n&&m(t)}function I(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(ce[r]+W+1)]++,t.dyn_dtree[2*s(e)]++),t.last_lit===t.lit_bufsize-1}var A=t("../utils/common"),z=4,D=0,L=1,B=2,F=0,N=1,U=2,M=3,j=258,$=29,W=256,V=W+1+$,G=30,Z=19,H=2*V+1,q=15,Y=16,X=7,K=256,Q=16,J=17,te=18,ee=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],re=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ne=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=512,se=new Array(2*(V+2));n(se);var ae=new Array(2*G);n(ae);var ue=new Array(oe);n(ue);var ce=new Array(j-M+1);n(ce);var he=new Array($);n(he);var le=new Array(G);n(le);var fe,de,pe,_e=!1;r._tr_init=P,r._tr_stored_block=C,r._tr_flush_block=O,r._tr_tally=I,r._tr_align=R},{"../utils/common":62}],74:[function(t,e,r){"use strict";function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=n},{}]},{},[10])(10)});var saveAs=saveAs||function(t){"use strict";if(!("undefined"==typeof t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,r=function(){return t.URL||t.webkitURL||t},n=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in n,o=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},s=/constructor/i.test(t.HTMLElement)||t.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),u=t.setImmediate||t.setTimeout,c=function(t){u(function(){throw t},0)},h="application/octet-stream",l=4e4,f=function(t){var e=function(){"string"==typeof t?r().revokeObjectURL(t):t.remove()};setTimeout(e,l)},d=function(t,e,r){e=[].concat(e);for(var n=e.length;n--;){var i=t["on"+e[n]];if("function"==typeof i)try{i.call(t,r||t)}catch(o){c(o)}}},p=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},_=function(e,c,l){l||(e=p(e));var _,m=this,g=e.type,v=g===h,y=function(){d(m,"writestart progress write writeend".split(" "))},b=function(){if((a||v&&s)&&t.FileReader){var n=new FileReader;return n.onloadend=function(){var e=a?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;"),r=t.open(e,"_blank");r||(t.location.href=e),e=void 0,m.readyState=m.DONE,y()},n.readAsDataURL(e),void(m.readyState=m.INIT)}if(_||(_=r().createObjectURL(e)),v)t.location.href=_;else{var i=t.open(_,"_blank");i||(t.location.href=_)}m.readyState=m.DONE,y(),f(_)};return m.readyState=m.INIT,i?(_=r().createObjectURL(e),void u(function(){n.href=_,n.download=c,o(n),y(),f(_),m.readyState=m.DONE},0)):void b()},m=_.prototype,g=function(t,e,r){return new _(t,e||t.name||"download",r)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,r){return e=e||t.name||"download",r||(t=p(t)),navigator.msSaveOrOpenBlob(t,e)}:(m.abort=function(){},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,g)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this);